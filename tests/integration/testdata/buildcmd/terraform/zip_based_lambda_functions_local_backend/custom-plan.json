{"format_version":"1.1","terraform_version":"1.4.6","variables":{"HELLO_FUNCTION_SRC_CODE":{"value":"./artifacts/HelloWorldFunction"}},"planned_values":{"root_module":{"resources":[{"address":"aws_iam_role.iam_for_lambda","mode":"managed","type":"aws_iam_role","name":"iam_for_lambda","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"dummy_iam_role","path":"/","permissions_boundary":null,"tags":null},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[],"tags_all":{}}},{"address":"aws_lambda_function.from_localfile","mode":"managed","type":"aws_lambda_function","name":"from_localfile","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"code_signing_config_arn":null,"dead_letter_config":[],"description":null,"environment":[],"file_system_config":[],"filename":"./building/list_books.zip","function_name":"my_function_from_localfile","handler":"index.lambda_handler","image_config":[],"image_uri":null,"kms_key_arn":null,"layers":null,"memory_size":128,"package_type":"Zip","publish":false,"reserved_concurrent_executions":-1,"runtime":"python3.8","s3_bucket":null,"s3_key":null,"s3_object_version":null,"snap_start":[],"tags":null,"timeout":300,"timeouts":null,"vpc_config":[]},"sensitive_values":{"architectures":[],"dead_letter_config":[],"environment":[],"ephemeral_storage":[],"file_system_config":[],"image_config":[],"snap_start":[],"tags_all":{},"tracing_config":[],"vpc_config":[]}},{"address":"aws_lambda_function.from_s3","mode":"managed","type":"aws_lambda_function","name":"from_s3","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"code_signing_config_arn":null,"dead_letter_config":[],"description":null,"environment":[],"file_system_config":[],"filename":null,"function_name":"my_function_from_s3","handler":"index.lambda_handler","image_config":[],"image_uri":null,"kms_key_arn":null,"layers":null,"memory_size":128,"package_type":"Zip","publish":false,"reserved_concurrent_executions":-1,"runtime":"python3.8","s3_key":"s3_lambda_code","s3_object_version":null,"snap_start":[],"tags":null,"timeout":300,"timeouts":null,"vpc_config":[]},"sensitive_values":{"architectures":[],"dead_letter_config":[],"environment":[],"ephemeral_storage":[],"file_system_config":[],"image_config":[],"snap_start":[],"tags_all":{},"tracing_config":[],"vpc_config":[]}},{"address":"aws_lambda_function.function1","mode":"managed","type":"aws_lambda_function","name":"function1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"code_signing_config_arn":null,"dead_letter_config":[],"description":null,"environment":[],"file_system_config":[],"filename":"./building/hello_world.zip","function_name":"function1","handler":"app.lambda_handler","image_config":[],"image_uri":null,"kms_key_arn":null,"memory_size":128,"package_type":"Zip","publish":false,"reserved_concurrent_executions":-1,"runtime":"python3.8","s3_bucket":null,"s3_key":null,"s3_object_version":null,"snap_start":[],"tags":null,"timeout":300,"timeouts":null,"vpc_config":[]},"sensitive_values":{"architectures":[],"dead_letter_config":[],"environment":[],"ephemeral_storage":[],"file_system_config":[],"image_config":[],"layers":[],"snap_start":[],"tags_all":{},"tracing_config":[],"vpc_config":[]}},{"address":"aws_lambda_function.function3","mode":"managed","type":"aws_lambda_function","name":"function3","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"code_signing_config_arn":null,"dead_letter_config":[],"description":null,"environment":[],"file_system_config":[],"filename":null,"function_name":"function3","handler":"app.lambda_handler","image_config":[],"image_uri":null,"kms_key_arn":null,"memory_size":128,"package_type":"Zip","publish":false,"reserved_concurrent_executions":-1,"runtime":"python3.8","s3_key":"function3_code","s3_object_version":null,"snap_start":[],"tags":null,"timeout":300,"timeouts":null,"vpc_config":[]},"sensitive_values":{"architectures":[],"dead_letter_config":[],"environment":[],"ephemeral_storage":[],"file_system_config":[],"image_config":[],"layers":[],"snap_start":[],"tags_all":{},"tracing_config":[],"vpc_config":[]}},{"address":"aws_lambda_function.function4","mode":"managed","type":"aws_lambda_function","name":"function4","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"code_signing_config_arn":null,"dead_letter_config":[],"description":null,"environment":[],"file_system_config":[],"filename":null,"function_name":"function4","handler":"app.lambda_handler","image_config":[],"image_uri":null,"kms_key_arn":null,"memory_size":128,"package_type":"Zip","publish":false,"reserved_concurrent_executions":-1,"runtime":"python3.8","s3_bucket":"existing_s3_bucket_name","s3_key":"function4_code","s3_object_version":null,"snap_start":[],"tags":null,"timeout":300,"timeouts":null,"vpc_config":[]},"sensitive_values":{"architectures":[],"dead_letter_config":[],"environment":[],"ephemeral_storage":[],"file_system_config":[],"image_config":[],"layers":[],"snap_start":[],"tags_all":{},"tracing_config":[],"vpc_config":[]}},{"address":"aws_lambda_function.function5","mode":"managed","type":"aws_lambda_function","name":"function5","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"code_signing_config_arn":null,"dead_letter_config":[],"description":null,"environment":[],"file_system_config":[],"filename":null,"function_name":"function5","handler":"app.lambda_handler","image_config":[],"image_uri":null,"kms_key_arn":null,"memory_size":128,"package_type":"Zip","publish":false,"reserved_concurrent_executions":-1,"runtime":"python3.8","s3_bucket":"existing_s3_bucket_name","s3_key":"function5_code","s3_object_version":null,"snap_start":[],"tags":null,"timeout":300,"timeouts":null,"vpc_config":[]},"sensitive_values":{"architectures":[],"dead_letter_config":[],"environment":[],"ephemeral_storage":[],"file_system_config":[],"image_config":[],"layers":[],"snap_start":[],"tags_all":{},"tracing_config":[],"vpc_config":[]}},{"address":"aws_lambda_function.function6","mode":"managed","type":"aws_lambda_function","name":"function6","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"code_signing_config_arn":null,"dead_letter_config":[],"description":null,"environment":[],"file_system_config":[],"filename":"./building/hello_world.zip","function_name":"function6","handler":"app.lambda_handler","image_config":[],"image_uri":null,"kms_key_arn":null,"memory_size":128,"package_type":"Zip","publish":false,"reserved_concurrent_executions":-1,"runtime":"python3.8","s3_bucket":null,"s3_key":null,"s3_object_version":null,"snap_start":[],"tags":null,"timeout":300,"timeouts":null,"vpc_config":[]},"sensitive_values":{"architectures":[],"dead_letter_config":[],"environment":[],"ephemeral_storage":[],"file_system_config":[],"image_config":[],"layers":[],"snap_start":[],"tags_all":{},"tracing_config":[],"vpc_config":[]}},{"address":"aws_lambda_layer_version.from_local","mode":"managed","type":"aws_lambda_layer_version","name":"from_local","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"compatible_architectures":null,"compatible_runtimes":["python3.8","python3.9"],"description":null,"filename":"./building/my_layer.zip","layer_name":"my_layer","license_info":null,"s3_bucket":null,"s3_key":null,"s3_object_version":null,"skip_destroy":false},"sensitive_values":{"compatible_runtimes":[false,false]}},{"address":"aws_lambda_layer_version.layer1[0]","mode":"managed","type":"aws_lambda_layer_version","name":"layer1","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"compatible_architectures":null,"compatible_runtimes":["python3.8"],"description":null,"filename":"./building/layer1.zip","layer_name":"lambda_layer1","license_info":null,"s3_bucket":null,"s3_key":null,"s3_object_version":null,"skip_destroy":false},"sensitive_values":{"compatible_runtimes":[false]}},{"address":"aws_lambda_layer_version.layer3[\"my_idx\"]","mode":"managed","type":"aws_lambda_layer_version","name":"layer3","index":"my_idx","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"compatible_architectures":null,"compatible_runtimes":["python3.8"],"description":null,"filename":null,"layer_name":"lambda_layer3","license_info":null,"s3_key":"layer3_code","s3_object_version":null,"skip_destroy":false},"sensitive_values":{"compatible_runtimes":[false]}},{"address":"aws_lambda_layer_version.layer4","mode":"managed","type":"aws_lambda_layer_version","name":"layer4","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"compatible_architectures":null,"compatible_runtimes":["python3.8"],"description":null,"filename":null,"layer_name":"lambda_layer4","license_info":null,"s3_bucket":"existing_s3_bucket_name","s3_key":"layer4_code","s3_object_version":null,"skip_destroy":false},"sensitive_values":{"compatible_runtimes":[false]}},{"address":"aws_lambda_layer_version.layer5","mode":"managed","type":"aws_lambda_layer_version","name":"layer5","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"compatible_architectures":null,"compatible_runtimes":["python3.8"],"description":null,"filename":null,"layer_name":"lambda_layer5","license_info":null,"s3_bucket":"existing_s3_bucket_name","s3_key":"layer5_code","s3_object_version":null,"skip_destroy":false},"sensitive_values":{"compatible_runtimes":[false]}},{"address":"aws_lambda_layer_version.layer6","mode":"managed","type":"aws_lambda_layer_version","name":"layer6","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"compatible_architectures":null,"compatible_runtimes":["python3.8"],"description":null,"filename":"./building/layer6.zip","layer_name":"lambda_layer6","license_info":null,"s3_bucket":null,"s3_key":null,"s3_object_version":null,"skip_destroy":false},"sensitive_values":{"compatible_runtimes":[false]}},{"address":"aws_s3_bucket.lambda_code_bucket","mode":"managed","type":"aws_s3_bucket","name":"lambda_code_bucket","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"bucket_prefix":null,"force_destroy":false,"tags":null,"timeouts":null},"sensitive_values":{"cors_rule":[],"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"server_side_encryption_configuration":[],"tags_all":{},"versioning":[],"website":[]}},{"address":"aws_s3_object.function3_code","mode":"managed","type":"aws_s3_object","name":"function3_code","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"acl":"private","cache_control":null,"content":null,"content_base64":null,"content_disposition":null,"content_encoding":null,"content_language":null,"force_destroy":false,"key":"function3_code","metadata":null,"object_lock_legal_hold_status":null,"object_lock_mode":null,"object_lock_retain_until_date":null,"source":"./building/hello_world.zip","source_hash":null,"tags":null,"website_redirect":null},"sensitive_values":{"tags_all":{}}},{"address":"aws_s3_object.function4_code","mode":"managed","type":"aws_s3_object","name":"function4_code","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"acl":"private","bucket":"existing_s3_bucket_name","cache_control":null,"content":null,"content_base64":null,"content_disposition":null,"content_encoding":null,"content_language":null,"force_destroy":false,"key":"function4_code","metadata":null,"object_lock_legal_hold_status":null,"object_lock_mode":null,"object_lock_retain_until_date":null,"source":"./building/hello_world.zip","source_hash":null,"tags":null,"website_redirect":null},"sensitive_values":{"tags_all":{}}},{"address":"aws_s3_object.function5_code","mode":"managed","type":"aws_s3_object","name":"function5_code","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"acl":"private","bucket":"existing_s3_bucket_name","cache_control":null,"content":null,"content_base64":null,"content_disposition":null,"content_encoding":null,"content_language":null,"force_destroy":false,"key":"function5_code","metadata":null,"object_lock_legal_hold_status":null,"object_lock_mode":null,"object_lock_retain_until_date":null,"source":"./building/hello_world.zip","source_hash":null,"tags":null,"website_redirect":null},"sensitive_values":{"tags_all":{}}},{"address":"aws_s3_object.layer3_code","mode":"managed","type":"aws_s3_object","name":"layer3_code","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"acl":"private","cache_control":null,"content":null,"content_base64":null,"content_disposition":null,"content_encoding":null,"content_language":null,"force_destroy":false,"key":"layer3_code","metadata":null,"object_lock_legal_hold_status":null,"object_lock_mode":null,"object_lock_retain_until_date":null,"source":"./building/layer3.zip","source_hash":null,"tags":null,"website_redirect":null},"sensitive_values":{"tags_all":{}}},{"address":"aws_s3_object.layer4_code","mode":"managed","type":"aws_s3_object","name":"layer4_code","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"acl":"private","bucket":"existing_s3_bucket_name","cache_control":null,"content":null,"content_base64":null,"content_disposition":null,"content_encoding":null,"content_language":null,"force_destroy":false,"key":"layer4_code","metadata":null,"object_lock_legal_hold_status":null,"object_lock_mode":null,"object_lock_retain_until_date":null,"source":"./building/layer4.zip","source_hash":null,"tags":null,"website_redirect":null},"sensitive_values":{"tags_all":{}}},{"address":"aws_s3_object.layer5_code","mode":"managed","type":"aws_s3_object","name":"layer5_code","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"acl":"private","bucket":"existing_s3_bucket_name","cache_control":null,"content":null,"content_base64":null,"content_disposition":null,"content_encoding":null,"content_language":null,"force_destroy":false,"key":"layer5_code","metadata":null,"object_lock_legal_hold_status":null,"object_lock_mode":null,"object_lock_retain_until_date":null,"source":"./building/layer5.zip","source_hash":null,"tags":null,"website_redirect":null},"sensitive_values":{"tags_all":{}}},{"address":"aws_s3_object.s3_lambda_code","mode":"managed","type":"aws_s3_object","name":"s3_lambda_code","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"acl":"private","cache_control":null,"content":null,"content_base64":null,"content_disposition":null,"content_encoding":null,"content_language":null,"force_destroy":false,"key":"s3_lambda_code","metadata":null,"object_lock_legal_hold_status":null,"object_lock_mode":null,"object_lock_retain_until_date":null,"source":"./building/list_books.zip","source_hash":null,"tags":null,"website_redirect":null},"sensitive_values":{"tags_all":{}}},{"address":"null_resource.build_hello_world_lambda_function","mode":"managed","type":"null_resource","name":"build_hello_world_lambda_function","provider_name":"registry.terraform.io/hashicorp/null","schema_version":0,"values":{"triggers":{}},"sensitive_values":{"triggers":{}}},{"address":"null_resource.build_lambda_function","mode":"managed","type":"null_resource","name":"build_lambda_function","provider_name":"registry.terraform.io/hashicorp/null","schema_version":0,"values":{"triggers":{}},"sensitive_values":{"triggers":{}}},{"address":"null_resource.build_layer1_version","mode":"managed","type":"null_resource","name":"build_layer1_version","provider_name":"registry.terraform.io/hashicorp/null","schema_version":0,"values":{"triggers":{}},"sensitive_values":{"triggers":{}}},{"address":"null_resource.build_layer2_version","mode":"managed","type":"null_resource","name":"build_layer2_version","provider_name":"registry.terraform.io/hashicorp/null","schema_version":0,"values":{"triggers":{}},"sensitive_values":{"triggers":{}}},{"address":"null_resource.build_layer3_version","mode":"managed","type":"null_resource","name":"build_layer3_version","provider_name":"registry.terraform.io/hashicorp/null","schema_version":0,"values":{"triggers":{}},"sensitive_values":{"triggers":{}}},{"address":"null_resource.build_layer4_version","mode":"managed","type":"null_resource","name":"build_layer4_version","provider_name":"registry.terraform.io/hashicorp/null","schema_version":0,"values":{"triggers":{}},"sensitive_values":{"triggers":{}}},{"address":"null_resource.build_layer5_version","mode":"managed","type":"null_resource","name":"build_layer5_version","provider_name":"registry.terraform.io/hashicorp/null","schema_version":0,"values":{"triggers":{}},"sensitive_values":{"triggers":{}}},{"address":"null_resource.build_layer6_version","mode":"managed","type":"null_resource","name":"build_layer6_version","provider_name":"registry.terraform.io/hashicorp/null","schema_version":0,"values":{"triggers":{}},"sensitive_values":{"triggers":{}}},{"address":"null_resource.build_layer9_version","mode":"managed","type":"null_resource","name":"build_layer9_version","provider_name":"registry.terraform.io/hashicorp/null","schema_version":0,"values":{"triggers":{}},"sensitive_values":{"triggers":{}}},{"address":"null_resource.build_layer_version","mode":"managed","type":"null_resource","name":"build_layer_version","provider_name":"registry.terraform.io/hashicorp/null","schema_version":0,"values":{"triggers":{}},"sensitive_values":{"triggers":{}}},{"address":"null_resource.sam_metadata_aws_lambda_function1","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_function1","provider_name":"registry.terraform.io/hashicorp/null","schema_version":0,"values":{"triggers":{"built_output_path":"./building/hello_world.zip","original_source_code":"./artifacts/HelloWorldFunction","resource_name":"aws_lambda_function.function1","resource_type":"ZIP_LAMBDA_FUNCTION"}},"sensitive_values":{"triggers":{}}},{"address":"null_resource.sam_metadata_aws_lambda_function2","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_function2","provider_name":"registry.terraform.io/hashicorp/null","schema_version":0,"values":{"triggers":{"built_output_path":"./building/hello_world.zip","original_source_code":"./artifacts/HelloWorldFunction","resource_name":"module.function2.aws_lambda_function.this","resource_type":"ZIP_LAMBDA_FUNCTION"}},"sensitive_values":{"triggers":{}}},{"address":"null_resource.sam_metadata_aws_lambda_function3","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_function3","provider_name":"registry.terraform.io/hashicorp/null","schema_version":0,"values":{"triggers":{"built_output_path":"./building/hello_world.zip","original_source_code":"./artifacts/HelloWorldFunction","resource_name":"aws_lambda_function.function3","resource_type":"ZIP_LAMBDA_FUNCTION"}},"sensitive_values":{"triggers":{}}},{"address":"null_resource.sam_metadata_aws_lambda_function4","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_function4","provider_name":"registry.terraform.io/hashicorp/null","schema_version":0,"values":{"triggers":{"built_output_path":"./building/hello_world.zip","original_source_code":"./artifacts/HelloWorldFunction","resource_name":"aws_lambda_function.function4","resource_type":"ZIP_LAMBDA_FUNCTION"}},"sensitive_values":{"triggers":{}}},{"address":"null_resource.sam_metadata_aws_lambda_function5","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_function5","provider_name":"registry.terraform.io/hashicorp/null","schema_version":0,"values":{"triggers":{"built_output_path":"./building/hello_world.zip","original_source_code":"./artifacts/HelloWorldFunction","resource_type":"ZIP_LAMBDA_FUNCTION"}},"sensitive_values":{"triggers":{}}},{"address":"null_resource.sam_metadata_aws_lambda_function6","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_function6","provider_name":"registry.terraform.io/hashicorp/null","schema_version":0,"values":{"triggers":{"built_output_path":"./building/hello_world.zip","original_source_code":"./artifacts/HelloWorldFunction","resource_type":"ZIP_LAMBDA_FUNCTION"}},"sensitive_values":{"triggers":{}}},{"address":"null_resource.sam_metadata_aws_lambda_function9","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_function9","provider_name":"registry.terraform.io/hashicorp/null","schema_version":0,"values":{"triggers":{"built_output_path":"./building/hello_world.zip","original_source_code":"./artifacts/HelloWorldFunction","resource_name":"module.function9.aws_lambda_function.this[0]","resource_type":"ZIP_LAMBDA_FUNCTION"}},"sensitive_values":{"triggers":{}}},{"address":"null_resource.sam_metadata_aws_lambda_function_from_localfile","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_function_from_localfile","provider_name":"registry.terraform.io/hashicorp/null","schema_version":0,"values":{"triggers":{"built_output_path":"./building/list_books.zip","original_source_code":"./src/list_books","resource_name":"aws_lambda_function.from_localfile","resource_type":"ZIP_LAMBDA_FUNCTION"}},"sensitive_values":{"triggers":{}}},{"address":"null_resource.sam_metadata_aws_lambda_function_from_s3","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_function_from_s3","provider_name":"registry.terraform.io/hashicorp/null","schema_version":0,"values":{"triggers":{"built_output_path":"./building/list_books.zip","original_source_code":"./src/list_books","resource_name":"aws_lambda_function.from_s3","resource_type":"ZIP_LAMBDA_FUNCTION"}},"sensitive_values":{"triggers":{}}},{"address":"null_resource.sam_metadata_aws_lambda_function_level1_lambda","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_function_level1_lambda","provider_name":"registry.terraform.io/hashicorp/null","schema_version":0,"values":{"triggers":{"built_output_path":"./building/list_books.zip","original_source_code":"./src/list_books","resource_name":"module.level1_lambda.aws_lambda_function.this","resource_type":"ZIP_LAMBDA_FUNCTION"}},"sensitive_values":{"triggers":{}}},{"address":"null_resource.sam_metadata_aws_lambda_function_level2_lambda","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_function_level2_lambda","provider_name":"registry.terraform.io/hashicorp/null","schema_version":0,"values":{"triggers":{"built_output_path":"./building/list_books.zip","original_source_code":"./src/list_books","resource_name":"module.level1_lambda.module.level2_lambda.aws_lambda_function.this","resource_type":"ZIP_LAMBDA_FUNCTION"}},"sensitive_values":{"triggers":{}}},{"address":"null_resource.sam_metadata_aws_lambda_layer_version_from_local","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_layer_version_from_local","provider_name":"registry.terraform.io/hashicorp/null","schema_version":0,"values":{"triggers":{"built_output_path":"./building/my_layer.zip","original_source_code":"./my_layer_code","resource_name":"aws_lambda_layer_version.from_local","resource_type":"LAMBDA_LAYER","source_code_property":"path"}},"sensitive_values":{"triggers":{}}},{"address":"null_resource.sam_metadata_aws_lambda_layer_version_layer1","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_layer_version_layer1","provider_name":"registry.terraform.io/hashicorp/null","schema_version":0,"values":{"triggers":{"built_output_path":"./building/layer1.zip","original_source_code":"./artifacts/layer1","resource_name":"aws_lambda_layer_version.layer1[0]","resource_type":"LAMBDA_LAYER"}},"sensitive_values":{"triggers":{}}},{"address":"null_resource.sam_metadata_aws_lambda_layer_version_layer2","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_layer_version_layer2","provider_name":"registry.terraform.io/hashicorp/null","schema_version":0,"values":{"triggers":{"built_output_path":"./building/layer2.zip","original_source_code":"./artifacts/layer2","resource_name":"module.layer2.aws_lambda_layer_version.layer","resource_type":"LAMBDA_LAYER"}},"sensitive_values":{"triggers":{}}},{"address":"null_resource.sam_metadata_aws_lambda_layer_version_layer3","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_layer_version_layer3","provider_name":"registry.terraform.io/hashicorp/null","schema_version":0,"values":{"triggers":{"built_output_path":"./building/layer3.zip","original_source_code":"./artifacts/layer3","resource_name":"aws_lambda_layer_version.layer3[\"my_idx\"]","resource_type":"LAMBDA_LAYER"}},"sensitive_values":{"triggers":{}}},{"address":"null_resource.sam_metadata_aws_lambda_layer_version_layer4","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_layer_version_layer4","provider_name":"registry.terraform.io/hashicorp/null","schema_version":0,"values":{"triggers":{"built_output_path":"./building/layer4.zip","original_source_code":"./artifacts/layer4","resource_name":"aws_lambda_layer_version.layer4","resource_type":"LAMBDA_LAYER"}},"sensitive_values":{"triggers":{}}},{"address":"null_resource.sam_metadata_aws_lambda_layer_version_layer5","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_layer_version_layer5","provider_name":"registry.terraform.io/hashicorp/null","schema_version":0,"values":{"triggers":{"built_output_path":"./building/layer5.zip","original_source_code":"./artifacts/layer5","resource_type":"LAMBDA_LAYER"}},"sensitive_values":{"triggers":{}}},{"address":"null_resource.sam_metadata_aws_lambda_layer_version_layer6","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_layer_version_layer6","provider_name":"registry.terraform.io/hashicorp/null","schema_version":0,"values":{"triggers":{"built_output_path":"./building/layer6.zip","original_source_code":"./artifacts/layer6","resource_type":"LAMBDA_LAYER"}},"sensitive_values":{"triggers":{}}},{"address":"null_resource.sam_metadata_aws_lambda_layer_version_layer9","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_layer_version_layer9","provider_name":"registry.terraform.io/hashicorp/null","schema_version":0,"values":{"triggers":{"built_output_path":"./building/layer9.zip","original_source_code":"./artifacts/layer1","resource_name":"module.layer9.aws_lambda_layer_version.this[0]","resource_type":"LAMBDA_LAYER"}},"sensitive_values":{"triggers":{}}},{"address":"random_uuid.s3_bucket","mode":"managed","type":"random_uuid","name":"s3_bucket","provider_name":"registry.terraform.io/hashicorp/random","schema_version":0,"values":{"keepers":{"my_key":"my_key"}},"sensitive_values":{"keepers":{}}}],"child_modules":[{"resources":[{"address":"module.function10.aws_cloudwatch_log_group.lambda[0]","mode":"managed","type":"aws_cloudwatch_log_group","name":"lambda","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"kms_key_id":null,"name":"/aws/lambda/function10","retention_in_days":0,"skip_destroy":false,"tags":null},"sensitive_values":{"tags_all":{}}},{"address":"module.function10.aws_iam_policy.logs[0]","mode":"managed","type":"aws_iam_policy","name":"logs","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":null,"name":"function10-logs","name_prefix":null,"path":"/","tags":null},"sensitive_values":{"tags_all":{}}},{"address":"module.function10.aws_iam_role.lambda[0]","mode":"managed","type":"aws_iam_role","name":"lambda","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":true,"max_session_duration":3600,"name":"function10","path":"/","permissions_boundary":null,"tags":null},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[],"tags_all":{}}},{"address":"module.function10.aws_iam_role_policy_attachment.logs[0]","mode":"managed","type":"aws_iam_role_policy_attachment","name":"logs","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"role":"function10"},"sensitive_values":{}},{"address":"module.function10.aws_lambda_function.this[0]","mode":"managed","type":"aws_lambda_function","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"code_signing_config_arn":null,"dead_letter_config":[],"description":"","environment":[],"ephemeral_storage":[{"size":512}],"file_system_config":[],"filename":null,"function_name":"function10","handler":"app.lambda_handler","image_config":[],"image_uri":null,"kms_key_arn":null,"memory_size":128,"package_type":"Zip","publish":false,"reserved_concurrent_executions":-1,"runtime":"python3.8","s3_key":"builds/a014687779c3df120f209a19150b2681839be9f0fad8f1a90ae0cf633a294938.zip","snap_start":[],"tags":null,"timeout":300,"timeouts":null,"vpc_config":[]},"sensitive_values":{"architectures":[],"dead_letter_config":[],"environment":[],"ephemeral_storage":[{}],"file_system_config":[],"image_config":[],"layers":[],"snap_start":[],"tags_all":{},"tracing_config":[],"vpc_config":[]}},{"address":"module.function10.aws_s3_object.lambda_package[0]","mode":"managed","type":"aws_s3_object","name":"lambda_package","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"acl":"private","cache_control":null,"content":null,"content_base64":null,"content_disposition":null,"content_encoding":null,"content_language":null,"force_destroy":false,"key":"builds/a014687779c3df120f209a19150b2681839be9f0fad8f1a90ae0cf633a294938.zip","metadata":null,"object_lock_legal_hold_status":null,"object_lock_mode":null,"object_lock_retain_until_date":null,"source":"builds/a014687779c3df120f209a19150b2681839be9f0fad8f1a90ae0cf633a294938.zip","source_hash":null,"storage_class":"ONEZONE_IA","tags":null,"website_redirect":null},"sensitive_values":{"tags_all":{}}},{"address":"module.function10.data.aws_iam_policy_document.logs[0]","mode":"data","type":"aws_iam_policy_document","name":"logs","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["logs:CreateLogGroup","logs:CreateLogStream","logs:PutLogEvents"],"condition":[],"effect":"Allow","not_actions":null,"not_principals":[],"not_resources":null,"principals":[],"sid":null}],"version":null},"sensitive_values":{"statement":[{"actions":[false,false,false],"condition":[],"not_principals":[],"principals":[],"resources":[]}]}},{"address":"module.function10.local_file.archive_plan[0]","mode":"managed","type":"local_file","name":"archive_plan","index":0,"provider_name":"registry.terraform.io/hashicorp/local","schema_version":0,"values":{"content":"{\"filename\": \"builds/a014687779c3df120f209a19150b2681839be9f0fad8f1a90ae0cf633a294938.zip\", \"runtime\": \"python3.8\", \"artifacts_dir\": \"builds\", \"build_plan\": [[\"pip\", \"python3.8\", \"./artifacts/HelloWorldFunction/requirements.txt\", null, null], [\"zip\", \"./artifacts/HelloWorldFunction\", null]]}","content_base64":null,"directory_permission":"0755","file_permission":"0644","filename":"builds/a014687779c3df120f209a19150b2681839be9f0fad8f1a90ae0cf633a294938.plan.json","sensitive_content":null,"source":null},"sensitive_values":{}},{"address":"module.function10.null_resource.archive[0]","mode":"managed","type":"null_resource","name":"archive","index":0,"provider_name":"registry.terraform.io/hashicorp/null","schema_version":0,"values":{"triggers":{"filename":"builds/a014687779c3df120f209a19150b2681839be9f0fad8f1a90ae0cf633a294938.zip","timestamp":"1691706821275698000"}},"sensitive_values":{"triggers":{}}},{"address":"module.function10.null_resource.sam_metadata_aws_lambda_function[0]","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_function","index":0,"provider_name":"registry.terraform.io/hashicorp/null","schema_version":0,"values":{"triggers":{"built_output_path":"builds/a014687779c3df120f209a19150b2681839be9f0fad8f1a90ae0cf633a294938.zip","original_source_code":"\"./artifacts/HelloWorldFunction\"","resource_name":"aws_lambda_function.this[0]","resource_type":"ZIP_LAMBDA_FUNCTION","source_code_property":"path"}},"sensitive_values":{"triggers":{}}}],"address":"module.function10"},{"resources":[{"address":"module.function11.aws_cloudwatch_log_group.lambda[0]","mode":"managed","type":"aws_cloudwatch_log_group","name":"lambda","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"kms_key_id":null,"name":"/aws/lambda/function11","retention_in_days":0,"skip_destroy":false,"tags":null},"sensitive_values":{"tags_all":{}}},{"address":"module.function11.aws_iam_policy.logs[0]","mode":"managed","type":"aws_iam_policy","name":"logs","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":null,"name":"function11-logs","name_prefix":null,"path":"/","tags":null},"sensitive_values":{"tags_all":{}}},{"address":"module.function11.aws_iam_role.lambda[0]","mode":"managed","type":"aws_iam_role","name":"lambda","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":true,"max_session_duration":3600,"name":"function11","path":"/","permissions_boundary":null,"tags":null},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[],"tags_all":{}}},{"address":"module.function11.aws_iam_role_policy_attachment.logs[0]","mode":"managed","type":"aws_iam_role_policy_attachment","name":"logs","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"role":"function11"},"sensitive_values":{}},{"address":"module.function11.aws_lambda_function.this[0]","mode":"managed","type":"aws_lambda_function","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"code_signing_config_arn":null,"dead_letter_config":[],"description":"","environment":[],"ephemeral_storage":[{"size":512}],"file_system_config":[],"filename":"builds/1534f5f9022dec4d97d387c11fab33415f3dbac2c084c801de8488b94d2ab599.zip","function_name":"function11","handler":"app.lambda_handler","image_config":[],"image_uri":null,"kms_key_arn":null,"memory_size":128,"package_type":"Zip","publish":false,"reserved_concurrent_executions":-1,"runtime":"python3.8","s3_bucket":null,"s3_key":null,"s3_object_version":null,"snap_start":[],"tags":null,"timeout":300,"timeouts":null,"vpc_config":[]},"sensitive_values":{"architectures":[],"dead_letter_config":[],"environment":[],"ephemeral_storage":[{}],"file_system_config":[],"image_config":[],"layers":[],"snap_start":[],"tags_all":{},"tracing_config":[],"vpc_config":[]}},{"address":"module.function11.data.aws_iam_policy_document.logs[0]","mode":"data","type":"aws_iam_policy_document","name":"logs","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["logs:CreateLogGroup","logs:CreateLogStream","logs:PutLogEvents"],"condition":[],"effect":"Allow","not_actions":null,"not_principals":[],"not_resources":null,"principals":[],"sid":null}],"version":null},"sensitive_values":{"statement":[{"actions":[false,false,false],"condition":[],"not_principals":[],"principals":[],"resources":[]}]}},{"address":"module.function11.local_file.archive_plan[0]","mode":"managed","type":"local_file","name":"archive_plan","index":0,"provider_name":"registry.terraform.io/hashicorp/local","schema_version":0,"values":{"content":"{\"filename\": \"builds/1534f5f9022dec4d97d387c11fab33415f3dbac2c084c801de8488b94d2ab599.zip\", \"runtime\": \"python3.8\", \"artifacts_dir\": \"builds\", \"build_plan\": [[\"zip\", \"./artifacts/HelloWorldFunction\", null]]}","content_base64":null,"directory_permission":"0755","file_permission":"0644","filename":"builds/1534f5f9022dec4d97d387c11fab33415f3dbac2c084c801de8488b94d2ab599.plan.json","sensitive_content":null,"source":null},"sensitive_values":{}},{"address":"module.function11.null_resource.archive[0]","mode":"managed","type":"null_resource","name":"archive","index":0,"provider_name":"registry.terraform.io/hashicorp/null","schema_version":0,"values":{"triggers":{"filename":"builds/1534f5f9022dec4d97d387c11fab33415f3dbac2c084c801de8488b94d2ab599.zip","timestamp":"1691706821278628200"}},"sensitive_values":{"triggers":{}}},{"address":"module.function11.null_resource.sam_metadata_aws_lambda_function[0]","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_function","index":0,"provider_name":"registry.terraform.io/hashicorp/null","schema_version":0,"values":{"triggers":{"built_output_path":"builds/1534f5f9022dec4d97d387c11fab33415f3dbac2c084c801de8488b94d2ab599.zip","original_source_code":"[{\"path\":\"./artifacts/HelloWorldFunction\"}]","resource_name":"aws_lambda_function.this[0]","resource_type":"ZIP_LAMBDA_FUNCTION","source_code_property":"path"}},"sensitive_values":{"triggers":{}}}],"address":"module.function11"},{"resources":[{"address":"module.function2.aws_iam_role.iam_for_lambda","mode":"managed","type":"aws_iam_role","name":"iam_for_lambda","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"iam_for_lambda2","path":"/","permissions_boundary":null,"tags":null},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[],"tags_all":{}}},{"address":"module.function2.aws_lambda_function.this","mode":"managed","type":"aws_lambda_function","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"code_signing_config_arn":null,"dead_letter_config":[],"description":null,"environment":[],"file_system_config":[],"filename":"./building/hello_world.zip","function_name":"function2","handler":"app.lambda_handler","image_config":[],"image_uri":null,"kms_key_arn":null,"memory_size":128,"package_type":"Zip","publish":false,"reserved_concurrent_executions":-1,"runtime":"python3.8","s3_bucket":null,"s3_key":null,"s3_object_version":null,"snap_start":[],"tags":null,"timeout":300,"timeouts":null,"vpc_config":[]},"sensitive_values":{"architectures":[],"dead_letter_config":[],"environment":[],"ephemeral_storage":[],"file_system_config":[],"image_config":[],"layers":[],"snap_start":[],"tags_all":{},"tracing_config":[],"vpc_config":[]}}],"address":"module.function2"},{"resources":[{"address":"module.function7.aws_cloudwatch_log_group.lambda[0]","mode":"managed","type":"aws_cloudwatch_log_group","name":"lambda","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"kms_key_id":null,"name":"/aws/lambda/function7","retention_in_days":0,"skip_destroy":false,"tags":null},"sensitive_values":{"tags_all":{}}},{"address":"module.function7.aws_iam_policy.logs[0]","mode":"managed","type":"aws_iam_policy","name":"logs","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":null,"name":"function7-logs","name_prefix":null,"path":"/","tags":null},"sensitive_values":{"tags_all":{}}},{"address":"module.function7.aws_iam_role.lambda[0]","mode":"managed","type":"aws_iam_role","name":"lambda","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":true,"max_session_duration":3600,"name":"function7","path":"/","permissions_boundary":null,"tags":null},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[],"tags_all":{}}},{"address":"module.function7.aws_iam_role_policy_attachment.logs[0]","mode":"managed","type":"aws_iam_role_policy_attachment","name":"logs","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"role":"function7"},"sensitive_values":{}},{"address":"module.function7.aws_lambda_function.this[0]","mode":"managed","type":"aws_lambda_function","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"code_signing_config_arn":null,"dead_letter_config":[],"description":"","environment":[],"ephemeral_storage":[{"size":512}],"file_system_config":[],"filename":"builds/a014687779c3df120f209a19150b2681839be9f0fad8f1a90ae0cf633a294938.zip","function_name":"function7","handler":"app.lambda_handler","image_config":[],"image_uri":null,"kms_key_arn":null,"memory_size":128,"package_type":"Zip","publish":false,"reserved_concurrent_executions":-1,"runtime":"python3.8","s3_bucket":null,"s3_key":null,"s3_object_version":null,"snap_start":[],"tags":null,"timeout":300,"timeouts":null,"vpc_config":[]},"sensitive_values":{"architectures":[],"dead_letter_config":[],"environment":[],"ephemeral_storage":[{}],"file_system_config":[],"image_config":[],"layers":[],"snap_start":[],"tags_all":{},"tracing_config":[],"vpc_config":[]}},{"address":"module.function7.data.aws_iam_policy_document.logs[0]","mode":"data","type":"aws_iam_policy_document","name":"logs","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["logs:CreateLogGroup","logs:CreateLogStream","logs:PutLogEvents"],"condition":[],"effect":"Allow","not_actions":null,"not_principals":[],"not_resources":null,"principals":[],"sid":null}],"version":null},"sensitive_values":{"statement":[{"actions":[false,false,false],"condition":[],"not_principals":[],"principals":[],"resources":[]}]}},{"address":"module.function7.local_file.archive_plan[0]","mode":"managed","type":"local_file","name":"archive_plan","index":0,"provider_name":"registry.terraform.io/hashicorp/local","schema_version":0,"values":{"content":"{\"filename\": \"builds/a014687779c3df120f209a19150b2681839be9f0fad8f1a90ae0cf633a294938.zip\", \"runtime\": \"python3.8\", \"artifacts_dir\": \"builds\", \"build_plan\": [[\"pip\", \"python3.8\", \"./artifacts/HelloWorldFunction/requirements.txt\", null, null], [\"zip\", \"./artifacts/HelloWorldFunction\", null]]}","content_base64":null,"directory_permission":"0755","file_permission":"0644","filename":"builds/a014687779c3df120f209a19150b2681839be9f0fad8f1a90ae0cf633a294938.plan.json","sensitive_content":null,"source":null},"sensitive_values":{}},{"address":"module.function7.null_resource.archive[0]","mode":"managed","type":"null_resource","name":"archive","index":0,"provider_name":"registry.terraform.io/hashicorp/null","schema_version":0,"values":{"triggers":{"filename":"builds/a014687779c3df120f209a19150b2681839be9f0fad8f1a90ae0cf633a294938.zip","timestamp":"1691706821270839000"}},"sensitive_values":{"triggers":{}}},{"address":"module.function7.null_resource.sam_metadata_aws_lambda_function[0]","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_function","index":0,"provider_name":"registry.terraform.io/hashicorp/null","schema_version":0,"values":{"triggers":{"built_output_path":"builds/a014687779c3df120f209a19150b2681839be9f0fad8f1a90ae0cf633a294938.zip","original_source_code":"\"./artifacts/HelloWorldFunction\"","resource_name":"aws_lambda_function.this[0]","resource_type":"ZIP_LAMBDA_FUNCTION","source_code_property":"path"}},"sensitive_values":{"triggers":{}}}],"address":"module.function7"},{"resources":[{"address":"module.function8.aws_cloudwatch_log_group.lambda[0]","mode":"managed","type":"aws_cloudwatch_log_group","name":"lambda","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"kms_key_id":null,"name":"/aws/lambda/function8","retention_in_days":0,"skip_destroy":false,"tags":null},"sensitive_values":{"tags_all":{}}},{"address":"module.function8.aws_iam_policy.logs[0]","mode":"managed","type":"aws_iam_policy","name":"logs","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":null,"name":"function8-logs","name_prefix":null,"path":"/","tags":null},"sensitive_values":{"tags_all":{}}},{"address":"module.function8.aws_iam_role.lambda[0]","mode":"managed","type":"aws_iam_role","name":"lambda","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":true,"max_session_duration":3600,"name":"function8","path":"/","permissions_boundary":null,"tags":null},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[],"tags_all":{}}},{"address":"module.function8.aws_iam_role_policy_attachment.logs[0]","mode":"managed","type":"aws_iam_role_policy_attachment","name":"logs","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"role":"function8"},"sensitive_values":{}},{"address":"module.function8.aws_lambda_function.this[0]","mode":"managed","type":"aws_lambda_function","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"code_signing_config_arn":null,"dead_letter_config":[],"description":"","environment":[],"ephemeral_storage":[{"size":512}],"file_system_config":[],"filename":null,"function_name":"function8","handler":"app.lambda_handler","image_config":[],"image_uri":null,"kms_key_arn":null,"memory_size":128,"package_type":"Zip","publish":false,"reserved_concurrent_executions":-1,"runtime":"python3.8","s3_bucket":"existing_s3_bucket","s3_key":"builds/a014687779c3df120f209a19150b2681839be9f0fad8f1a90ae0cf633a294938.zip","snap_start":[],"tags":null,"timeout":300,"timeouts":null,"vpc_config":[]},"sensitive_values":{"architectures":[],"dead_letter_config":[],"environment":[],"ephemeral_storage":[{}],"file_system_config":[],"image_config":[],"layers":[],"snap_start":[],"tags_all":{},"tracing_config":[],"vpc_config":[]}},{"address":"module.function8.aws_s3_object.lambda_package[0]","mode":"managed","type":"aws_s3_object","name":"lambda_package","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"acl":"private","bucket":"existing_s3_bucket","cache_control":null,"content":null,"content_base64":null,"content_disposition":null,"content_encoding":null,"content_language":null,"force_destroy":false,"key":"builds/a014687779c3df120f209a19150b2681839be9f0fad8f1a90ae0cf633a294938.zip","metadata":null,"object_lock_legal_hold_status":null,"object_lock_mode":null,"object_lock_retain_until_date":null,"source":"builds/a014687779c3df120f209a19150b2681839be9f0fad8f1a90ae0cf633a294938.zip","source_hash":null,"storage_class":"ONEZONE_IA","tags":null,"website_redirect":null},"sensitive_values":{"tags_all":{}}},{"address":"module.function8.data.aws_iam_policy_document.logs[0]","mode":"data","type":"aws_iam_policy_document","name":"logs","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["logs:CreateLogGroup","logs:CreateLogStream","logs:PutLogEvents"],"condition":[],"effect":"Allow","not_actions":null,"not_principals":[],"not_resources":null,"principals":[],"sid":null}],"version":null},"sensitive_values":{"statement":[{"actions":[false,false,false],"condition":[],"not_principals":[],"principals":[],"resources":[]}]}},{"address":"module.function8.local_file.archive_plan[0]","mode":"managed","type":"local_file","name":"archive_plan","index":0,"provider_name":"registry.terraform.io/hashicorp/local","schema_version":0,"values":{"content":"{\"filename\": \"builds/a014687779c3df120f209a19150b2681839be9f0fad8f1a90ae0cf633a294938.zip\", \"runtime\": \"python3.8\", \"artifacts_dir\": \"builds\", \"build_plan\": [[\"pip\", \"python3.8\", \"./artifacts/HelloWorldFunction/requirements.txt\", null, null], [\"zip\", \"./artifacts/HelloWorldFunction\", null]]}","content_base64":null,"directory_permission":"0755","file_permission":"0644","filename":"builds/a014687779c3df120f209a19150b2681839be9f0fad8f1a90ae0cf633a294938.plan.json","sensitive_content":null,"source":null},"sensitive_values":{}},{"address":"module.function8.null_resource.archive[0]","mode":"managed","type":"null_resource","name":"archive","index":0,"provider_name":"registry.terraform.io/hashicorp/null","schema_version":0,"values":{"triggers":{"filename":"builds/a014687779c3df120f209a19150b2681839be9f0fad8f1a90ae0cf633a294938.zip","timestamp":"1691706821273802000"}},"sensitive_values":{"triggers":{}}},{"address":"module.function8.null_resource.sam_metadata_aws_lambda_function[0]","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_function","index":0,"provider_name":"registry.terraform.io/hashicorp/null","schema_version":0,"values":{"triggers":{"built_output_path":"builds/a014687779c3df120f209a19150b2681839be9f0fad8f1a90ae0cf633a294938.zip","original_source_code":"\"./artifacts/HelloWorldFunction\"","resource_name":"aws_lambda_function.this[0]","resource_type":"ZIP_LAMBDA_FUNCTION","source_code_property":"path"}},"sensitive_values":{"triggers":{}}}],"address":"module.function8"},{"resources":[{"address":"module.function9.aws_cloudwatch_log_group.lambda[0]","mode":"managed","type":"aws_cloudwatch_log_group","name":"lambda","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"kms_key_id":null,"name":"/aws/lambda/function9","retention_in_days":0,"skip_destroy":false,"tags":null},"sensitive_values":{"tags_all":{}}},{"address":"module.function9.aws_iam_policy.logs[0]","mode":"managed","type":"aws_iam_policy","name":"logs","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":null,"name":"function9-logs","name_prefix":null,"path":"/","tags":null},"sensitive_values":{"tags_all":{}}},{"address":"module.function9.aws_iam_role.lambda[0]","mode":"managed","type":"aws_iam_role","name":"lambda","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":true,"max_session_duration":3600,"name":"function9","path":"/","permissions_boundary":null,"tags":null},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[],"tags_all":{}}},{"address":"module.function9.aws_iam_role_policy_attachment.logs[0]","mode":"managed","type":"aws_iam_role_policy_attachment","name":"logs","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"role":"function9"},"sensitive_values":{}},{"address":"module.function9.aws_lambda_function.this[0]","mode":"managed","type":"aws_lambda_function","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"code_signing_config_arn":null,"dead_letter_config":[],"description":"","environment":[],"ephemeral_storage":[{"size":512}],"file_system_config":[],"filename":"./building/hello_world.zip","function_name":"function9","handler":"app.lambda_handler","image_config":[],"image_uri":null,"kms_key_arn":null,"memory_size":128,"package_type":"Zip","publish":false,"reserved_concurrent_executions":-1,"runtime":"python3.8","s3_bucket":null,"s3_key":null,"s3_object_version":null,"snap_start":[],"tags":null,"timeout":300,"timeouts":null,"vpc_config":[]},"sensitive_values":{"architectures":[],"dead_letter_config":[],"environment":[],"ephemeral_storage":[{}],"file_system_config":[],"image_config":[],"layers":[],"snap_start":[],"tags_all":{},"tracing_config":[],"vpc_config":[]}},{"address":"module.function9.data.aws_iam_policy_document.logs[0]","mode":"data","type":"aws_iam_policy_document","name":"logs","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["logs:CreateLogGroup","logs:CreateLogStream","logs:PutLogEvents"],"condition":[],"effect":"Allow","not_actions":null,"not_principals":[],"not_resources":null,"principals":[],"sid":null}],"version":null},"sensitive_values":{"statement":[{"actions":[false,false,false],"condition":[],"not_principals":[],"principals":[],"resources":[]}]}}],"address":"module.function9"},{"resources":[{"address":"module.layer10.aws_lambda_layer_version.this[0]","mode":"managed","type":"aws_lambda_layer_version","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"compatible_architectures":null,"compatible_runtimes":["python3.8"],"description":"","filename":null,"layer_name":"lambda_layer10","license_info":"","s3_key":"builds/16acbfbd0142ab389b41c05160e5830644da3b21858cbd5704cbc3201eba07d8.zip","skip_destroy":false},"sensitive_values":{"compatible_runtimes":[false]}},{"address":"module.layer10.aws_s3_object.lambda_package[0]","mode":"managed","type":"aws_s3_object","name":"lambda_package","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"acl":"private","cache_control":null,"content":null,"content_base64":null,"content_disposition":null,"content_encoding":null,"content_language":null,"force_destroy":false,"key":"builds/16acbfbd0142ab389b41c05160e5830644da3b21858cbd5704cbc3201eba07d8.zip","metadata":null,"object_lock_legal_hold_status":null,"object_lock_mode":null,"object_lock_retain_until_date":null,"source":"builds/16acbfbd0142ab389b41c05160e5830644da3b21858cbd5704cbc3201eba07d8.zip","source_hash":null,"storage_class":"ONEZONE_IA","tags":null,"website_redirect":null},"sensitive_values":{"tags_all":{}}},{"address":"module.layer10.local_file.archive_plan[0]","mode":"managed","type":"local_file","name":"archive_plan","index":0,"provider_name":"registry.terraform.io/hashicorp/local","schema_version":0,"values":{"content":"{\"filename\": \"builds/16acbfbd0142ab389b41c05160e5830644da3b21858cbd5704cbc3201eba07d8.zip\", \"runtime\": \"python3.8\", \"artifacts_dir\": \"builds\", \"build_plan\": [[\"pip\", \"python3.8\", \"./artifacts/layer10/requirements.txt\", \"python\", null], [\"zip\", \"./artifacts/layer10\", \"python\"]]}","content_base64":null,"directory_permission":"0755","file_permission":"0644","filename":"builds/16acbfbd0142ab389b41c05160e5830644da3b21858cbd5704cbc3201eba07d8.plan.json","sensitive_content":null,"source":null},"sensitive_values":{}},{"address":"module.layer10.null_resource.archive[0]","mode":"managed","type":"null_resource","name":"archive","index":0,"provider_name":"registry.terraform.io/hashicorp/null","schema_version":0,"values":{"triggers":{"filename":"builds/16acbfbd0142ab389b41c05160e5830644da3b21858cbd5704cbc3201eba07d8.zip","timestamp":"1691706821294883000"}},"sensitive_values":{"triggers":{}}},{"address":"module.layer10.null_resource.sam_metadata_aws_lambda_layer_version[0]","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_layer_version","index":0,"provider_name":"registry.terraform.io/hashicorp/null","schema_version":0,"values":{"triggers":{"built_output_path":"builds/16acbfbd0142ab389b41c05160e5830644da3b21858cbd5704cbc3201eba07d8.zip","original_source_code":"{\"path\":\"./artifacts/layer10\",\"pip_requirements\":true,\"prefix_in_zip\":\"python\"}","resource_name":"aws_lambda_layer_version.this[0]","resource_type":"LAMBDA_LAYER","source_code_property":"path"}},"sensitive_values":{"triggers":{}}}],"address":"module.layer10"},{"resources":[{"address":"module.layer11.aws_lambda_layer_version.this[0]","mode":"managed","type":"aws_lambda_layer_version","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"compatible_architectures":null,"compatible_runtimes":["python3.8"],"description":"","filename":"builds/c4b3df4dc840bce205ec9597c0c5117c5780792c773c3fb86d88417a4677b2cf.zip","layer_name":"lambda_layer11","license_info":"","s3_bucket":null,"s3_key":null,"s3_object_version":null,"skip_destroy":false},"sensitive_values":{"compatible_runtimes":[false]}},{"address":"module.layer11.local_file.archive_plan[0]","mode":"managed","type":"local_file","name":"archive_plan","index":0,"provider_name":"registry.terraform.io/hashicorp/local","schema_version":0,"values":{"content":"{\"filename\": \"builds/c4b3df4dc840bce205ec9597c0c5117c5780792c773c3fb86d88417a4677b2cf.zip\", \"runtime\": \"python3.8\", \"artifacts_dir\": \"builds\", \"build_plan\": [[\"pip\", \"python3.8\", \"./artifacts/layer11/requirements.txt\", \"python\", null], [\"zip\", \"./artifacts/layer11\", \"python\"]]}","content_base64":null,"directory_permission":"0755","file_permission":"0644","filename":"builds/c4b3df4dc840bce205ec9597c0c5117c5780792c773c3fb86d88417a4677b2cf.plan.json","sensitive_content":null,"source":null},"sensitive_values":{}},{"address":"module.layer11.null_resource.archive[0]","mode":"managed","type":"null_resource","name":"archive","index":0,"provider_name":"registry.terraform.io/hashicorp/null","schema_version":0,"values":{"triggers":{"filename":"builds/c4b3df4dc840bce205ec9597c0c5117c5780792c773c3fb86d88417a4677b2cf.zip","timestamp":"1691706821268425000"}},"sensitive_values":{"triggers":{}}},{"address":"module.layer11.null_resource.sam_metadata_aws_lambda_layer_version[0]","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_layer_version","index":0,"provider_name":"registry.terraform.io/hashicorp/null","schema_version":0,"values":{"triggers":{"built_output_path":"builds/c4b3df4dc840bce205ec9597c0c5117c5780792c773c3fb86d88417a4677b2cf.zip","original_source_code":"[{\"path\":\"./artifacts/layer11\",\"pip_requirements\":true,\"prefix_in_zip\":\"python\"}]","resource_name":"aws_lambda_layer_version.this[0]","resource_type":"LAMBDA_LAYER","source_code_property":"path"}},"sensitive_values":{"triggers":{}}}],"address":"module.layer11"},{"resources":[{"address":"module.layer2.aws_lambda_layer_version.layer","mode":"managed","type":"aws_lambda_layer_version","name":"layer","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"compatible_architectures":null,"compatible_runtimes":["python3.8"],"description":null,"filename":"./building/layer2.zip","layer_name":"lambda_layer2","license_info":null,"s3_bucket":null,"s3_key":null,"s3_object_version":null,"skip_destroy":false},"sensitive_values":{"compatible_runtimes":[false]}}],"address":"module.layer2"},{"resources":[{"address":"module.layer7.aws_lambda_layer_version.this[0]","mode":"managed","type":"aws_lambda_layer_version","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"compatible_architectures":null,"compatible_runtimes":["python3.8"],"description":"","filename":"builds/0c2ef58d95d6a475f9ca912f4d1874f0055fbfce41359dafe98031f9cf25015f.zip","layer_name":"lambda_layer7","license_info":"","s3_bucket":null,"s3_key":null,"s3_object_version":null,"skip_destroy":false},"sensitive_values":{"compatible_runtimes":[false]}},{"address":"module.layer7.local_file.archive_plan[0]","mode":"managed","type":"local_file","name":"archive_plan","index":0,"provider_name":"registry.terraform.io/hashicorp/local","schema_version":0,"values":{"content":"{\"filename\": \"builds/0c2ef58d95d6a475f9ca912f4d1874f0055fbfce41359dafe98031f9cf25015f.zip\", \"runtime\": \"python3.8\", \"artifacts_dir\": \"builds\", \"build_plan\": [[\"pip\", \"python3.8\", \"./artifacts/layer7/requirements.txt\", \"python\", null], [\"zip\", \"./artifacts/layer7\", \"python\"]]}","content_base64":null,"directory_permission":"0755","file_permission":"0644","filename":"builds/0c2ef58d95d6a475f9ca912f4d1874f0055fbfce41359dafe98031f9cf25015f.plan.json","sensitive_content":null,"source":null},"sensitive_values":{}},{"address":"module.layer7.null_resource.archive[0]","mode":"managed","type":"null_resource","name":"archive","index":0,"provider_name":"registry.terraform.io/hashicorp/null","schema_version":0,"values":{"triggers":{"filename":"builds/0c2ef58d95d6a475f9ca912f4d1874f0055fbfce41359dafe98031f9cf25015f.zip","timestamp":"1691706821270948000"}},"sensitive_values":{"triggers":{}}},{"address":"module.layer7.null_resource.sam_metadata_aws_lambda_layer_version[0]","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_layer_version","index":0,"provider_name":"registry.terraform.io/hashicorp/null","schema_version":0,"values":{"triggers":{"built_output_path":"builds/0c2ef58d95d6a475f9ca912f4d1874f0055fbfce41359dafe98031f9cf25015f.zip","original_source_code":"{\"path\":\"./artifacts/layer7\",\"pip_requirements\":true,\"prefix_in_zip\":\"python\"}","resource_name":"aws_lambda_layer_version.this[0]","resource_type":"LAMBDA_LAYER","source_code_property":"path"}},"sensitive_values":{"triggers":{}}}],"address":"module.layer7"},{"resources":[{"address":"module.layer8.aws_lambda_layer_version.this[0]","mode":"managed","type":"aws_lambda_layer_version","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"compatible_architectures":null,"compatible_runtimes":["python3.8"],"description":"","filename":null,"layer_name":"lambda_layer8","license_info":"","s3_bucket":"existing_s3_bucket","s3_key":"builds/ea65aa129e81242fe31703680404e30239c65afb2bcc166673d2ce39df10891c.zip","skip_destroy":false},"sensitive_values":{"compatible_runtimes":[false]}},{"address":"module.layer8.aws_s3_object.lambda_package[0]","mode":"managed","type":"aws_s3_object","name":"lambda_package","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"acl":"private","bucket":"existing_s3_bucket","cache_control":null,"content":null,"content_base64":null,"content_disposition":null,"content_encoding":null,"content_language":null,"force_destroy":false,"key":"builds/ea65aa129e81242fe31703680404e30239c65afb2bcc166673d2ce39df10891c.zip","metadata":null,"object_lock_legal_hold_status":null,"object_lock_mode":null,"object_lock_retain_until_date":null,"source":"builds/ea65aa129e81242fe31703680404e30239c65afb2bcc166673d2ce39df10891c.zip","source_hash":null,"storage_class":"ONEZONE_IA","tags":null,"website_redirect":null},"sensitive_values":{"tags_all":{}}},{"address":"module.layer8.local_file.archive_plan[0]","mode":"managed","type":"local_file","name":"archive_plan","index":0,"provider_name":"registry.terraform.io/hashicorp/local","schema_version":0,"values":{"content":"{\"filename\": \"builds/ea65aa129e81242fe31703680404e30239c65afb2bcc166673d2ce39df10891c.zip\", \"runtime\": \"python3.8\", \"artifacts_dir\": \"builds\", \"build_plan\": [[\"pip\", \"python3.8\", \"./artifacts/layer8/requirements.txt\", \"python\", null], [\"zip\", \"./artifacts/layer8\", \"python\"]]}","content_base64":null,"directory_permission":"0755","file_permission":"0644","filename":"builds/ea65aa129e81242fe31703680404e30239c65afb2bcc166673d2ce39df10891c.plan.json","sensitive_content":null,"source":null},"sensitive_values":{}},{"address":"module.layer8.null_resource.archive[0]","mode":"managed","type":"null_resource","name":"archive","index":0,"provider_name":"registry.terraform.io/hashicorp/null","schema_version":0,"values":{"triggers":{"filename":"builds/ea65aa129e81242fe31703680404e30239c65afb2bcc166673d2ce39df10891c.zip","timestamp":"1691706821268557000"}},"sensitive_values":{"triggers":{}}},{"address":"module.layer8.null_resource.sam_metadata_aws_lambda_layer_version[0]","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_layer_version","index":0,"provider_name":"registry.terraform.io/hashicorp/null","schema_version":0,"values":{"triggers":{"built_output_path":"builds/ea65aa129e81242fe31703680404e30239c65afb2bcc166673d2ce39df10891c.zip","original_source_code":"{\"path\":\"./artifacts/layer8\",\"pip_requirements\":true,\"prefix_in_zip\":\"python\"}","resource_name":"aws_lambda_layer_version.this[0]","resource_type":"LAMBDA_LAYER","source_code_property":"path"}},"sensitive_values":{"triggers":{}}}],"address":"module.layer8"},{"resources":[{"address":"module.layer9.aws_lambda_layer_version.this[0]","mode":"managed","type":"aws_lambda_layer_version","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"compatible_architectures":null,"compatible_runtimes":["python3.8"],"description":"","filename":"./building/layer9.zip","layer_name":"lambda_layer9","license_info":"","s3_bucket":null,"s3_key":null,"s3_object_version":null,"skip_destroy":false},"sensitive_values":{"compatible_runtimes":[false]}}],"address":"module.layer9"},{"resources":[{"address":"module.level1_lambda.aws_iam_role.iam_for_lambda","mode":"managed","type":"aws_iam_role","name":"iam_for_lambda","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"iam_for_lambda_l1","path":"/","permissions_boundary":null,"tags":null},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[],"tags_all":{}}},{"address":"module.level1_lambda.aws_lambda_function.this","mode":"managed","type":"aws_lambda_function","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"code_signing_config_arn":null,"dead_letter_config":[],"description":null,"environment":[],"file_system_config":[],"filename":"./building/list_books.zip","function_name":"my_level1_lambda","handler":"index.lambda_handler","image_config":[],"image_uri":null,"kms_key_arn":null,"layers":null,"memory_size":128,"package_type":"Zip","publish":false,"reserved_concurrent_executions":-1,"runtime":"python3.8","s3_bucket":null,"s3_key":null,"s3_object_version":null,"snap_start":[],"tags":null,"timeout":300,"timeouts":null,"vpc_config":[]},"sensitive_values":{"architectures":[],"dead_letter_config":[],"environment":[],"ephemeral_storage":[],"file_system_config":[],"image_config":[],"snap_start":[],"tags_all":{},"tracing_config":[],"vpc_config":[]}}],"address":"module.level1_lambda","child_modules":[{"resources":[{"address":"module.level1_lambda.module.level2_lambda.aws_iam_role.iam_for_lambda","mode":"managed","type":"aws_iam_role","name":"iam_for_lambda","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"iam_for_lambda_l2","path":"/","permissions_boundary":null,"tags":null},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[],"tags_all":{}}},{"address":"module.level1_lambda.module.level2_lambda.aws_lambda_function.this","mode":"managed","type":"aws_lambda_function","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"code_signing_config_arn":null,"dead_letter_config":[],"description":null,"environment":[],"file_system_config":[],"filename":"./building/list_books.zip","function_name":"my_level2_lambda","handler":"index.lambda_handler","image_config":[],"image_uri":null,"kms_key_arn":null,"layers":null,"memory_size":128,"package_type":"Zip","publish":false,"reserved_concurrent_executions":-1,"runtime":"python3.8","s3_bucket":null,"s3_key":null,"s3_object_version":null,"snap_start":[],"tags":null,"timeout":300,"timeouts":null,"vpc_config":[]},"sensitive_values":{"architectures":[],"dead_letter_config":[],"environment":[],"ephemeral_storage":[],"file_system_config":[],"image_config":[],"snap_start":[],"tags_all":{},"tracing_config":[],"vpc_config":[]}}],"address":"module.level1_lambda.module.level2_lambda"}]}]}},"resource_changes":[{"address":"aws_iam_role.iam_for_lambda","mode":"managed","type":"aws_iam_role","name":"iam_for_lambda","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"dummy_iam_role","path":"/","permissions_boundary":null,"tags":null},"after_unknown":{"arn":true,"create_date":true,"id":true,"inline_policy":true,"managed_policy_arns":true,"name_prefix":true,"tags_all":true,"unique_id":true},"before_sensitive":false,"after_sensitive":{"inline_policy":[],"managed_policy_arns":[],"tags_all":{}}}},{"address":"aws_lambda_function.from_localfile","mode":"managed","type":"aws_lambda_function","name":"from_localfile","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"code_signing_config_arn":null,"dead_letter_config":[],"description":null,"environment":[],"file_system_config":[],"filename":"./building/list_books.zip","function_name":"my_function_from_localfile","handler":"index.lambda_handler","image_config":[],"image_uri":null,"kms_key_arn":null,"layers":null,"memory_size":128,"package_type":"Zip","publish":false,"reserved_concurrent_executions":-1,"runtime":"python3.8","s3_bucket":null,"s3_key":null,"s3_object_version":null,"snap_start":[],"tags":null,"timeout":300,"timeouts":null,"vpc_config":[]},"after_unknown":{"architectures":true,"arn":true,"dead_letter_config":[],"environment":[],"ephemeral_storage":true,"file_system_config":[],"id":true,"image_config":[],"invoke_arn":true,"last_modified":true,"qualified_arn":true,"qualified_invoke_arn":true,"role":true,"signing_job_arn":true,"signing_profile_version_arn":true,"snap_start":[],"source_code_hash":true,"source_code_size":true,"tags_all":true,"tracing_config":true,"version":true,"vpc_config":[]},"before_sensitive":false,"after_sensitive":{"architectures":[],"dead_letter_config":[],"environment":[],"ephemeral_storage":[],"file_system_config":[],"image_config":[],"snap_start":[],"tags_all":{},"tracing_config":[],"vpc_config":[]}}},{"address":"aws_lambda_function.from_s3","mode":"managed","type":"aws_lambda_function","name":"from_s3","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"code_signing_config_arn":null,"dead_letter_config":[],"description":null,"environment":[],"file_system_config":[],"filename":null,"function_name":"my_function_from_s3","handler":"index.lambda_handler","image_config":[],"image_uri":null,"kms_key_arn":null,"layers":null,"memory_size":128,"package_type":"Zip","publish":false,"reserved_concurrent_executions":-1,"runtime":"python3.8","s3_key":"s3_lambda_code","s3_object_version":null,"snap_start":[],"tags":null,"timeout":300,"timeouts":null,"vpc_config":[]},"after_unknown":{"architectures":true,"arn":true,"dead_letter_config":[],"environment":[],"ephemeral_storage":true,"file_system_config":[],"id":true,"image_config":[],"invoke_arn":true,"last_modified":true,"qualified_arn":true,"qualified_invoke_arn":true,"role":true,"s3_bucket":true,"signing_job_arn":true,"signing_profile_version_arn":true,"snap_start":[],"source_code_hash":true,"source_code_size":true,"tags_all":true,"tracing_config":true,"version":true,"vpc_config":[]},"before_sensitive":false,"after_sensitive":{"architectures":[],"dead_letter_config":[],"environment":[],"ephemeral_storage":[],"file_system_config":[],"image_config":[],"snap_start":[],"tags_all":{},"tracing_config":[],"vpc_config":[]}}},{"address":"aws_lambda_function.function1","mode":"managed","type":"aws_lambda_function","name":"function1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"code_signing_config_arn":null,"dead_letter_config":[],"description":null,"environment":[],"file_system_config":[],"filename":"./building/hello_world.zip","function_name":"function1","handler":"app.lambda_handler","image_config":[],"image_uri":null,"kms_key_arn":null,"memory_size":128,"package_type":"Zip","publish":false,"reserved_concurrent_executions":-1,"runtime":"python3.8","s3_bucket":null,"s3_key":null,"s3_object_version":null,"snap_start":[],"tags":null,"timeout":300,"timeouts":null,"vpc_config":[]},"after_unknown":{"architectures":true,"arn":true,"dead_letter_config":[],"environment":[],"ephemeral_storage":true,"file_system_config":[],"id":true,"image_config":[],"invoke_arn":true,"last_modified":true,"layers":true,"qualified_arn":true,"qualified_invoke_arn":true,"role":true,"signing_job_arn":true,"signing_profile_version_arn":true,"snap_start":[],"source_code_hash":true,"source_code_size":true,"tags_all":true,"tracing_config":true,"version":true,"vpc_config":[]},"before_sensitive":false,"after_sensitive":{"architectures":[],"dead_letter_config":[],"environment":[],"ephemeral_storage":[],"file_system_config":[],"image_config":[],"layers":[],"snap_start":[],"tags_all":{},"tracing_config":[],"vpc_config":[]}}},{"address":"aws_lambda_function.function3","mode":"managed","type":"aws_lambda_function","name":"function3","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"code_signing_config_arn":null,"dead_letter_config":[],"description":null,"environment":[],"file_system_config":[],"filename":null,"function_name":"function3","handler":"app.lambda_handler","image_config":[],"image_uri":null,"kms_key_arn":null,"memory_size":128,"package_type":"Zip","publish":false,"reserved_concurrent_executions":-1,"runtime":"python3.8","s3_key":"function3_code","s3_object_version":null,"snap_start":[],"tags":null,"timeout":300,"timeouts":null,"vpc_config":[]},"after_unknown":{"architectures":true,"arn":true,"dead_letter_config":[],"environment":[],"ephemeral_storage":true,"file_system_config":[],"id":true,"image_config":[],"invoke_arn":true,"last_modified":true,"layers":true,"qualified_arn":true,"qualified_invoke_arn":true,"role":true,"s3_bucket":true,"signing_job_arn":true,"signing_profile_version_arn":true,"snap_start":[],"source_code_hash":true,"source_code_size":true,"tags_all":true,"tracing_config":true,"version":true,"vpc_config":[]},"before_sensitive":false,"after_sensitive":{"architectures":[],"dead_letter_config":[],"environment":[],"ephemeral_storage":[],"file_system_config":[],"image_config":[],"layers":[],"snap_start":[],"tags_all":{},"tracing_config":[],"vpc_config":[]}}},{"address":"aws_lambda_function.function4","mode":"managed","type":"aws_lambda_function","name":"function4","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"code_signing_config_arn":null,"dead_letter_config":[],"description":null,"environment":[],"file_system_config":[],"filename":null,"function_name":"function4","handler":"app.lambda_handler","image_config":[],"image_uri":null,"kms_key_arn":null,"memory_size":128,"package_type":"Zip","publish":false,"reserved_concurrent_executions":-1,"runtime":"python3.8","s3_bucket":"existing_s3_bucket_name","s3_key":"function4_code","s3_object_version":null,"snap_start":[],"tags":null,"timeout":300,"timeouts":null,"vpc_config":[]},"after_unknown":{"architectures":true,"arn":true,"dead_letter_config":[],"environment":[],"ephemeral_storage":true,"file_system_config":[],"id":true,"image_config":[],"invoke_arn":true,"last_modified":true,"layers":true,"qualified_arn":true,"qualified_invoke_arn":true,"role":true,"signing_job_arn":true,"signing_profile_version_arn":true,"snap_start":[],"source_code_hash":true,"source_code_size":true,"tags_all":true,"tracing_config":true,"version":true,"vpc_config":[]},"before_sensitive":false,"after_sensitive":{"architectures":[],"dead_letter_config":[],"environment":[],"ephemeral_storage":[],"file_system_config":[],"image_config":[],"layers":[],"snap_start":[],"tags_all":{},"tracing_config":[],"vpc_config":[]}}},{"address":"aws_lambda_function.function5","mode":"managed","type":"aws_lambda_function","name":"function5","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"code_signing_config_arn":null,"dead_letter_config":[],"description":null,"environment":[],"file_system_config":[],"filename":null,"function_name":"function5","handler":"app.lambda_handler","image_config":[],"image_uri":null,"kms_key_arn":null,"memory_size":128,"package_type":"Zip","publish":false,"reserved_concurrent_executions":-1,"runtime":"python3.8","s3_bucket":"existing_s3_bucket_name","s3_key":"function5_code","s3_object_version":null,"snap_start":[],"tags":null,"timeout":300,"timeouts":null,"vpc_config":[]},"after_unknown":{"architectures":true,"arn":true,"dead_letter_config":[],"environment":[],"ephemeral_storage":true,"file_system_config":[],"id":true,"image_config":[],"invoke_arn":true,"last_modified":true,"layers":true,"qualified_arn":true,"qualified_invoke_arn":true,"role":true,"signing_job_arn":true,"signing_profile_version_arn":true,"snap_start":[],"source_code_hash":true,"source_code_size":true,"tags_all":true,"tracing_config":true,"version":true,"vpc_config":[]},"before_sensitive":false,"after_sensitive":{"architectures":[],"dead_letter_config":[],"environment":[],"ephemeral_storage":[],"file_system_config":[],"image_config":[],"layers":[],"snap_start":[],"tags_all":{},"tracing_config":[],"vpc_config":[]}}},{"address":"aws_lambda_function.function6","mode":"managed","type":"aws_lambda_function","name":"function6","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"code_signing_config_arn":null,"dead_letter_config":[],"description":null,"environment":[],"file_system_config":[],"filename":"./building/hello_world.zip","function_name":"function6","handler":"app.lambda_handler","image_config":[],"image_uri":null,"kms_key_arn":null,"memory_size":128,"package_type":"Zip","publish":false,"reserved_concurrent_executions":-1,"runtime":"python3.8","s3_bucket":null,"s3_key":null,"s3_object_version":null,"snap_start":[],"tags":null,"timeout":300,"timeouts":null,"vpc_config":[]},"after_unknown":{"architectures":true,"arn":true,"dead_letter_config":[],"environment":[],"ephemeral_storage":true,"file_system_config":[],"id":true,"image_config":[],"invoke_arn":true,"last_modified":true,"layers":true,"qualified_arn":true,"qualified_invoke_arn":true,"role":true,"signing_job_arn":true,"signing_profile_version_arn":true,"snap_start":[],"source_code_hash":true,"source_code_size":true,"tags_all":true,"tracing_config":true,"version":true,"vpc_config":[]},"before_sensitive":false,"after_sensitive":{"architectures":[],"dead_letter_config":[],"environment":[],"ephemeral_storage":[],"file_system_config":[],"image_config":[],"layers":[],"snap_start":[],"tags_all":{},"tracing_config":[],"vpc_config":[]}}},{"address":"aws_lambda_layer_version.from_local","mode":"managed","type":"aws_lambda_layer_version","name":"from_local","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"compatible_architectures":null,"compatible_runtimes":["python3.8","python3.9"],"description":null,"filename":"./building/my_layer.zip","layer_name":"my_layer","license_info":null,"s3_bucket":null,"s3_key":null,"s3_object_version":null,"skip_destroy":false},"after_unknown":{"arn":true,"compatible_runtimes":[false,false],"created_date":true,"id":true,"layer_arn":true,"signing_job_arn":true,"signing_profile_version_arn":true,"source_code_hash":true,"source_code_size":true,"version":true},"before_sensitive":false,"after_sensitive":{"compatible_runtimes":[false,false]}}},{"address":"aws_lambda_layer_version.layer1[0]","mode":"managed","type":"aws_lambda_layer_version","name":"layer1","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"compatible_architectures":null,"compatible_runtimes":["python3.8"],"description":null,"filename":"./building/layer1.zip","layer_name":"lambda_layer1","license_info":null,"s3_bucket":null,"s3_key":null,"s3_object_version":null,"skip_destroy":false},"after_unknown":{"arn":true,"compatible_runtimes":[false],"created_date":true,"id":true,"layer_arn":true,"signing_job_arn":true,"signing_profile_version_arn":true,"source_code_hash":true,"source_code_size":true,"version":true},"before_sensitive":false,"after_sensitive":{"compatible_runtimes":[false]}}},{"address":"aws_lambda_layer_version.layer3[\"my_idx\"]","mode":"managed","type":"aws_lambda_layer_version","name":"layer3","index":"my_idx","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"compatible_architectures":null,"compatible_runtimes":["python3.8"],"description":null,"filename":null,"layer_name":"lambda_layer3","license_info":null,"s3_key":"layer3_code","s3_object_version":null,"skip_destroy":false},"after_unknown":{"arn":true,"compatible_runtimes":[false],"created_date":true,"id":true,"layer_arn":true,"s3_bucket":true,"signing_job_arn":true,"signing_profile_version_arn":true,"source_code_hash":true,"source_code_size":true,"version":true},"before_sensitive":false,"after_sensitive":{"compatible_runtimes":[false]}}},{"address":"aws_lambda_layer_version.layer4","mode":"managed","type":"aws_lambda_layer_version","name":"layer4","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"compatible_architectures":null,"compatible_runtimes":["python3.8"],"description":null,"filename":null,"layer_name":"lambda_layer4","license_info":null,"s3_bucket":"existing_s3_bucket_name","s3_key":"layer4_code","s3_object_version":null,"skip_destroy":false},"after_unknown":{"arn":true,"compatible_runtimes":[false],"created_date":true,"id":true,"layer_arn":true,"signing_job_arn":true,"signing_profile_version_arn":true,"source_code_hash":true,"source_code_size":true,"version":true},"before_sensitive":false,"after_sensitive":{"compatible_runtimes":[false]}}},{"address":"aws_lambda_layer_version.layer5","mode":"managed","type":"aws_lambda_layer_version","name":"layer5","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"compatible_architectures":null,"compatible_runtimes":["python3.8"],"description":null,"filename":null,"layer_name":"lambda_layer5","license_info":null,"s3_bucket":"existing_s3_bucket_name","s3_key":"layer5_code","s3_object_version":null,"skip_destroy":false},"after_unknown":{"arn":true,"compatible_runtimes":[false],"created_date":true,"id":true,"layer_arn":true,"signing_job_arn":true,"signing_profile_version_arn":true,"source_code_hash":true,"source_code_size":true,"version":true},"before_sensitive":false,"after_sensitive":{"compatible_runtimes":[false]}}},{"address":"aws_lambda_layer_version.layer6","mode":"managed","type":"aws_lambda_layer_version","name":"layer6","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"compatible_architectures":null,"compatible_runtimes":["python3.8"],"description":null,"filename":"./building/layer6.zip","layer_name":"lambda_layer6","license_info":null,"s3_bucket":null,"s3_key":null,"s3_object_version":null,"skip_destroy":false},"after_unknown":{"arn":true,"compatible_runtimes":[false],"created_date":true,"id":true,"layer_arn":true,"signing_job_arn":true,"signing_profile_version_arn":true,"source_code_hash":true,"source_code_size":true,"version":true},"before_sensitive":false,"after_sensitive":{"compatible_runtimes":[false]}}},{"address":"aws_s3_bucket.lambda_code_bucket","mode":"managed","type":"aws_s3_bucket","name":"lambda_code_bucket","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"bucket_prefix":null,"force_destroy":false,"tags":null,"timeouts":null},"after_unknown":{"acceleration_status":true,"acl":true,"arn":true,"bucket":true,"bucket_domain_name":true,"bucket_regional_domain_name":true,"cors_rule":true,"grant":true,"hosted_zone_id":true,"id":true,"lifecycle_rule":true,"logging":true,"object_lock_configuration":true,"object_lock_enabled":true,"policy":true,"region":true,"replication_configuration":true,"request_payer":true,"server_side_encryption_configuration":true,"tags_all":true,"versioning":true,"website":true,"website_domain":true,"website_endpoint":true},"before_sensitive":false,"after_sensitive":{"cors_rule":[],"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"server_side_encryption_configuration":[],"tags_all":{},"versioning":[],"website":[]}}},{"address":"aws_s3_object.function3_code","mode":"managed","type":"aws_s3_object","name":"function3_code","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"acl":"private","cache_control":null,"content":null,"content_base64":null,"content_disposition":null,"content_encoding":null,"content_language":null,"force_destroy":false,"key":"function3_code","metadata":null,"object_lock_legal_hold_status":null,"object_lock_mode":null,"object_lock_retain_until_date":null,"source":"./building/hello_world.zip","source_hash":null,"tags":null,"website_redirect":null},"after_unknown":{"bucket":true,"bucket_key_enabled":true,"content_type":true,"etag":true,"id":true,"kms_key_id":true,"server_side_encryption":true,"storage_class":true,"tags_all":true,"version_id":true},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"aws_s3_object.function4_code","mode":"managed","type":"aws_s3_object","name":"function4_code","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"acl":"private","bucket":"existing_s3_bucket_name","cache_control":null,"content":null,"content_base64":null,"content_disposition":null,"content_encoding":null,"content_language":null,"force_destroy":false,"key":"function4_code","metadata":null,"object_lock_legal_hold_status":null,"object_lock_mode":null,"object_lock_retain_until_date":null,"source":"./building/hello_world.zip","source_hash":null,"tags":null,"website_redirect":null},"after_unknown":{"bucket_key_enabled":true,"content_type":true,"etag":true,"id":true,"kms_key_id":true,"server_side_encryption":true,"storage_class":true,"tags_all":true,"version_id":true},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"aws_s3_object.function5_code","mode":"managed","type":"aws_s3_object","name":"function5_code","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"acl":"private","bucket":"existing_s3_bucket_name","cache_control":null,"content":null,"content_base64":null,"content_disposition":null,"content_encoding":null,"content_language":null,"force_destroy":false,"key":"function5_code","metadata":null,"object_lock_legal_hold_status":null,"object_lock_mode":null,"object_lock_retain_until_date":null,"source":"./building/hello_world.zip","source_hash":null,"tags":null,"website_redirect":null},"after_unknown":{"bucket_key_enabled":true,"content_type":true,"etag":true,"id":true,"kms_key_id":true,"server_side_encryption":true,"storage_class":true,"tags_all":true,"version_id":true},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"aws_s3_object.layer3_code","mode":"managed","type":"aws_s3_object","name":"layer3_code","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"acl":"private","cache_control":null,"content":null,"content_base64":null,"content_disposition":null,"content_encoding":null,"content_language":null,"force_destroy":false,"key":"layer3_code","metadata":null,"object_lock_legal_hold_status":null,"object_lock_mode":null,"object_lock_retain_until_date":null,"source":"./building/layer3.zip","source_hash":null,"tags":null,"website_redirect":null},"after_unknown":{"bucket":true,"bucket_key_enabled":true,"content_type":true,"etag":true,"id":true,"kms_key_id":true,"server_side_encryption":true,"storage_class":true,"tags_all":true,"version_id":true},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"aws_s3_object.layer4_code","mode":"managed","type":"aws_s3_object","name":"layer4_code","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"acl":"private","bucket":"existing_s3_bucket_name","cache_control":null,"content":null,"content_base64":null,"content_disposition":null,"content_encoding":null,"content_language":null,"force_destroy":false,"key":"layer4_code","metadata":null,"object_lock_legal_hold_status":null,"object_lock_mode":null,"object_lock_retain_until_date":null,"source":"./building/layer4.zip","source_hash":null,"tags":null,"website_redirect":null},"after_unknown":{"bucket_key_enabled":true,"content_type":true,"etag":true,"id":true,"kms_key_id":true,"server_side_encryption":true,"storage_class":true,"tags_all":true,"version_id":true},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"aws_s3_object.layer5_code","mode":"managed","type":"aws_s3_object","name":"layer5_code","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"acl":"private","bucket":"existing_s3_bucket_name","cache_control":null,"content":null,"content_base64":null,"content_disposition":null,"content_encoding":null,"content_language":null,"force_destroy":false,"key":"layer5_code","metadata":null,"object_lock_legal_hold_status":null,"object_lock_mode":null,"object_lock_retain_until_date":null,"source":"./building/layer5.zip","source_hash":null,"tags":null,"website_redirect":null},"after_unknown":{"bucket_key_enabled":true,"content_type":true,"etag":true,"id":true,"kms_key_id":true,"server_side_encryption":true,"storage_class":true,"tags_all":true,"version_id":true},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"aws_s3_object.s3_lambda_code","mode":"managed","type":"aws_s3_object","name":"s3_lambda_code","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"acl":"private","cache_control":null,"content":null,"content_base64":null,"content_disposition":null,"content_encoding":null,"content_language":null,"force_destroy":false,"key":"s3_lambda_code","metadata":null,"object_lock_legal_hold_status":null,"object_lock_mode":null,"object_lock_retain_until_date":null,"source":"./building/list_books.zip","source_hash":null,"tags":null,"website_redirect":null},"after_unknown":{"bucket":true,"bucket_key_enabled":true,"content_type":true,"etag":true,"id":true,"kms_key_id":true,"server_side_encryption":true,"storage_class":true,"tags_all":true,"version_id":true},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"null_resource.build_hello_world_lambda_function","mode":"managed","type":"null_resource","name":"build_hello_world_lambda_function","provider_name":"registry.terraform.io/hashicorp/null","change":{"actions":["create"],"before":null,"after":{"triggers":{}},"after_unknown":{"id":true,"triggers":{"build_number":true}},"before_sensitive":false,"after_sensitive":{"triggers":{}}}},{"address":"null_resource.build_lambda_function","mode":"managed","type":"null_resource","name":"build_lambda_function","provider_name":"registry.terraform.io/hashicorp/null","change":{"actions":["create"],"before":null,"after":{"triggers":{}},"after_unknown":{"id":true,"triggers":{"build_number":true}},"before_sensitive":false,"after_sensitive":{"triggers":{}}}},{"address":"null_resource.build_layer1_version","mode":"managed","type":"null_resource","name":"build_layer1_version","provider_name":"registry.terraform.io/hashicorp/null","change":{"actions":["create"],"before":null,"after":{"triggers":{}},"after_unknown":{"id":true,"triggers":{"build_number":true}},"before_sensitive":false,"after_sensitive":{"triggers":{}}}},{"address":"null_resource.build_layer2_version","mode":"managed","type":"null_resource","name":"build_layer2_version","provider_name":"registry.terraform.io/hashicorp/null","change":{"actions":["create"],"before":null,"after":{"triggers":{}},"after_unknown":{"id":true,"triggers":{"build_number":true}},"before_sensitive":false,"after_sensitive":{"triggers":{}}}},{"address":"null_resource.build_layer3_version","mode":"managed","type":"null_resource","name":"build_layer3_version","provider_name":"registry.terraform.io/hashicorp/null","change":{"actions":["create"],"before":null,"after":{"triggers":{}},"after_unknown":{"id":true,"triggers":{"build_number":true}},"before_sensitive":false,"after_sensitive":{"triggers":{}}}},{"address":"null_resource.build_layer4_version","mode":"managed","type":"null_resource","name":"build_layer4_version","provider_name":"registry.terraform.io/hashicorp/null","change":{"actions":["create"],"before":null,"after":{"triggers":{}},"after_unknown":{"id":true,"triggers":{"build_number":true}},"before_sensitive":false,"after_sensitive":{"triggers":{}}}},{"address":"null_resource.build_layer5_version","mode":"managed","type":"null_resource","name":"build_layer5_version","provider_name":"registry.terraform.io/hashicorp/null","change":{"actions":["create"],"before":null,"after":{"triggers":{}},"after_unknown":{"id":true,"triggers":{"build_number":true}},"before_sensitive":false,"after_sensitive":{"triggers":{}}}},{"address":"null_resource.build_layer6_version","mode":"managed","type":"null_resource","name":"build_layer6_version","provider_name":"registry.terraform.io/hashicorp/null","change":{"actions":["create"],"before":null,"after":{"triggers":{}},"after_unknown":{"id":true,"triggers":{"build_number":true}},"before_sensitive":false,"after_sensitive":{"triggers":{}}}},{"address":"null_resource.build_layer9_version","mode":"managed","type":"null_resource","name":"build_layer9_version","provider_name":"registry.terraform.io/hashicorp/null","change":{"actions":["create"],"before":null,"after":{"triggers":{}},"after_unknown":{"id":true,"triggers":{"build_number":true}},"before_sensitive":false,"after_sensitive":{"triggers":{}}}},{"address":"null_resource.build_layer_version","mode":"managed","type":"null_resource","name":"build_layer_version","provider_name":"registry.terraform.io/hashicorp/null","change":{"actions":["create"],"before":null,"after":{"triggers":{}},"after_unknown":{"id":true,"triggers":{"build_number":true}},"before_sensitive":false,"after_sensitive":{"triggers":{}}}},{"address":"null_resource.sam_metadata_aws_lambda_function1","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_function1","provider_name":"registry.terraform.io/hashicorp/null","change":{"actions":["create"],"before":null,"after":{"triggers":{"built_output_path":"./building/hello_world.zip","original_source_code":"./artifacts/HelloWorldFunction","resource_name":"aws_lambda_function.function1","resource_type":"ZIP_LAMBDA_FUNCTION"}},"after_unknown":{"id":true,"triggers":{}},"before_sensitive":false,"after_sensitive":{"triggers":{}}}},{"address":"null_resource.sam_metadata_aws_lambda_function2","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_function2","provider_name":"registry.terraform.io/hashicorp/null","change":{"actions":["create"],"before":null,"after":{"triggers":{"built_output_path":"./building/hello_world.zip","original_source_code":"./artifacts/HelloWorldFunction","resource_name":"module.function2.aws_lambda_function.this","resource_type":"ZIP_LAMBDA_FUNCTION"}},"after_unknown":{"id":true,"triggers":{}},"before_sensitive":false,"after_sensitive":{"triggers":{}}}},{"address":"null_resource.sam_metadata_aws_lambda_function3","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_function3","provider_name":"registry.terraform.io/hashicorp/null","change":{"actions":["create"],"before":null,"after":{"triggers":{"built_output_path":"./building/hello_world.zip","original_source_code":"./artifacts/HelloWorldFunction","resource_name":"aws_lambda_function.function3","resource_type":"ZIP_LAMBDA_FUNCTION"}},"after_unknown":{"id":true,"triggers":{}},"before_sensitive":false,"after_sensitive":{"triggers":{}}}},{"address":"null_resource.sam_metadata_aws_lambda_function4","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_function4","provider_name":"registry.terraform.io/hashicorp/null","change":{"actions":["create"],"before":null,"after":{"triggers":{"built_output_path":"./building/hello_world.zip","original_source_code":"./artifacts/HelloWorldFunction","resource_name":"aws_lambda_function.function4","resource_type":"ZIP_LAMBDA_FUNCTION"}},"after_unknown":{"id":true,"triggers":{}},"before_sensitive":false,"after_sensitive":{"triggers":{}}}},{"address":"null_resource.sam_metadata_aws_lambda_function5","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_function5","provider_name":"registry.terraform.io/hashicorp/null","change":{"actions":["create"],"before":null,"after":{"triggers":{"built_output_path":"./building/hello_world.zip","original_source_code":"./artifacts/HelloWorldFunction","resource_type":"ZIP_LAMBDA_FUNCTION"}},"after_unknown":{"id":true,"triggers":{}},"before_sensitive":false,"after_sensitive":{"triggers":{}}}},{"address":"null_resource.sam_metadata_aws_lambda_function6","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_function6","provider_name":"registry.terraform.io/hashicorp/null","change":{"actions":["create"],"before":null,"after":{"triggers":{"built_output_path":"./building/hello_world.zip","original_source_code":"./artifacts/HelloWorldFunction","resource_type":"ZIP_LAMBDA_FUNCTION"}},"after_unknown":{"id":true,"triggers":{}},"before_sensitive":false,"after_sensitive":{"triggers":{}}}},{"address":"null_resource.sam_metadata_aws_lambda_function9","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_function9","provider_name":"registry.terraform.io/hashicorp/null","change":{"actions":["create"],"before":null,"after":{"triggers":{"built_output_path":"./building/hello_world.zip","original_source_code":"./artifacts/HelloWorldFunction","resource_name":"module.function9.aws_lambda_function.this[0]","resource_type":"ZIP_LAMBDA_FUNCTION"}},"after_unknown":{"id":true,"triggers":{}},"before_sensitive":false,"after_sensitive":{"triggers":{}}}},{"address":"null_resource.sam_metadata_aws_lambda_function_from_localfile","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_function_from_localfile","provider_name":"registry.terraform.io/hashicorp/null","change":{"actions":["create"],"before":null,"after":{"triggers":{"built_output_path":"./building/list_books.zip","original_source_code":"./src/list_books","resource_name":"aws_lambda_function.from_localfile","resource_type":"ZIP_LAMBDA_FUNCTION"}},"after_unknown":{"id":true,"triggers":{}},"before_sensitive":false,"after_sensitive":{"triggers":{}}}},{"address":"null_resource.sam_metadata_aws_lambda_function_from_s3","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_function_from_s3","provider_name":"registry.terraform.io/hashicorp/null","change":{"actions":["create"],"before":null,"after":{"triggers":{"built_output_path":"./building/list_books.zip","original_source_code":"./src/list_books","resource_name":"aws_lambda_function.from_s3","resource_type":"ZIP_LAMBDA_FUNCTION"}},"after_unknown":{"id":true,"triggers":{}},"before_sensitive":false,"after_sensitive":{"triggers":{}}}},{"address":"null_resource.sam_metadata_aws_lambda_function_level1_lambda","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_function_level1_lambda","provider_name":"registry.terraform.io/hashicorp/null","change":{"actions":["create"],"before":null,"after":{"triggers":{"built_output_path":"./building/list_books.zip","original_source_code":"./src/list_books","resource_name":"module.level1_lambda.aws_lambda_function.this","resource_type":"ZIP_LAMBDA_FUNCTION"}},"after_unknown":{"id":true,"triggers":{}},"before_sensitive":false,"after_sensitive":{"triggers":{}}}},{"address":"null_resource.sam_metadata_aws_lambda_function_level2_lambda","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_function_level2_lambda","provider_name":"registry.terraform.io/hashicorp/null","change":{"actions":["create"],"before":null,"after":{"triggers":{"built_output_path":"./building/list_books.zip","original_source_code":"./src/list_books","resource_name":"module.level1_lambda.module.level2_lambda.aws_lambda_function.this","resource_type":"ZIP_LAMBDA_FUNCTION"}},"after_unknown":{"id":true,"triggers":{}},"before_sensitive":false,"after_sensitive":{"triggers":{}}}},{"address":"null_resource.sam_metadata_aws_lambda_layer_version_from_local","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_layer_version_from_local","provider_name":"registry.terraform.io/hashicorp/null","change":{"actions":["create"],"before":null,"after":{"triggers":{"built_output_path":"./building/my_layer.zip","original_source_code":"./my_layer_code","resource_name":"aws_lambda_layer_version.from_local","resource_type":"LAMBDA_LAYER","source_code_property":"path"}},"after_unknown":{"id":true,"triggers":{}},"before_sensitive":false,"after_sensitive":{"triggers":{}}}},{"address":"null_resource.sam_metadata_aws_lambda_layer_version_layer1","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_layer_version_layer1","provider_name":"registry.terraform.io/hashicorp/null","change":{"actions":["create"],"before":null,"after":{"triggers":{"built_output_path":"./building/layer1.zip","original_source_code":"./artifacts/layer1","resource_name":"aws_lambda_layer_version.layer1[0]","resource_type":"LAMBDA_LAYER"}},"after_unknown":{"id":true,"triggers":{}},"before_sensitive":false,"after_sensitive":{"triggers":{}}}},{"address":"null_resource.sam_metadata_aws_lambda_layer_version_layer2","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_layer_version_layer2","provider_name":"registry.terraform.io/hashicorp/null","change":{"actions":["create"],"before":null,"after":{"triggers":{"built_output_path":"./building/layer2.zip","original_source_code":"./artifacts/layer2","resource_name":"module.layer2.aws_lambda_layer_version.layer","resource_type":"LAMBDA_LAYER"}},"after_unknown":{"id":true,"triggers":{}},"before_sensitive":false,"after_sensitive":{"triggers":{}}}},{"address":"null_resource.sam_metadata_aws_lambda_layer_version_layer3","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_layer_version_layer3","provider_name":"registry.terraform.io/hashicorp/null","change":{"actions":["create"],"before":null,"after":{"triggers":{"built_output_path":"./building/layer3.zip","original_source_code":"./artifacts/layer3","resource_name":"aws_lambda_layer_version.layer3[\"my_idx\"]","resource_type":"LAMBDA_LAYER"}},"after_unknown":{"id":true,"triggers":{}},"before_sensitive":false,"after_sensitive":{"triggers":{}}}},{"address":"null_resource.sam_metadata_aws_lambda_layer_version_layer4","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_layer_version_layer4","provider_name":"registry.terraform.io/hashicorp/null","change":{"actions":["create"],"before":null,"after":{"triggers":{"built_output_path":"./building/layer4.zip","original_source_code":"./artifacts/layer4","resource_name":"aws_lambda_layer_version.layer4","resource_type":"LAMBDA_LAYER"}},"after_unknown":{"id":true,"triggers":{}},"before_sensitive":false,"after_sensitive":{"triggers":{}}}},{"address":"null_resource.sam_metadata_aws_lambda_layer_version_layer5","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_layer_version_layer5","provider_name":"registry.terraform.io/hashicorp/null","change":{"actions":["create"],"before":null,"after":{"triggers":{"built_output_path":"./building/layer5.zip","original_source_code":"./artifacts/layer5","resource_type":"LAMBDA_LAYER"}},"after_unknown":{"id":true,"triggers":{}},"before_sensitive":false,"after_sensitive":{"triggers":{}}}},{"address":"null_resource.sam_metadata_aws_lambda_layer_version_layer6","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_layer_version_layer6","provider_name":"registry.terraform.io/hashicorp/null","change":{"actions":["create"],"before":null,"after":{"triggers":{"built_output_path":"./building/layer6.zip","original_source_code":"./artifacts/layer6","resource_type":"LAMBDA_LAYER"}},"after_unknown":{"id":true,"triggers":{}},"before_sensitive":false,"after_sensitive":{"triggers":{}}}},{"address":"null_resource.sam_metadata_aws_lambda_layer_version_layer9","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_layer_version_layer9","provider_name":"registry.terraform.io/hashicorp/null","change":{"actions":["create"],"before":null,"after":{"triggers":{"built_output_path":"./building/layer9.zip","original_source_code":"./artifacts/layer1","resource_name":"module.layer9.aws_lambda_layer_version.this[0]","resource_type":"LAMBDA_LAYER"}},"after_unknown":{"id":true,"triggers":{}},"before_sensitive":false,"after_sensitive":{"triggers":{}}}},{"address":"random_uuid.s3_bucket","mode":"managed","type":"random_uuid","name":"s3_bucket","provider_name":"registry.terraform.io/hashicorp/random","change":{"actions":["create"],"before":null,"after":{"keepers":{"my_key":"my_key"}},"after_unknown":{"id":true,"keepers":{},"result":true},"before_sensitive":false,"after_sensitive":{"keepers":{}}}},{"address":"module.function10.data.aws_iam_policy_document.logs[0]","module_address":"module.function10","mode":"data","type":"aws_iam_policy_document","name":"logs","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["read"],"before":null,"after":{"override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["logs:CreateLogGroup","logs:CreateLogStream","logs:PutLogEvents"],"condition":[],"effect":"Allow","not_actions":null,"not_principals":[],"not_resources":null,"principals":[],"sid":null}],"version":null},"after_unknown":{"id":true,"json":true,"statement":[{"actions":[false,false,false],"condition":[],"not_principals":[],"principals":[],"resources":true}]},"before_sensitive":false,"after_sensitive":{"statement":[{"actions":[false,false,false],"condition":[],"not_principals":[],"principals":[],"resources":[]}]}},"action_reason":"read_because_config_unknown"},{"address":"module.function10.aws_cloudwatch_log_group.lambda[0]","module_address":"module.function10","mode":"managed","type":"aws_cloudwatch_log_group","name":"lambda","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"kms_key_id":null,"name":"/aws/lambda/function10","retention_in_days":0,"skip_destroy":false,"tags":null},"after_unknown":{"arn":true,"id":true,"name_prefix":true,"tags_all":true},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.function10.aws_iam_policy.logs[0]","module_address":"module.function10","mode":"managed","type":"aws_iam_policy","name":"logs","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":null,"name":"function10-logs","name_prefix":null,"path":"/","tags":null},"after_unknown":{"arn":true,"id":true,"policy":true,"policy_id":true,"tags_all":true},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.function10.aws_iam_role.lambda[0]","module_address":"module.function10","mode":"managed","type":"aws_iam_role","name":"lambda","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":true,"max_session_duration":3600,"name":"function10","path":"/","permissions_boundary":null,"tags":null},"after_unknown":{"arn":true,"create_date":true,"id":true,"inline_policy":true,"managed_policy_arns":true,"name_prefix":true,"tags_all":true,"unique_id":true},"before_sensitive":false,"after_sensitive":{"inline_policy":[],"managed_policy_arns":[],"tags_all":{}}}},{"address":"module.function10.aws_iam_role_policy_attachment.logs[0]","module_address":"module.function10","mode":"managed","type":"aws_iam_role_policy_attachment","name":"logs","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"role":"function10"},"after_unknown":{"id":true,"policy_arn":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.function10.aws_lambda_function.this[0]","module_address":"module.function10","mode":"managed","type":"aws_lambda_function","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"code_signing_config_arn":null,"dead_letter_config":[],"description":"","environment":[],"ephemeral_storage":[{"size":512}],"file_system_config":[],"filename":null,"function_name":"function10","handler":"app.lambda_handler","image_config":[],"image_uri":null,"kms_key_arn":null,"memory_size":128,"package_type":"Zip","publish":false,"reserved_concurrent_executions":-1,"runtime":"python3.8","s3_key":"builds/a014687779c3df120f209a19150b2681839be9f0fad8f1a90ae0cf633a294938.zip","snap_start":[],"tags":null,"timeout":300,"timeouts":null,"vpc_config":[]},"after_unknown":{"architectures":true,"arn":true,"dead_letter_config":[],"environment":[],"ephemeral_storage":[{}],"file_system_config":[],"id":true,"image_config":[],"invoke_arn":true,"last_modified":true,"layers":true,"qualified_arn":true,"qualified_invoke_arn":true,"role":true,"s3_bucket":true,"s3_object_version":true,"signing_job_arn":true,"signing_profile_version_arn":true,"snap_start":[],"source_code_hash":true,"source_code_size":true,"tags_all":true,"tracing_config":true,"version":true,"vpc_config":[]},"before_sensitive":false,"after_sensitive":{"architectures":[],"dead_letter_config":[],"environment":[],"ephemeral_storage":[{}],"file_system_config":[],"image_config":[],"layers":[],"snap_start":[],"tags_all":{},"tracing_config":[],"vpc_config":[]}}},{"address":"module.function10.aws_s3_object.lambda_package[0]","module_address":"module.function10","mode":"managed","type":"aws_s3_object","name":"lambda_package","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"acl":"private","cache_control":null,"content":null,"content_base64":null,"content_disposition":null,"content_encoding":null,"content_language":null,"force_destroy":false,"key":"builds/a014687779c3df120f209a19150b2681839be9f0fad8f1a90ae0cf633a294938.zip","metadata":null,"object_lock_legal_hold_status":null,"object_lock_mode":null,"object_lock_retain_until_date":null,"source":"builds/a014687779c3df120f209a19150b2681839be9f0fad8f1a90ae0cf633a294938.zip","source_hash":null,"storage_class":"ONEZONE_IA","tags":null,"website_redirect":null},"after_unknown":{"bucket":true,"bucket_key_enabled":true,"content_type":true,"etag":true,"id":true,"kms_key_id":true,"server_side_encryption":true,"tags_all":true,"version_id":true},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.function10.local_file.archive_plan[0]","module_address":"module.function10","mode":"managed","type":"local_file","name":"archive_plan","index":0,"provider_name":"registry.terraform.io/hashicorp/local","change":{"actions":["create"],"before":null,"after":{"content":"{\"filename\": \"builds/a014687779c3df120f209a19150b2681839be9f0fad8f1a90ae0cf633a294938.zip\", \"runtime\": \"python3.8\", \"artifacts_dir\": \"builds\", \"build_plan\": [[\"pip\", \"python3.8\", \"./artifacts/HelloWorldFunction/requirements.txt\", null, null], [\"zip\", \"./artifacts/HelloWorldFunction\", null]]}","content_base64":null,"directory_permission":"0755","file_permission":"0644","filename":"builds/a014687779c3df120f209a19150b2681839be9f0fad8f1a90ae0cf633a294938.plan.json","sensitive_content":null,"source":null},"after_unknown":{"content_base64sha256":true,"content_base64sha512":true,"content_md5":true,"content_sha1":true,"content_sha256":true,"content_sha512":true,"id":true},"before_sensitive":false,"after_sensitive":{"sensitive_content":true}}},{"address":"module.function10.null_resource.archive[0]","module_address":"module.function10","mode":"managed","type":"null_resource","name":"archive","index":0,"provider_name":"registry.terraform.io/hashicorp/null","change":{"actions":["create"],"before":null,"after":{"triggers":{"filename":"builds/a014687779c3df120f209a19150b2681839be9f0fad8f1a90ae0cf633a294938.zip","timestamp":"1691706821275698000"}},"after_unknown":{"id":true,"triggers":{}},"before_sensitive":false,"after_sensitive":{"triggers":{}}}},{"address":"module.function10.null_resource.sam_metadata_aws_lambda_function[0]","module_address":"module.function10","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_function","index":0,"provider_name":"registry.terraform.io/hashicorp/null","change":{"actions":["create"],"before":null,"after":{"triggers":{"built_output_path":"builds/a014687779c3df120f209a19150b2681839be9f0fad8f1a90ae0cf633a294938.zip","original_source_code":"\"./artifacts/HelloWorldFunction\"","resource_name":"aws_lambda_function.this[0]","resource_type":"ZIP_LAMBDA_FUNCTION","source_code_property":"path"}},"after_unknown":{"id":true,"triggers":{}},"before_sensitive":false,"after_sensitive":{"triggers":{}}}},{"address":"module.function11.data.aws_iam_policy_document.logs[0]","module_address":"module.function11","mode":"data","type":"aws_iam_policy_document","name":"logs","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["read"],"before":null,"after":{"override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["logs:CreateLogGroup","logs:CreateLogStream","logs:PutLogEvents"],"condition":[],"effect":"Allow","not_actions":null,"not_principals":[],"not_resources":null,"principals":[],"sid":null}],"version":null},"after_unknown":{"id":true,"json":true,"statement":[{"actions":[false,false,false],"condition":[],"not_principals":[],"principals":[],"resources":true}]},"before_sensitive":false,"after_sensitive":{"statement":[{"actions":[false,false,false],"condition":[],"not_principals":[],"principals":[],"resources":[]}]}},"action_reason":"read_because_config_unknown"},{"address":"module.function11.aws_cloudwatch_log_group.lambda[0]","module_address":"module.function11","mode":"managed","type":"aws_cloudwatch_log_group","name":"lambda","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"kms_key_id":null,"name":"/aws/lambda/function11","retention_in_days":0,"skip_destroy":false,"tags":null},"after_unknown":{"arn":true,"id":true,"name_prefix":true,"tags_all":true},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.function11.aws_iam_policy.logs[0]","module_address":"module.function11","mode":"managed","type":"aws_iam_policy","name":"logs","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":null,"name":"function11-logs","name_prefix":null,"path":"/","tags":null},"after_unknown":{"arn":true,"id":true,"policy":true,"policy_id":true,"tags_all":true},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.function11.aws_iam_role.lambda[0]","module_address":"module.function11","mode":"managed","type":"aws_iam_role","name":"lambda","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":true,"max_session_duration":3600,"name":"function11","path":"/","permissions_boundary":null,"tags":null},"after_unknown":{"arn":true,"create_date":true,"id":true,"inline_policy":true,"managed_policy_arns":true,"name_prefix":true,"tags_all":true,"unique_id":true},"before_sensitive":false,"after_sensitive":{"inline_policy":[],"managed_policy_arns":[],"tags_all":{}}}},{"address":"module.function11.aws_iam_role_policy_attachment.logs[0]","module_address":"module.function11","mode":"managed","type":"aws_iam_role_policy_attachment","name":"logs","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"role":"function11"},"after_unknown":{"id":true,"policy_arn":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.function11.aws_lambda_function.this[0]","module_address":"module.function11","mode":"managed","type":"aws_lambda_function","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"code_signing_config_arn":null,"dead_letter_config":[],"description":"","environment":[],"ephemeral_storage":[{"size":512}],"file_system_config":[],"filename":"builds/1534f5f9022dec4d97d387c11fab33415f3dbac2c084c801de8488b94d2ab599.zip","function_name":"function11","handler":"app.lambda_handler","image_config":[],"image_uri":null,"kms_key_arn":null,"memory_size":128,"package_type":"Zip","publish":false,"reserved_concurrent_executions":-1,"runtime":"python3.8","s3_bucket":null,"s3_key":null,"s3_object_version":null,"snap_start":[],"tags":null,"timeout":300,"timeouts":null,"vpc_config":[]},"after_unknown":{"architectures":true,"arn":true,"dead_letter_config":[],"environment":[],"ephemeral_storage":[{}],"file_system_config":[],"id":true,"image_config":[],"invoke_arn":true,"last_modified":true,"layers":true,"qualified_arn":true,"qualified_invoke_arn":true,"role":true,"signing_job_arn":true,"signing_profile_version_arn":true,"snap_start":[],"source_code_hash":true,"source_code_size":true,"tags_all":true,"tracing_config":true,"version":true,"vpc_config":[]},"before_sensitive":false,"after_sensitive":{"architectures":[],"dead_letter_config":[],"environment":[],"ephemeral_storage":[{}],"file_system_config":[],"image_config":[],"layers":[],"snap_start":[],"tags_all":{},"tracing_config":[],"vpc_config":[]}}},{"address":"module.function11.local_file.archive_plan[0]","module_address":"module.function11","mode":"managed","type":"local_file","name":"archive_plan","index":0,"provider_name":"registry.terraform.io/hashicorp/local","change":{"actions":["create"],"before":null,"after":{"content":"{\"filename\": \"builds/1534f5f9022dec4d97d387c11fab33415f3dbac2c084c801de8488b94d2ab599.zip\", \"runtime\": \"python3.8\", \"artifacts_dir\": \"builds\", \"build_plan\": [[\"zip\", \"./artifacts/HelloWorldFunction\", null]]}","content_base64":null,"directory_permission":"0755","file_permission":"0644","filename":"builds/1534f5f9022dec4d97d387c11fab33415f3dbac2c084c801de8488b94d2ab599.plan.json","sensitive_content":null,"source":null},"after_unknown":{"content_base64sha256":true,"content_base64sha512":true,"content_md5":true,"content_sha1":true,"content_sha256":true,"content_sha512":true,"id":true},"before_sensitive":false,"after_sensitive":{"sensitive_content":true}}},{"address":"module.function11.null_resource.archive[0]","module_address":"module.function11","mode":"managed","type":"null_resource","name":"archive","index":0,"provider_name":"registry.terraform.io/hashicorp/null","change":{"actions":["create"],"before":null,"after":{"triggers":{"filename":"builds/1534f5f9022dec4d97d387c11fab33415f3dbac2c084c801de8488b94d2ab599.zip","timestamp":"1691706821278628200"}},"after_unknown":{"id":true,"triggers":{}},"before_sensitive":false,"after_sensitive":{"triggers":{}}}},{"address":"module.function11.null_resource.sam_metadata_aws_lambda_function[0]","module_address":"module.function11","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_function","index":0,"provider_name":"registry.terraform.io/hashicorp/null","change":{"actions":["create"],"before":null,"after":{"triggers":{"built_output_path":"builds/1534f5f9022dec4d97d387c11fab33415f3dbac2c084c801de8488b94d2ab599.zip","original_source_code":"[{\"path\":\"./artifacts/HelloWorldFunction\"}]","resource_name":"aws_lambda_function.this[0]","resource_type":"ZIP_LAMBDA_FUNCTION","source_code_property":"path"}},"after_unknown":{"id":true,"triggers":{}},"before_sensitive":false,"after_sensitive":{"triggers":{}}}},{"address":"module.function2.aws_iam_role.iam_for_lambda","module_address":"module.function2","mode":"managed","type":"aws_iam_role","name":"iam_for_lambda","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"iam_for_lambda2","path":"/","permissions_boundary":null,"tags":null},"after_unknown":{"arn":true,"create_date":true,"id":true,"inline_policy":true,"managed_policy_arns":true,"name_prefix":true,"tags_all":true,"unique_id":true},"before_sensitive":false,"after_sensitive":{"inline_policy":[],"managed_policy_arns":[],"tags_all":{}}}},{"address":"module.function2.aws_lambda_function.this","module_address":"module.function2","mode":"managed","type":"aws_lambda_function","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"code_signing_config_arn":null,"dead_letter_config":[],"description":null,"environment":[],"file_system_config":[],"filename":"./building/hello_world.zip","function_name":"function2","handler":"app.lambda_handler","image_config":[],"image_uri":null,"kms_key_arn":null,"memory_size":128,"package_type":"Zip","publish":false,"reserved_concurrent_executions":-1,"runtime":"python3.8","s3_bucket":null,"s3_key":null,"s3_object_version":null,"snap_start":[],"tags":null,"timeout":300,"timeouts":null,"vpc_config":[]},"after_unknown":{"architectures":true,"arn":true,"dead_letter_config":[],"environment":[],"ephemeral_storage":true,"file_system_config":[],"id":true,"image_config":[],"invoke_arn":true,"last_modified":true,"layers":true,"qualified_arn":true,"qualified_invoke_arn":true,"role":true,"signing_job_arn":true,"signing_profile_version_arn":true,"snap_start":[],"source_code_hash":true,"source_code_size":true,"tags_all":true,"tracing_config":true,"version":true,"vpc_config":[]},"before_sensitive":false,"after_sensitive":{"architectures":[],"dead_letter_config":[],"environment":[],"ephemeral_storage":[],"file_system_config":[],"image_config":[],"layers":[],"snap_start":[],"tags_all":{},"tracing_config":[],"vpc_config":[]}}},{"address":"module.function7.data.aws_iam_policy_document.logs[0]","module_address":"module.function7","mode":"data","type":"aws_iam_policy_document","name":"logs","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["read"],"before":null,"after":{"override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["logs:CreateLogGroup","logs:CreateLogStream","logs:PutLogEvents"],"condition":[],"effect":"Allow","not_actions":null,"not_principals":[],"not_resources":null,"principals":[],"sid":null}],"version":null},"after_unknown":{"id":true,"json":true,"statement":[{"actions":[false,false,false],"condition":[],"not_principals":[],"principals":[],"resources":true}]},"before_sensitive":false,"after_sensitive":{"statement":[{"actions":[false,false,false],"condition":[],"not_principals":[],"principals":[],"resources":[]}]}},"action_reason":"read_because_config_unknown"},{"address":"module.function7.aws_cloudwatch_log_group.lambda[0]","module_address":"module.function7","mode":"managed","type":"aws_cloudwatch_log_group","name":"lambda","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"kms_key_id":null,"name":"/aws/lambda/function7","retention_in_days":0,"skip_destroy":false,"tags":null},"after_unknown":{"arn":true,"id":true,"name_prefix":true,"tags_all":true},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.function7.aws_iam_policy.logs[0]","module_address":"module.function7","mode":"managed","type":"aws_iam_policy","name":"logs","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":null,"name":"function7-logs","name_prefix":null,"path":"/","tags":null},"after_unknown":{"arn":true,"id":true,"policy":true,"policy_id":true,"tags_all":true},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.function7.aws_iam_role.lambda[0]","module_address":"module.function7","mode":"managed","type":"aws_iam_role","name":"lambda","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":true,"max_session_duration":3600,"name":"function7","path":"/","permissions_boundary":null,"tags":null},"after_unknown":{"arn":true,"create_date":true,"id":true,"inline_policy":true,"managed_policy_arns":true,"name_prefix":true,"tags_all":true,"unique_id":true},"before_sensitive":false,"after_sensitive":{"inline_policy":[],"managed_policy_arns":[],"tags_all":{}}}},{"address":"module.function7.aws_iam_role_policy_attachment.logs[0]","module_address":"module.function7","mode":"managed","type":"aws_iam_role_policy_attachment","name":"logs","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"role":"function7"},"after_unknown":{"id":true,"policy_arn":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.function7.aws_lambda_function.this[0]","module_address":"module.function7","mode":"managed","type":"aws_lambda_function","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"code_signing_config_arn":null,"dead_letter_config":[],"description":"","environment":[],"ephemeral_storage":[{"size":512}],"file_system_config":[],"filename":"builds/a014687779c3df120f209a19150b2681839be9f0fad8f1a90ae0cf633a294938.zip","function_name":"function7","handler":"app.lambda_handler","image_config":[],"image_uri":null,"kms_key_arn":null,"memory_size":128,"package_type":"Zip","publish":false,"reserved_concurrent_executions":-1,"runtime":"python3.8","s3_bucket":null,"s3_key":null,"s3_object_version":null,"snap_start":[],"tags":null,"timeout":300,"timeouts":null,"vpc_config":[]},"after_unknown":{"architectures":true,"arn":true,"dead_letter_config":[],"environment":[],"ephemeral_storage":[{}],"file_system_config":[],"id":true,"image_config":[],"invoke_arn":true,"last_modified":true,"layers":true,"qualified_arn":true,"qualified_invoke_arn":true,"role":true,"signing_job_arn":true,"signing_profile_version_arn":true,"snap_start":[],"source_code_hash":true,"source_code_size":true,"tags_all":true,"tracing_config":true,"version":true,"vpc_config":[]},"before_sensitive":false,"after_sensitive":{"architectures":[],"dead_letter_config":[],"environment":[],"ephemeral_storage":[{}],"file_system_config":[],"image_config":[],"layers":[],"snap_start":[],"tags_all":{},"tracing_config":[],"vpc_config":[]}}},{"address":"module.function7.local_file.archive_plan[0]","module_address":"module.function7","mode":"managed","type":"local_file","name":"archive_plan","index":0,"provider_name":"registry.terraform.io/hashicorp/local","change":{"actions":["create"],"before":null,"after":{"content":"{\"filename\": \"builds/a014687779c3df120f209a19150b2681839be9f0fad8f1a90ae0cf633a294938.zip\", \"runtime\": \"python3.8\", \"artifacts_dir\": \"builds\", \"build_plan\": [[\"pip\", \"python3.8\", \"./artifacts/HelloWorldFunction/requirements.txt\", null, null], [\"zip\", \"./artifacts/HelloWorldFunction\", null]]}","content_base64":null,"directory_permission":"0755","file_permission":"0644","filename":"builds/a014687779c3df120f209a19150b2681839be9f0fad8f1a90ae0cf633a294938.plan.json","sensitive_content":null,"source":null},"after_unknown":{"content_base64sha256":true,"content_base64sha512":true,"content_md5":true,"content_sha1":true,"content_sha256":true,"content_sha512":true,"id":true},"before_sensitive":false,"after_sensitive":{"sensitive_content":true}}},{"address":"module.function7.null_resource.archive[0]","module_address":"module.function7","mode":"managed","type":"null_resource","name":"archive","index":0,"provider_name":"registry.terraform.io/hashicorp/null","change":{"actions":["create"],"before":null,"after":{"triggers":{"filename":"builds/a014687779c3df120f209a19150b2681839be9f0fad8f1a90ae0cf633a294938.zip","timestamp":"1691706821270839000"}},"after_unknown":{"id":true,"triggers":{}},"before_sensitive":false,"after_sensitive":{"triggers":{}}}},{"address":"module.function7.null_resource.sam_metadata_aws_lambda_function[0]","module_address":"module.function7","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_function","index":0,"provider_name":"registry.terraform.io/hashicorp/null","change":{"actions":["create"],"before":null,"after":{"triggers":{"built_output_path":"builds/a014687779c3df120f209a19150b2681839be9f0fad8f1a90ae0cf633a294938.zip","original_source_code":"\"./artifacts/HelloWorldFunction\"","resource_name":"aws_lambda_function.this[0]","resource_type":"ZIP_LAMBDA_FUNCTION","source_code_property":"path"}},"after_unknown":{"id":true,"triggers":{}},"before_sensitive":false,"after_sensitive":{"triggers":{}}}},{"address":"module.function8.data.aws_iam_policy_document.logs[0]","module_address":"module.function8","mode":"data","type":"aws_iam_policy_document","name":"logs","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["read"],"before":null,"after":{"override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["logs:CreateLogGroup","logs:CreateLogStream","logs:PutLogEvents"],"condition":[],"effect":"Allow","not_actions":null,"not_principals":[],"not_resources":null,"principals":[],"sid":null}],"version":null},"after_unknown":{"id":true,"json":true,"statement":[{"actions":[false,false,false],"condition":[],"not_principals":[],"principals":[],"resources":true}]},"before_sensitive":false,"after_sensitive":{"statement":[{"actions":[false,false,false],"condition":[],"not_principals":[],"principals":[],"resources":[]}]}},"action_reason":"read_because_config_unknown"},{"address":"module.function8.aws_cloudwatch_log_group.lambda[0]","module_address":"module.function8","mode":"managed","type":"aws_cloudwatch_log_group","name":"lambda","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"kms_key_id":null,"name":"/aws/lambda/function8","retention_in_days":0,"skip_destroy":false,"tags":null},"after_unknown":{"arn":true,"id":true,"name_prefix":true,"tags_all":true},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.function8.aws_iam_policy.logs[0]","module_address":"module.function8","mode":"managed","type":"aws_iam_policy","name":"logs","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":null,"name":"function8-logs","name_prefix":null,"path":"/","tags":null},"after_unknown":{"arn":true,"id":true,"policy":true,"policy_id":true,"tags_all":true},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.function8.aws_iam_role.lambda[0]","module_address":"module.function8","mode":"managed","type":"aws_iam_role","name":"lambda","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":true,"max_session_duration":3600,"name":"function8","path":"/","permissions_boundary":null,"tags":null},"after_unknown":{"arn":true,"create_date":true,"id":true,"inline_policy":true,"managed_policy_arns":true,"name_prefix":true,"tags_all":true,"unique_id":true},"before_sensitive":false,"after_sensitive":{"inline_policy":[],"managed_policy_arns":[],"tags_all":{}}}},{"address":"module.function8.aws_iam_role_policy_attachment.logs[0]","module_address":"module.function8","mode":"managed","type":"aws_iam_role_policy_attachment","name":"logs","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"role":"function8"},"after_unknown":{"id":true,"policy_arn":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.function8.aws_lambda_function.this[0]","module_address":"module.function8","mode":"managed","type":"aws_lambda_function","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"code_signing_config_arn":null,"dead_letter_config":[],"description":"","environment":[],"ephemeral_storage":[{"size":512}],"file_system_config":[],"filename":null,"function_name":"function8","handler":"app.lambda_handler","image_config":[],"image_uri":null,"kms_key_arn":null,"memory_size":128,"package_type":"Zip","publish":false,"reserved_concurrent_executions":-1,"runtime":"python3.8","s3_bucket":"existing_s3_bucket","s3_key":"builds/a014687779c3df120f209a19150b2681839be9f0fad8f1a90ae0cf633a294938.zip","snap_start":[],"tags":null,"timeout":300,"timeouts":null,"vpc_config":[]},"after_unknown":{"architectures":true,"arn":true,"dead_letter_config":[],"environment":[],"ephemeral_storage":[{}],"file_system_config":[],"id":true,"image_config":[],"invoke_arn":true,"last_modified":true,"layers":true,"qualified_arn":true,"qualified_invoke_arn":true,"role":true,"s3_object_version":true,"signing_job_arn":true,"signing_profile_version_arn":true,"snap_start":[],"source_code_hash":true,"source_code_size":true,"tags_all":true,"tracing_config":true,"version":true,"vpc_config":[]},"before_sensitive":false,"after_sensitive":{"architectures":[],"dead_letter_config":[],"environment":[],"ephemeral_storage":[{}],"file_system_config":[],"image_config":[],"layers":[],"snap_start":[],"tags_all":{},"tracing_config":[],"vpc_config":[]}}},{"address":"module.function8.aws_s3_object.lambda_package[0]","module_address":"module.function8","mode":"managed","type":"aws_s3_object","name":"lambda_package","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"acl":"private","bucket":"existing_s3_bucket","cache_control":null,"content":null,"content_base64":null,"content_disposition":null,"content_encoding":null,"content_language":null,"force_destroy":false,"key":"builds/a014687779c3df120f209a19150b2681839be9f0fad8f1a90ae0cf633a294938.zip","metadata":null,"object_lock_legal_hold_status":null,"object_lock_mode":null,"object_lock_retain_until_date":null,"source":"builds/a014687779c3df120f209a19150b2681839be9f0fad8f1a90ae0cf633a294938.zip","source_hash":null,"storage_class":"ONEZONE_IA","tags":null,"website_redirect":null},"after_unknown":{"bucket_key_enabled":true,"content_type":true,"etag":true,"id":true,"kms_key_id":true,"server_side_encryption":true,"tags_all":true,"version_id":true},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.function8.local_file.archive_plan[0]","module_address":"module.function8","mode":"managed","type":"local_file","name":"archive_plan","index":0,"provider_name":"registry.terraform.io/hashicorp/local","change":{"actions":["create"],"before":null,"after":{"content":"{\"filename\": \"builds/a014687779c3df120f209a19150b2681839be9f0fad8f1a90ae0cf633a294938.zip\", \"runtime\": \"python3.8\", \"artifacts_dir\": \"builds\", \"build_plan\": [[\"pip\", \"python3.8\", \"./artifacts/HelloWorldFunction/requirements.txt\", null, null], [\"zip\", \"./artifacts/HelloWorldFunction\", null]]}","content_base64":null,"directory_permission":"0755","file_permission":"0644","filename":"builds/a014687779c3df120f209a19150b2681839be9f0fad8f1a90ae0cf633a294938.plan.json","sensitive_content":null,"source":null},"after_unknown":{"content_base64sha256":true,"content_base64sha512":true,"content_md5":true,"content_sha1":true,"content_sha256":true,"content_sha512":true,"id":true},"before_sensitive":false,"after_sensitive":{"sensitive_content":true}}},{"address":"module.function8.null_resource.archive[0]","module_address":"module.function8","mode":"managed","type":"null_resource","name":"archive","index":0,"provider_name":"registry.terraform.io/hashicorp/null","change":{"actions":["create"],"before":null,"after":{"triggers":{"filename":"builds/a014687779c3df120f209a19150b2681839be9f0fad8f1a90ae0cf633a294938.zip","timestamp":"1691706821273802000"}},"after_unknown":{"id":true,"triggers":{}},"before_sensitive":false,"after_sensitive":{"triggers":{}}}},{"address":"module.function8.null_resource.sam_metadata_aws_lambda_function[0]","module_address":"module.function8","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_function","index":0,"provider_name":"registry.terraform.io/hashicorp/null","change":{"actions":["create"],"before":null,"after":{"triggers":{"built_output_path":"builds/a014687779c3df120f209a19150b2681839be9f0fad8f1a90ae0cf633a294938.zip","original_source_code":"\"./artifacts/HelloWorldFunction\"","resource_name":"aws_lambda_function.this[0]","resource_type":"ZIP_LAMBDA_FUNCTION","source_code_property":"path"}},"after_unknown":{"id":true,"triggers":{}},"before_sensitive":false,"after_sensitive":{"triggers":{}}}},{"address":"module.function9.data.aws_iam_policy_document.logs[0]","module_address":"module.function9","mode":"data","type":"aws_iam_policy_document","name":"logs","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["read"],"before":null,"after":{"override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["logs:CreateLogGroup","logs:CreateLogStream","logs:PutLogEvents"],"condition":[],"effect":"Allow","not_actions":null,"not_principals":[],"not_resources":null,"principals":[],"sid":null}],"version":null},"after_unknown":{"id":true,"json":true,"statement":[{"actions":[false,false,false],"condition":[],"not_principals":[],"principals":[],"resources":true}]},"before_sensitive":false,"after_sensitive":{"statement":[{"actions":[false,false,false],"condition":[],"not_principals":[],"principals":[],"resources":[]}]}},"action_reason":"read_because_config_unknown"},{"address":"module.function9.aws_cloudwatch_log_group.lambda[0]","module_address":"module.function9","mode":"managed","type":"aws_cloudwatch_log_group","name":"lambda","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"kms_key_id":null,"name":"/aws/lambda/function9","retention_in_days":0,"skip_destroy":false,"tags":null},"after_unknown":{"arn":true,"id":true,"name_prefix":true,"tags_all":true},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.function9.aws_iam_policy.logs[0]","module_address":"module.function9","mode":"managed","type":"aws_iam_policy","name":"logs","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":null,"name":"function9-logs","name_prefix":null,"path":"/","tags":null},"after_unknown":{"arn":true,"id":true,"policy":true,"policy_id":true,"tags_all":true},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.function9.aws_iam_role.lambda[0]","module_address":"module.function9","mode":"managed","type":"aws_iam_role","name":"lambda","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":true,"max_session_duration":3600,"name":"function9","path":"/","permissions_boundary":null,"tags":null},"after_unknown":{"arn":true,"create_date":true,"id":true,"inline_policy":true,"managed_policy_arns":true,"name_prefix":true,"tags_all":true,"unique_id":true},"before_sensitive":false,"after_sensitive":{"inline_policy":[],"managed_policy_arns":[],"tags_all":{}}}},{"address":"module.function9.aws_iam_role_policy_attachment.logs[0]","module_address":"module.function9","mode":"managed","type":"aws_iam_role_policy_attachment","name":"logs","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"role":"function9"},"after_unknown":{"id":true,"policy_arn":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.function9.aws_lambda_function.this[0]","module_address":"module.function9","mode":"managed","type":"aws_lambda_function","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"code_signing_config_arn":null,"dead_letter_config":[],"description":"","environment":[],"ephemeral_storage":[{"size":512}],"file_system_config":[],"filename":"./building/hello_world.zip","function_name":"function9","handler":"app.lambda_handler","image_config":[],"image_uri":null,"kms_key_arn":null,"memory_size":128,"package_type":"Zip","publish":false,"reserved_concurrent_executions":-1,"runtime":"python3.8","s3_bucket":null,"s3_key":null,"s3_object_version":null,"snap_start":[],"tags":null,"timeout":300,"timeouts":null,"vpc_config":[]},"after_unknown":{"architectures":true,"arn":true,"dead_letter_config":[],"environment":[],"ephemeral_storage":[{}],"file_system_config":[],"id":true,"image_config":[],"invoke_arn":true,"last_modified":true,"layers":true,"qualified_arn":true,"qualified_invoke_arn":true,"role":true,"signing_job_arn":true,"signing_profile_version_arn":true,"snap_start":[],"source_code_hash":true,"source_code_size":true,"tags_all":true,"tracing_config":true,"version":true,"vpc_config":[]},"before_sensitive":false,"after_sensitive":{"architectures":[],"dead_letter_config":[],"environment":[],"ephemeral_storage":[{}],"file_system_config":[],"image_config":[],"layers":[],"snap_start":[],"tags_all":{},"tracing_config":[],"vpc_config":[]}}},{"address":"module.layer10.aws_lambda_layer_version.this[0]","module_address":"module.layer10","mode":"managed","type":"aws_lambda_layer_version","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"compatible_architectures":null,"compatible_runtimes":["python3.8"],"description":"","filename":null,"layer_name":"lambda_layer10","license_info":"","s3_key":"builds/16acbfbd0142ab389b41c05160e5830644da3b21858cbd5704cbc3201eba07d8.zip","skip_destroy":false},"after_unknown":{"arn":true,"compatible_runtimes":[false],"created_date":true,"id":true,"layer_arn":true,"s3_bucket":true,"s3_object_version":true,"signing_job_arn":true,"signing_profile_version_arn":true,"source_code_hash":true,"source_code_size":true,"version":true},"before_sensitive":false,"after_sensitive":{"compatible_runtimes":[false]}}},{"address":"module.layer10.aws_s3_object.lambda_package[0]","module_address":"module.layer10","mode":"managed","type":"aws_s3_object","name":"lambda_package","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"acl":"private","cache_control":null,"content":null,"content_base64":null,"content_disposition":null,"content_encoding":null,"content_language":null,"force_destroy":false,"key":"builds/16acbfbd0142ab389b41c05160e5830644da3b21858cbd5704cbc3201eba07d8.zip","metadata":null,"object_lock_legal_hold_status":null,"object_lock_mode":null,"object_lock_retain_until_date":null,"source":"builds/16acbfbd0142ab389b41c05160e5830644da3b21858cbd5704cbc3201eba07d8.zip","source_hash":null,"storage_class":"ONEZONE_IA","tags":null,"website_redirect":null},"after_unknown":{"bucket":true,"bucket_key_enabled":true,"content_type":true,"etag":true,"id":true,"kms_key_id":true,"server_side_encryption":true,"tags_all":true,"version_id":true},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.layer10.local_file.archive_plan[0]","module_address":"module.layer10","mode":"managed","type":"local_file","name":"archive_plan","index":0,"provider_name":"registry.terraform.io/hashicorp/local","change":{"actions":["create"],"before":null,"after":{"content":"{\"filename\": \"builds/16acbfbd0142ab389b41c05160e5830644da3b21858cbd5704cbc3201eba07d8.zip\", \"runtime\": \"python3.8\", \"artifacts_dir\": \"builds\", \"build_plan\": [[\"pip\", \"python3.8\", \"./artifacts/layer10/requirements.txt\", \"python\", null], [\"zip\", \"./artifacts/layer10\", \"python\"]]}","content_base64":null,"directory_permission":"0755","file_permission":"0644","filename":"builds/16acbfbd0142ab389b41c05160e5830644da3b21858cbd5704cbc3201eba07d8.plan.json","sensitive_content":null,"source":null},"after_unknown":{"content_base64sha256":true,"content_base64sha512":true,"content_md5":true,"content_sha1":true,"content_sha256":true,"content_sha512":true,"id":true},"before_sensitive":false,"after_sensitive":{"sensitive_content":true}}},{"address":"module.layer10.null_resource.archive[0]","module_address":"module.layer10","mode":"managed","type":"null_resource","name":"archive","index":0,"provider_name":"registry.terraform.io/hashicorp/null","change":{"actions":["create"],"before":null,"after":{"triggers":{"filename":"builds/16acbfbd0142ab389b41c05160e5830644da3b21858cbd5704cbc3201eba07d8.zip","timestamp":"1691706821294883000"}},"after_unknown":{"id":true,"triggers":{}},"before_sensitive":false,"after_sensitive":{"triggers":{}}}},{"address":"module.layer10.null_resource.sam_metadata_aws_lambda_layer_version[0]","module_address":"module.layer10","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_layer_version","index":0,"provider_name":"registry.terraform.io/hashicorp/null","change":{"actions":["create"],"before":null,"after":{"triggers":{"built_output_path":"builds/16acbfbd0142ab389b41c05160e5830644da3b21858cbd5704cbc3201eba07d8.zip","original_source_code":"{\"path\":\"./artifacts/layer10\",\"pip_requirements\":true,\"prefix_in_zip\":\"python\"}","resource_name":"aws_lambda_layer_version.this[0]","resource_type":"LAMBDA_LAYER","source_code_property":"path"}},"after_unknown":{"id":true,"triggers":{}},"before_sensitive":false,"after_sensitive":{"triggers":{}}}},{"address":"module.layer11.aws_lambda_layer_version.this[0]","module_address":"module.layer11","mode":"managed","type":"aws_lambda_layer_version","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"compatible_architectures":null,"compatible_runtimes":["python3.8"],"description":"","filename":"builds/c4b3df4dc840bce205ec9597c0c5117c5780792c773c3fb86d88417a4677b2cf.zip","layer_name":"lambda_layer11","license_info":"","s3_bucket":null,"s3_key":null,"s3_object_version":null,"skip_destroy":false},"after_unknown":{"arn":true,"compatible_runtimes":[false],"created_date":true,"id":true,"layer_arn":true,"signing_job_arn":true,"signing_profile_version_arn":true,"source_code_hash":true,"source_code_size":true,"version":true},"before_sensitive":false,"after_sensitive":{"compatible_runtimes":[false]}}},{"address":"module.layer11.local_file.archive_plan[0]","module_address":"module.layer11","mode":"managed","type":"local_file","name":"archive_plan","index":0,"provider_name":"registry.terraform.io/hashicorp/local","change":{"actions":["create"],"before":null,"after":{"content":"{\"filename\": \"builds/c4b3df4dc840bce205ec9597c0c5117c5780792c773c3fb86d88417a4677b2cf.zip\", \"runtime\": \"python3.8\", \"artifacts_dir\": \"builds\", \"build_plan\": [[\"pip\", \"python3.8\", \"./artifacts/layer11/requirements.txt\", \"python\", null], [\"zip\", \"./artifacts/layer11\", \"python\"]]}","content_base64":null,"directory_permission":"0755","file_permission":"0644","filename":"builds/c4b3df4dc840bce205ec9597c0c5117c5780792c773c3fb86d88417a4677b2cf.plan.json","sensitive_content":null,"source":null},"after_unknown":{"content_base64sha256":true,"content_base64sha512":true,"content_md5":true,"content_sha1":true,"content_sha256":true,"content_sha512":true,"id":true},"before_sensitive":false,"after_sensitive":{"sensitive_content":true}}},{"address":"module.layer11.null_resource.archive[0]","module_address":"module.layer11","mode":"managed","type":"null_resource","name":"archive","index":0,"provider_name":"registry.terraform.io/hashicorp/null","change":{"actions":["create"],"before":null,"after":{"triggers":{"filename":"builds/c4b3df4dc840bce205ec9597c0c5117c5780792c773c3fb86d88417a4677b2cf.zip","timestamp":"1691706821268425000"}},"after_unknown":{"id":true,"triggers":{}},"before_sensitive":false,"after_sensitive":{"triggers":{}}}},{"address":"module.layer11.null_resource.sam_metadata_aws_lambda_layer_version[0]","module_address":"module.layer11","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_layer_version","index":0,"provider_name":"registry.terraform.io/hashicorp/null","change":{"actions":["create"],"before":null,"after":{"triggers":{"built_output_path":"builds/c4b3df4dc840bce205ec9597c0c5117c5780792c773c3fb86d88417a4677b2cf.zip","original_source_code":"[{\"path\":\"./artifacts/layer11\",\"pip_requirements\":true,\"prefix_in_zip\":\"python\"}]","resource_name":"aws_lambda_layer_version.this[0]","resource_type":"LAMBDA_LAYER","source_code_property":"path"}},"after_unknown":{"id":true,"triggers":{}},"before_sensitive":false,"after_sensitive":{"triggers":{}}}},{"address":"module.layer2.aws_lambda_layer_version.layer","module_address":"module.layer2","mode":"managed","type":"aws_lambda_layer_version","name":"layer","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"compatible_architectures":null,"compatible_runtimes":["python3.8"],"description":null,"filename":"./building/layer2.zip","layer_name":"lambda_layer2","license_info":null,"s3_bucket":null,"s3_key":null,"s3_object_version":null,"skip_destroy":false},"after_unknown":{"arn":true,"compatible_runtimes":[false],"created_date":true,"id":true,"layer_arn":true,"signing_job_arn":true,"signing_profile_version_arn":true,"source_code_hash":true,"source_code_size":true,"version":true},"before_sensitive":false,"after_sensitive":{"compatible_runtimes":[false]}}},{"address":"module.layer7.aws_lambda_layer_version.this[0]","module_address":"module.layer7","mode":"managed","type":"aws_lambda_layer_version","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"compatible_architectures":null,"compatible_runtimes":["python3.8"],"description":"","filename":"builds/0c2ef58d95d6a475f9ca912f4d1874f0055fbfce41359dafe98031f9cf25015f.zip","layer_name":"lambda_layer7","license_info":"","s3_bucket":null,"s3_key":null,"s3_object_version":null,"skip_destroy":false},"after_unknown":{"arn":true,"compatible_runtimes":[false],"created_date":true,"id":true,"layer_arn":true,"signing_job_arn":true,"signing_profile_version_arn":true,"source_code_hash":true,"source_code_size":true,"version":true},"before_sensitive":false,"after_sensitive":{"compatible_runtimes":[false]}}},{"address":"module.layer7.local_file.archive_plan[0]","module_address":"module.layer7","mode":"managed","type":"local_file","name":"archive_plan","index":0,"provider_name":"registry.terraform.io/hashicorp/local","change":{"actions":["create"],"before":null,"after":{"content":"{\"filename\": \"builds/0c2ef58d95d6a475f9ca912f4d1874f0055fbfce41359dafe98031f9cf25015f.zip\", \"runtime\": \"python3.8\", \"artifacts_dir\": \"builds\", \"build_plan\": [[\"pip\", \"python3.8\", \"./artifacts/layer7/requirements.txt\", \"python\", null], [\"zip\", \"./artifacts/layer7\", \"python\"]]}","content_base64":null,"directory_permission":"0755","file_permission":"0644","filename":"builds/0c2ef58d95d6a475f9ca912f4d1874f0055fbfce41359dafe98031f9cf25015f.plan.json","sensitive_content":null,"source":null},"after_unknown":{"content_base64sha256":true,"content_base64sha512":true,"content_md5":true,"content_sha1":true,"content_sha256":true,"content_sha512":true,"id":true},"before_sensitive":false,"after_sensitive":{"sensitive_content":true}}},{"address":"module.layer7.null_resource.archive[0]","module_address":"module.layer7","mode":"managed","type":"null_resource","name":"archive","index":0,"provider_name":"registry.terraform.io/hashicorp/null","change":{"actions":["create"],"before":null,"after":{"triggers":{"filename":"builds/0c2ef58d95d6a475f9ca912f4d1874f0055fbfce41359dafe98031f9cf25015f.zip","timestamp":"1691706821270948000"}},"after_unknown":{"id":true,"triggers":{}},"before_sensitive":false,"after_sensitive":{"triggers":{}}}},{"address":"module.layer7.null_resource.sam_metadata_aws_lambda_layer_version[0]","module_address":"module.layer7","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_layer_version","index":0,"provider_name":"registry.terraform.io/hashicorp/null","change":{"actions":["create"],"before":null,"after":{"triggers":{"built_output_path":"builds/0c2ef58d95d6a475f9ca912f4d1874f0055fbfce41359dafe98031f9cf25015f.zip","original_source_code":"{\"path\":\"./artifacts/layer7\",\"pip_requirements\":true,\"prefix_in_zip\":\"python\"}","resource_name":"aws_lambda_layer_version.this[0]","resource_type":"LAMBDA_LAYER","source_code_property":"path"}},"after_unknown":{"id":true,"triggers":{}},"before_sensitive":false,"after_sensitive":{"triggers":{}}}},{"address":"module.layer8.aws_lambda_layer_version.this[0]","module_address":"module.layer8","mode":"managed","type":"aws_lambda_layer_version","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"compatible_architectures":null,"compatible_runtimes":["python3.8"],"description":"","filename":null,"layer_name":"lambda_layer8","license_info":"","s3_bucket":"existing_s3_bucket","s3_key":"builds/ea65aa129e81242fe31703680404e30239c65afb2bcc166673d2ce39df10891c.zip","skip_destroy":false},"after_unknown":{"arn":true,"compatible_runtimes":[false],"created_date":true,"id":true,"layer_arn":true,"s3_object_version":true,"signing_job_arn":true,"signing_profile_version_arn":true,"source_code_hash":true,"source_code_size":true,"version":true},"before_sensitive":false,"after_sensitive":{"compatible_runtimes":[false]}}},{"address":"module.layer8.aws_s3_object.lambda_package[0]","module_address":"module.layer8","mode":"managed","type":"aws_s3_object","name":"lambda_package","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"acl":"private","bucket":"existing_s3_bucket","cache_control":null,"content":null,"content_base64":null,"content_disposition":null,"content_encoding":null,"content_language":null,"force_destroy":false,"key":"builds/ea65aa129e81242fe31703680404e30239c65afb2bcc166673d2ce39df10891c.zip","metadata":null,"object_lock_legal_hold_status":null,"object_lock_mode":null,"object_lock_retain_until_date":null,"source":"builds/ea65aa129e81242fe31703680404e30239c65afb2bcc166673d2ce39df10891c.zip","source_hash":null,"storage_class":"ONEZONE_IA","tags":null,"website_redirect":null},"after_unknown":{"bucket_key_enabled":true,"content_type":true,"etag":true,"id":true,"kms_key_id":true,"server_side_encryption":true,"tags_all":true,"version_id":true},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.layer8.local_file.archive_plan[0]","module_address":"module.layer8","mode":"managed","type":"local_file","name":"archive_plan","index":0,"provider_name":"registry.terraform.io/hashicorp/local","change":{"actions":["create"],"before":null,"after":{"content":"{\"filename\": \"builds/ea65aa129e81242fe31703680404e30239c65afb2bcc166673d2ce39df10891c.zip\", \"runtime\": \"python3.8\", \"artifacts_dir\": \"builds\", \"build_plan\": [[\"pip\", \"python3.8\", \"./artifacts/layer8/requirements.txt\", \"python\", null], [\"zip\", \"./artifacts/layer8\", \"python\"]]}","content_base64":null,"directory_permission":"0755","file_permission":"0644","filename":"builds/ea65aa129e81242fe31703680404e30239c65afb2bcc166673d2ce39df10891c.plan.json","sensitive_content":null,"source":null},"after_unknown":{"content_base64sha256":true,"content_base64sha512":true,"content_md5":true,"content_sha1":true,"content_sha256":true,"content_sha512":true,"id":true},"before_sensitive":false,"after_sensitive":{"sensitive_content":true}}},{"address":"module.layer8.null_resource.archive[0]","module_address":"module.layer8","mode":"managed","type":"null_resource","name":"archive","index":0,"provider_name":"registry.terraform.io/hashicorp/null","change":{"actions":["create"],"before":null,"after":{"triggers":{"filename":"builds/ea65aa129e81242fe31703680404e30239c65afb2bcc166673d2ce39df10891c.zip","timestamp":"1691706821268557000"}},"after_unknown":{"id":true,"triggers":{}},"before_sensitive":false,"after_sensitive":{"triggers":{}}}},{"address":"module.layer8.null_resource.sam_metadata_aws_lambda_layer_version[0]","module_address":"module.layer8","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_layer_version","index":0,"provider_name":"registry.terraform.io/hashicorp/null","change":{"actions":["create"],"before":null,"after":{"triggers":{"built_output_path":"builds/ea65aa129e81242fe31703680404e30239c65afb2bcc166673d2ce39df10891c.zip","original_source_code":"{\"path\":\"./artifacts/layer8\",\"pip_requirements\":true,\"prefix_in_zip\":\"python\"}","resource_name":"aws_lambda_layer_version.this[0]","resource_type":"LAMBDA_LAYER","source_code_property":"path"}},"after_unknown":{"id":true,"triggers":{}},"before_sensitive":false,"after_sensitive":{"triggers":{}}}},{"address":"module.layer9.aws_lambda_layer_version.this[0]","module_address":"module.layer9","mode":"managed","type":"aws_lambda_layer_version","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"compatible_architectures":null,"compatible_runtimes":["python3.8"],"description":"","filename":"./building/layer9.zip","layer_name":"lambda_layer9","license_info":"","s3_bucket":null,"s3_key":null,"s3_object_version":null,"skip_destroy":false},"after_unknown":{"arn":true,"compatible_runtimes":[false],"created_date":true,"id":true,"layer_arn":true,"signing_job_arn":true,"signing_profile_version_arn":true,"source_code_hash":true,"source_code_size":true,"version":true},"before_sensitive":false,"after_sensitive":{"compatible_runtimes":[false]}}},{"address":"module.level1_lambda.aws_iam_role.iam_for_lambda","module_address":"module.level1_lambda","mode":"managed","type":"aws_iam_role","name":"iam_for_lambda","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"iam_for_lambda_l1","path":"/","permissions_boundary":null,"tags":null},"after_unknown":{"arn":true,"create_date":true,"id":true,"inline_policy":true,"managed_policy_arns":true,"name_prefix":true,"tags_all":true,"unique_id":true},"before_sensitive":false,"after_sensitive":{"inline_policy":[],"managed_policy_arns":[],"tags_all":{}}}},{"address":"module.level1_lambda.aws_lambda_function.this","module_address":"module.level1_lambda","mode":"managed","type":"aws_lambda_function","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"code_signing_config_arn":null,"dead_letter_config":[],"description":null,"environment":[],"file_system_config":[],"filename":"./building/list_books.zip","function_name":"my_level1_lambda","handler":"index.lambda_handler","image_config":[],"image_uri":null,"kms_key_arn":null,"layers":null,"memory_size":128,"package_type":"Zip","publish":false,"reserved_concurrent_executions":-1,"runtime":"python3.8","s3_bucket":null,"s3_key":null,"s3_object_version":null,"snap_start":[],"tags":null,"timeout":300,"timeouts":null,"vpc_config":[]},"after_unknown":{"architectures":true,"arn":true,"dead_letter_config":[],"environment":[],"ephemeral_storage":true,"file_system_config":[],"id":true,"image_config":[],"invoke_arn":true,"last_modified":true,"qualified_arn":true,"qualified_invoke_arn":true,"role":true,"signing_job_arn":true,"signing_profile_version_arn":true,"snap_start":[],"source_code_hash":true,"source_code_size":true,"tags_all":true,"tracing_config":true,"version":true,"vpc_config":[]},"before_sensitive":false,"after_sensitive":{"architectures":[],"dead_letter_config":[],"environment":[],"ephemeral_storage":[],"file_system_config":[],"image_config":[],"snap_start":[],"tags_all":{},"tracing_config":[],"vpc_config":[]}}},{"address":"module.level1_lambda.module.level2_lambda.aws_iam_role.iam_for_lambda","module_address":"module.level1_lambda.module.level2_lambda","mode":"managed","type":"aws_iam_role","name":"iam_for_lambda","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"iam_for_lambda_l2","path":"/","permissions_boundary":null,"tags":null},"after_unknown":{"arn":true,"create_date":true,"id":true,"inline_policy":true,"managed_policy_arns":true,"name_prefix":true,"tags_all":true,"unique_id":true},"before_sensitive":false,"after_sensitive":{"inline_policy":[],"managed_policy_arns":[],"tags_all":{}}}},{"address":"module.level1_lambda.module.level2_lambda.aws_lambda_function.this","module_address":"module.level1_lambda.module.level2_lambda","mode":"managed","type":"aws_lambda_function","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"code_signing_config_arn":null,"dead_letter_config":[],"description":null,"environment":[],"file_system_config":[],"filename":"./building/list_books.zip","function_name":"my_level2_lambda","handler":"index.lambda_handler","image_config":[],"image_uri":null,"kms_key_arn":null,"layers":null,"memory_size":128,"package_type":"Zip","publish":false,"reserved_concurrent_executions":-1,"runtime":"python3.8","s3_bucket":null,"s3_key":null,"s3_object_version":null,"snap_start":[],"tags":null,"timeout":300,"timeouts":null,"vpc_config":[]},"after_unknown":{"architectures":true,"arn":true,"dead_letter_config":[],"environment":[],"ephemeral_storage":true,"file_system_config":[],"id":true,"image_config":[],"invoke_arn":true,"last_modified":true,"qualified_arn":true,"qualified_invoke_arn":true,"role":true,"signing_job_arn":true,"signing_profile_version_arn":true,"snap_start":[],"source_code_hash":true,"source_code_size":true,"tags_all":true,"tracing_config":true,"version":true,"vpc_config":[]},"before_sensitive":false,"after_sensitive":{"architectures":[],"dead_letter_config":[],"environment":[],"ephemeral_storage":[],"file_system_config":[],"image_config":[],"snap_start":[],"tags_all":{},"tracing_config":[],"vpc_config":[]}}}],"prior_state":{"format_version":"1.0","terraform_version":"1.4.6","values":{"root_module":{"child_modules":[{"resources":[{"address":"module.function10.data.aws_iam_policy_document.assume_role[0]","mode":"data","type":"aws_iam_policy_document","name":"assume_role","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"3693445097","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"lambda.amazonaws.com\"\n      }\n    }\n  ]\n}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["sts:AssumeRole"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["lambda.amazonaws.com"],"type":"Service"}],"resources":[],"sid":""}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":[false]}],"resources":[]}]}},{"address":"module.function10.data.aws_partition.current","mode":"data","type":"aws_partition","name":"current","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"dns_suffix":"amazonaws.com","id":"aws","partition":"aws","reverse_dns_prefix":"com.amazonaws"},"sensitive_values":{}},{"address":"module.function10.data.external.archive_prepare[0]","mode":"data","type":"external","name":"archive_prepare","index":0,"provider_name":"registry.terraform.io/hashicorp/external","schema_version":0,"values":{"id":"-","program":["python3",".terraform/modules/function10/package.py","prepare"],"query":{"artifacts_dir":"builds","docker":null,"hash_extra":"","hash_extra_paths":"[]","paths":"{\"cwd\":\"/Users/mladan/ws/aws-sam-cli/tests/integration/testdata/buildcmd/terraform/zip_based_lambda_functions_local_backend\",\"module\":\".terraform/modules/function10\",\"root\":\".\"}","recreate_missing_package":"true","runtime":"python3.8","source_path":"\"./artifacts/HelloWorldFunction\""},"result":{"build_plan":"{\"filename\": \"builds/a014687779c3df120f209a19150b2681839be9f0fad8f1a90ae0cf633a294938.zip\", \"runtime\": \"python3.8\", \"artifacts_dir\": \"builds\", \"build_plan\": [[\"pip\", \"python3.8\", \"./artifacts/HelloWorldFunction/requirements.txt\", null, null], [\"zip\", \"./artifacts/HelloWorldFunction\", null]]}","build_plan_filename":"builds/a014687779c3df120f209a19150b2681839be9f0fad8f1a90ae0cf633a294938.plan.json","filename":"builds/a014687779c3df120f209a19150b2681839be9f0fad8f1a90ae0cf633a294938.zip","timestamp":"1691706821275698000","was_missing":"true"},"working_dir":null},"sensitive_values":{"program":[false,false,false],"query":{},"result":{}}}],"address":"module.function10"},{"resources":[{"address":"module.function11.data.aws_iam_policy_document.assume_role[0]","mode":"data","type":"aws_iam_policy_document","name":"assume_role","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"3693445097","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"lambda.amazonaws.com\"\n      }\n    }\n  ]\n}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["sts:AssumeRole"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["lambda.amazonaws.com"],"type":"Service"}],"resources":[],"sid":""}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":[false]}],"resources":[]}]}},{"address":"module.function11.data.aws_partition.current","mode":"data","type":"aws_partition","name":"current","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"dns_suffix":"amazonaws.com","id":"aws","partition":"aws","reverse_dns_prefix":"com.amazonaws"},"sensitive_values":{}},{"address":"module.function11.data.external.archive_prepare[0]","mode":"data","type":"external","name":"archive_prepare","index":0,"provider_name":"registry.terraform.io/hashicorp/external","schema_version":0,"values":{"id":"-","program":["python3",".terraform/modules/function11/package.py","prepare"],"query":{"artifacts_dir":"builds","docker":null,"hash_extra":"","hash_extra_paths":"[]","paths":"{\"cwd\":\"/Users/mladan/ws/aws-sam-cli/tests/integration/testdata/buildcmd/terraform/zip_based_lambda_functions_local_backend\",\"module\":\".terraform/modules/function11\",\"root\":\".\"}","recreate_missing_package":"true","runtime":"python3.8","source_path":"[{\"path\":\"./artifacts/HelloWorldFunction\"}]"},"result":{"build_plan":"{\"filename\": \"builds/1534f5f9022dec4d97d387c11fab33415f3dbac2c084c801de8488b94d2ab599.zip\", \"runtime\": \"python3.8\", \"artifacts_dir\": \"builds\", \"build_plan\": [[\"zip\", \"./artifacts/HelloWorldFunction\", null]]}","build_plan_filename":"builds/1534f5f9022dec4d97d387c11fab33415f3dbac2c084c801de8488b94d2ab599.plan.json","filename":"builds/1534f5f9022dec4d97d387c11fab33415f3dbac2c084c801de8488b94d2ab599.zip","timestamp":"1691706821278628200","was_missing":"true"},"working_dir":null},"sensitive_values":{"program":[false,false,false],"query":{},"result":{}}}],"address":"module.function11"},{"resources":[{"address":"module.function7.data.aws_iam_policy_document.assume_role[0]","mode":"data","type":"aws_iam_policy_document","name":"assume_role","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"3693445097","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"lambda.amazonaws.com\"\n      }\n    }\n  ]\n}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["sts:AssumeRole"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["lambda.amazonaws.com"],"type":"Service"}],"resources":[],"sid":""}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":[false]}],"resources":[]}]}},{"address":"module.function7.data.aws_partition.current","mode":"data","type":"aws_partition","name":"current","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"dns_suffix":"amazonaws.com","id":"aws","partition":"aws","reverse_dns_prefix":"com.amazonaws"},"sensitive_values":{}},{"address":"module.function7.data.external.archive_prepare[0]","mode":"data","type":"external","name":"archive_prepare","index":0,"provider_name":"registry.terraform.io/hashicorp/external","schema_version":0,"values":{"id":"-","program":["python3",".terraform/modules/function7/package.py","prepare"],"query":{"artifacts_dir":"builds","docker":null,"hash_extra":"","hash_extra_paths":"[]","paths":"{\"cwd\":\"/Users/mladan/ws/aws-sam-cli/tests/integration/testdata/buildcmd/terraform/zip_based_lambda_functions_local_backend\",\"module\":\".terraform/modules/function7\",\"root\":\".\"}","recreate_missing_package":"true","runtime":"python3.8","source_path":"\"./artifacts/HelloWorldFunction\""},"result":{"build_plan":"{\"filename\": \"builds/a014687779c3df120f209a19150b2681839be9f0fad8f1a90ae0cf633a294938.zip\", \"runtime\": \"python3.8\", \"artifacts_dir\": \"builds\", \"build_plan\": [[\"pip\", \"python3.8\", \"./artifacts/HelloWorldFunction/requirements.txt\", null, null], [\"zip\", \"./artifacts/HelloWorldFunction\", null]]}","build_plan_filename":"builds/a014687779c3df120f209a19150b2681839be9f0fad8f1a90ae0cf633a294938.plan.json","filename":"builds/a014687779c3df120f209a19150b2681839be9f0fad8f1a90ae0cf633a294938.zip","timestamp":"1691706821270839000","was_missing":"true"},"working_dir":null},"sensitive_values":{"program":[false,false,false],"query":{},"result":{}}}],"address":"module.function7"},{"resources":[{"address":"module.function8.data.aws_iam_policy_document.assume_role[0]","mode":"data","type":"aws_iam_policy_document","name":"assume_role","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"3693445097","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"lambda.amazonaws.com\"\n      }\n    }\n  ]\n}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["sts:AssumeRole"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["lambda.amazonaws.com"],"type":"Service"}],"resources":[],"sid":""}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":[false]}],"resources":[]}]}},{"address":"module.function8.data.aws_partition.current","mode":"data","type":"aws_partition","name":"current","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"dns_suffix":"amazonaws.com","id":"aws","partition":"aws","reverse_dns_prefix":"com.amazonaws"},"sensitive_values":{}},{"address":"module.function8.data.external.archive_prepare[0]","mode":"data","type":"external","name":"archive_prepare","index":0,"provider_name":"registry.terraform.io/hashicorp/external","schema_version":0,"values":{"id":"-","program":["python3",".terraform/modules/function8/package.py","prepare"],"query":{"artifacts_dir":"builds","docker":null,"hash_extra":"","hash_extra_paths":"[]","paths":"{\"cwd\":\"/Users/mladan/ws/aws-sam-cli/tests/integration/testdata/buildcmd/terraform/zip_based_lambda_functions_local_backend\",\"module\":\".terraform/modules/function8\",\"root\":\".\"}","recreate_missing_package":"true","runtime":"python3.8","source_path":"\"./artifacts/HelloWorldFunction\""},"result":{"build_plan":"{\"filename\": \"builds/a014687779c3df120f209a19150b2681839be9f0fad8f1a90ae0cf633a294938.zip\", \"runtime\": \"python3.8\", \"artifacts_dir\": \"builds\", \"build_plan\": [[\"pip\", \"python3.8\", \"./artifacts/HelloWorldFunction/requirements.txt\", null, null], [\"zip\", \"./artifacts/HelloWorldFunction\", null]]}","build_plan_filename":"builds/a014687779c3df120f209a19150b2681839be9f0fad8f1a90ae0cf633a294938.plan.json","filename":"builds/a014687779c3df120f209a19150b2681839be9f0fad8f1a90ae0cf633a294938.zip","timestamp":"1691706821273802000","was_missing":"true"},"working_dir":null},"sensitive_values":{"program":[false,false,false],"query":{},"result":{}}}],"address":"module.function8"},{"resources":[{"address":"module.function9.data.aws_iam_policy_document.assume_role[0]","mode":"data","type":"aws_iam_policy_document","name":"assume_role","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"3693445097","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"lambda.amazonaws.com\"\n      }\n    }\n  ]\n}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["sts:AssumeRole"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["lambda.amazonaws.com"],"type":"Service"}],"resources":[],"sid":""}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":[false]}],"resources":[]}]}},{"address":"module.function9.data.aws_partition.current","mode":"data","type":"aws_partition","name":"current","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"dns_suffix":"amazonaws.com","id":"aws","partition":"aws","reverse_dns_prefix":"com.amazonaws"},"sensitive_values":{}}],"address":"module.function9"},{"resources":[{"address":"module.layer10.data.aws_partition.current","mode":"data","type":"aws_partition","name":"current","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"dns_suffix":"amazonaws.com","id":"aws","partition":"aws","reverse_dns_prefix":"com.amazonaws"},"sensitive_values":{}},{"address":"module.layer10.data.external.archive_prepare[0]","mode":"data","type":"external","name":"archive_prepare","index":0,"provider_name":"registry.terraform.io/hashicorp/external","schema_version":0,"values":{"id":"-","program":["python3",".terraform/modules/layer10/package.py","prepare"],"query":{"artifacts_dir":"builds","docker":null,"hash_extra":"","hash_extra_paths":"[]","paths":"{\"cwd\":\"/Users/mladan/ws/aws-sam-cli/tests/integration/testdata/buildcmd/terraform/zip_based_lambda_functions_local_backend\",\"module\":\".terraform/modules/layer10\",\"root\":\".\"}","recreate_missing_package":"true","runtime":"python3.8","source_path":"{\"path\":\"./artifacts/layer10\",\"pip_requirements\":true,\"prefix_in_zip\":\"python\"}"},"result":{"build_plan":"{\"filename\": \"builds/16acbfbd0142ab389b41c05160e5830644da3b21858cbd5704cbc3201eba07d8.zip\", \"runtime\": \"python3.8\", \"artifacts_dir\": \"builds\", \"build_plan\": [[\"pip\", \"python3.8\", \"./artifacts/layer10/requirements.txt\", \"python\", null], [\"zip\", \"./artifacts/layer10\", \"python\"]]}","build_plan_filename":"builds/16acbfbd0142ab389b41c05160e5830644da3b21858cbd5704cbc3201eba07d8.plan.json","filename":"builds/16acbfbd0142ab389b41c05160e5830644da3b21858cbd5704cbc3201eba07d8.zip","timestamp":"1691706821294883000","was_missing":"true"},"working_dir":null},"sensitive_values":{"program":[false,false,false],"query":{},"result":{}}}],"address":"module.layer10"},{"resources":[{"address":"module.layer11.data.aws_partition.current","mode":"data","type":"aws_partition","name":"current","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"dns_suffix":"amazonaws.com","id":"aws","partition":"aws","reverse_dns_prefix":"com.amazonaws"},"sensitive_values":{}},{"address":"module.layer11.data.external.archive_prepare[0]","mode":"data","type":"external","name":"archive_prepare","index":0,"provider_name":"registry.terraform.io/hashicorp/external","schema_version":0,"values":{"id":"-","program":["python3",".terraform/modules/layer11/package.py","prepare"],"query":{"artifacts_dir":"builds","docker":null,"hash_extra":"","hash_extra_paths":"[]","paths":"{\"cwd\":\"/Users/mladan/ws/aws-sam-cli/tests/integration/testdata/buildcmd/terraform/zip_based_lambda_functions_local_backend\",\"module\":\".terraform/modules/layer11\",\"root\":\".\"}","recreate_missing_package":"true","runtime":"python3.8","source_path":"[{\"path\":\"./artifacts/layer11\",\"pip_requirements\":true,\"prefix_in_zip\":\"python\"}]"},"result":{"build_plan":"{\"filename\": \"builds/c4b3df4dc840bce205ec9597c0c5117c5780792c773c3fb86d88417a4677b2cf.zip\", \"runtime\": \"python3.8\", \"artifacts_dir\": \"builds\", \"build_plan\": [[\"pip\", \"python3.8\", \"./artifacts/layer11/requirements.txt\", \"python\", null], [\"zip\", \"./artifacts/layer11\", \"python\"]]}","build_plan_filename":"builds/c4b3df4dc840bce205ec9597c0c5117c5780792c773c3fb86d88417a4677b2cf.plan.json","filename":"builds/c4b3df4dc840bce205ec9597c0c5117c5780792c773c3fb86d88417a4677b2cf.zip","timestamp":"1691706821268425000","was_missing":"true"},"working_dir":null},"sensitive_values":{"program":[false,false,false],"query":{},"result":{}}}],"address":"module.layer11"},{"resources":[{"address":"module.layer7.data.aws_partition.current","mode":"data","type":"aws_partition","name":"current","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"dns_suffix":"amazonaws.com","id":"aws","partition":"aws","reverse_dns_prefix":"com.amazonaws"},"sensitive_values":{}},{"address":"module.layer7.data.external.archive_prepare[0]","mode":"data","type":"external","name":"archive_prepare","index":0,"provider_name":"registry.terraform.io/hashicorp/external","schema_version":0,"values":{"id":"-","program":["python3",".terraform/modules/layer7/package.py","prepare"],"query":{"artifacts_dir":"builds","docker":null,"hash_extra":"","hash_extra_paths":"[]","paths":"{\"cwd\":\"/Users/mladan/ws/aws-sam-cli/tests/integration/testdata/buildcmd/terraform/zip_based_lambda_functions_local_backend\",\"module\":\".terraform/modules/layer7\",\"root\":\".\"}","recreate_missing_package":"true","runtime":"python3.8","source_path":"{\"path\":\"./artifacts/layer7\",\"pip_requirements\":true,\"prefix_in_zip\":\"python\"}"},"result":{"build_plan":"{\"filename\": \"builds/0c2ef58d95d6a475f9ca912f4d1874f0055fbfce41359dafe98031f9cf25015f.zip\", \"runtime\": \"python3.8\", \"artifacts_dir\": \"builds\", \"build_plan\": [[\"pip\", \"python3.8\", \"./artifacts/layer7/requirements.txt\", \"python\", null], [\"zip\", \"./artifacts/layer7\", \"python\"]]}","build_plan_filename":"builds/0c2ef58d95d6a475f9ca912f4d1874f0055fbfce41359dafe98031f9cf25015f.plan.json","filename":"builds/0c2ef58d95d6a475f9ca912f4d1874f0055fbfce41359dafe98031f9cf25015f.zip","timestamp":"1691706821270948000","was_missing":"true"},"working_dir":null},"sensitive_values":{"program":[false,false,false],"query":{},"result":{}}}],"address":"module.layer7"},{"resources":[{"address":"module.layer8.data.aws_partition.current","mode":"data","type":"aws_partition","name":"current","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"dns_suffix":"amazonaws.com","id":"aws","partition":"aws","reverse_dns_prefix":"com.amazonaws"},"sensitive_values":{}},{"address":"module.layer8.data.external.archive_prepare[0]","mode":"data","type":"external","name":"archive_prepare","index":0,"provider_name":"registry.terraform.io/hashicorp/external","schema_version":0,"values":{"id":"-","program":["python3",".terraform/modules/layer8/package.py","prepare"],"query":{"artifacts_dir":"builds","docker":null,"hash_extra":"","hash_extra_paths":"[]","paths":"{\"cwd\":\"/Users/mladan/ws/aws-sam-cli/tests/integration/testdata/buildcmd/terraform/zip_based_lambda_functions_local_backend\",\"module\":\".terraform/modules/layer8\",\"root\":\".\"}","recreate_missing_package":"true","runtime":"python3.8","source_path":"{\"path\":\"./artifacts/layer8\",\"pip_requirements\":true,\"prefix_in_zip\":\"python\"}"},"result":{"build_plan":"{\"filename\": \"builds/ea65aa129e81242fe31703680404e30239c65afb2bcc166673d2ce39df10891c.zip\", \"runtime\": \"python3.8\", \"artifacts_dir\": \"builds\", \"build_plan\": [[\"pip\", \"python3.8\", \"./artifacts/layer8/requirements.txt\", \"python\", null], [\"zip\", \"./artifacts/layer8\", \"python\"]]}","build_plan_filename":"builds/ea65aa129e81242fe31703680404e30239c65afb2bcc166673d2ce39df10891c.plan.json","filename":"builds/ea65aa129e81242fe31703680404e30239c65afb2bcc166673d2ce39df10891c.zip","timestamp":"1691706821268557000","was_missing":"true"},"working_dir":null},"sensitive_values":{"program":[false,false,false],"query":{},"result":{}}}],"address":"module.layer8"},{"resources":[{"address":"module.layer9.data.aws_partition.current","mode":"data","type":"aws_partition","name":"current","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"dns_suffix":"amazonaws.com","id":"aws","partition":"aws","reverse_dns_prefix":"com.amazonaws"},"sensitive_values":{}}],"address":"module.layer9"}]}}},"configuration":{"provider_config":{"aws":{"name":"aws","full_name":"registry.terraform.io/hashicorp/aws"},"module.function10:external":{"name":"external","full_name":"registry.terraform.io/hashicorp/external","version_constraint":"\u003e= 1.0.0","module_address":"module.function10"},"module.function10:local":{"name":"local","full_name":"registry.terraform.io/hashicorp/local","version_constraint":"\u003e= 1.0.0","module_address":"module.function10"},"module.function11:external":{"name":"external","full_name":"registry.terraform.io/hashicorp/external","version_constraint":"\u003e= 1.0.0","module_address":"module.function11"},"module.function11:local":{"name":"local","full_name":"registry.terraform.io/hashicorp/local","version_constraint":"\u003e= 1.0.0","module_address":"module.function11"},"module.function7:external":{"name":"external","full_name":"registry.terraform.io/hashicorp/external","version_constraint":"\u003e= 1.0.0","module_address":"module.function7"},"module.function7:local":{"name":"local","full_name":"registry.terraform.io/hashicorp/local","version_constraint":"\u003e= 1.0.0","module_address":"module.function7"},"module.function8:external":{"name":"external","full_name":"registry.terraform.io/hashicorp/external","version_constraint":"\u003e= 1.0.0","module_address":"module.function8"},"module.function8:local":{"name":"local","full_name":"registry.terraform.io/hashicorp/local","version_constraint":"\u003e= 1.0.0","module_address":"module.function8"},"module.function9:external":{"name":"external","full_name":"registry.terraform.io/hashicorp/external","version_constraint":"\u003e= 1.0.0","module_address":"module.function9"},"module.function9:local":{"name":"local","full_name":"registry.terraform.io/hashicorp/local","version_constraint":"\u003e= 1.0.0","module_address":"module.function9"},"module.layer10:external":{"name":"external","full_name":"registry.terraform.io/hashicorp/external","version_constraint":"\u003e= 1.0.0","module_address":"module.layer10"},"module.layer10:local":{"name":"local","full_name":"registry.terraform.io/hashicorp/local","version_constraint":"\u003e= 1.0.0","module_address":"module.layer10"},"module.layer11:external":{"name":"external","full_name":"registry.terraform.io/hashicorp/external","version_constraint":"\u003e= 1.0.0","module_address":"module.layer11"},"module.layer11:local":{"name":"local","full_name":"registry.terraform.io/hashicorp/local","version_constraint":"\u003e= 1.0.0","module_address":"module.layer11"},"module.layer7:external":{"name":"external","full_name":"registry.terraform.io/hashicorp/external","version_constraint":"\u003e= 1.0.0","module_address":"module.layer7"},"module.layer7:local":{"name":"local","full_name":"registry.terraform.io/hashicorp/local","version_constraint":"\u003e= 1.0.0","module_address":"module.layer7"},"module.layer8:external":{"name":"external","full_name":"registry.terraform.io/hashicorp/external","version_constraint":"\u003e= 1.0.0","module_address":"module.layer8"},"module.layer8:local":{"name":"local","full_name":"registry.terraform.io/hashicorp/local","version_constraint":"\u003e= 1.0.0","module_address":"module.layer8"},"module.layer9:external":{"name":"external","full_name":"registry.terraform.io/hashicorp/external","version_constraint":"\u003e= 1.0.0","module_address":"module.layer9"},"module.layer9:local":{"name":"local","full_name":"registry.terraform.io/hashicorp/local","version_constraint":"\u003e= 1.0.0","module_address":"module.layer9"},"null":{"name":"null","full_name":"registry.terraform.io/hashicorp/null"},"random":{"name":"random","full_name":"registry.terraform.io/hashicorp/random"}},"root_module":{"resources":[{"address":"aws_iam_role.iam_for_lambda","mode":"managed","type":"aws_iam_role","name":"iam_for_lambda","provider_config_key":"aws","expressions":{"assume_role_policy":{"constant_value":"{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Action\": \"sts:AssumeRole\",\n            \"Principal\": {\n                \"Service\": \"lambda.amazonaws.com\"\n            },\n            \"Effect\": \"Allow\",\n            \"Sid\": \"\"\n        }\n    ]\n}\n"},"name":{"constant_value":"dummy_iam_role"}},"schema_version":0},{"address":"aws_lambda_function.from_localfile","mode":"managed","type":"aws_lambda_function","name":"from_localfile","provider_config_key":"aws","expressions":{"filename":{"references":["local.building_path","local.lambda_code_filename"]},"function_name":{"constant_value":"my_function_from_localfile"},"handler":{"constant_value":"index.lambda_handler"},"role":{"references":["aws_iam_role.iam_for_lambda.arn","aws_iam_role.iam_for_lambda"]},"runtime":{"constant_value":"python3.8"},"timeout":{"constant_value":300}},"schema_version":0,"depends_on":["null_resource.build_lambda_function"]},{"address":"aws_lambda_function.from_s3","mode":"managed","type":"aws_lambda_function","name":"from_s3","provider_config_key":"aws","expressions":{"function_name":{"constant_value":"my_function_from_s3"},"handler":{"constant_value":"index.lambda_handler"},"role":{"references":["aws_iam_role.iam_for_lambda.arn","aws_iam_role.iam_for_lambda"]},"runtime":{"constant_value":"python3.8"},"s3_bucket":{"references":["aws_s3_bucket.lambda_code_bucket.bucket","aws_s3_bucket.lambda_code_bucket"]},"s3_key":{"references":["aws_s3_object.s3_lambda_code.key","aws_s3_object.s3_lambda_code"]},"timeout":{"constant_value":300}},"schema_version":0,"depends_on":["null_resource.build_lambda_function"]},{"address":"aws_lambda_function.function1","mode":"managed","type":"aws_lambda_function","name":"function1","provider_config_key":"aws","expressions":{"filename":{"references":["local.building_path","local.hello_world_artifact_file_name"]},"function_name":{"constant_value":"function1"},"handler":{"constant_value":"app.lambda_handler"},"layers":{"references":["aws_lambda_layer_version.layer1[0].arn","aws_lambda_layer_version.layer1[0]","aws_lambda_layer_version.layer1"]},"role":{"references":["aws_iam_role.iam_for_lambda.arn","aws_iam_role.iam_for_lambda"]},"runtime":{"constant_value":"python3.8"},"timeout":{"constant_value":300}},"schema_version":0,"depends_on":["null_resource.build_hello_world_lambda_function"]},{"address":"aws_lambda_function.function3","mode":"managed","type":"aws_lambda_function","name":"function3","provider_config_key":"aws","expressions":{"function_name":{"constant_value":"function3"},"handler":{"constant_value":"app.lambda_handler"},"layers":{"references":["aws_lambda_layer_version.layer3[\"my_idx\"].arn","aws_lambda_layer_version.layer3[\"my_idx\"]","aws_lambda_layer_version.layer3"]},"role":{"references":["aws_iam_role.iam_for_lambda.arn","aws_iam_role.iam_for_lambda"]},"runtime":{"constant_value":"python3.8"},"s3_bucket":{"references":["aws_s3_bucket.lambda_code_bucket.id","aws_s3_bucket.lambda_code_bucket"]},"s3_key":{"constant_value":"function3_code"},"timeout":{"constant_value":300}},"schema_version":0,"depends_on":["null_resource.build_hello_world_lambda_function","aws_s3_object.function3_code"]},{"address":"aws_lambda_function.function4","mode":"managed","type":"aws_lambda_function","name":"function4","provider_config_key":"aws","expressions":{"function_name":{"constant_value":"function4"},"handler":{"constant_value":"app.lambda_handler"},"layers":{"references":["aws_lambda_layer_version.layer4.arn","aws_lambda_layer_version.layer4"]},"role":{"references":["aws_iam_role.iam_for_lambda.arn","aws_iam_role.iam_for_lambda"]},"runtime":{"constant_value":"python3.8"},"s3_bucket":{"constant_value":"existing_s3_bucket_name"},"s3_key":{"constant_value":"function4_code"},"timeout":{"constant_value":300}},"schema_version":0,"depends_on":["null_resource.build_hello_world_lambda_function","aws_s3_object.function4_code"]},{"address":"aws_lambda_function.function5","mode":"managed","type":"aws_lambda_function","name":"function5","provider_config_key":"aws","expressions":{"function_name":{"constant_value":"function5"},"handler":{"constant_value":"app.lambda_handler"},"layers":{"references":["aws_lambda_layer_version.layer5.arn","aws_lambda_layer_version.layer5"]},"role":{"references":["aws_iam_role.iam_for_lambda.arn","aws_iam_role.iam_for_lambda"]},"runtime":{"constant_value":"python3.8"},"s3_bucket":{"constant_value":"existing_s3_bucket_name"},"s3_key":{"constant_value":"function5_code"},"timeout":{"constant_value":300}},"schema_version":0,"depends_on":["null_resource.build_hello_world_lambda_function","aws_s3_object.function5_code"]},{"address":"aws_lambda_function.function6","mode":"managed","type":"aws_lambda_function","name":"function6","provider_config_key":"aws","expressions":{"filename":{"references":["local.building_path","local.hello_world_artifact_file_name"]},"function_name":{"constant_value":"function6"},"handler":{"constant_value":"app.lambda_handler"},"layers":{"references":["aws_lambda_layer_version.layer6.arn","aws_lambda_layer_version.layer6"]},"role":{"references":["aws_iam_role.iam_for_lambda.arn","aws_iam_role.iam_for_lambda"]},"runtime":{"constant_value":"python3.8"},"timeout":{"constant_value":300}},"schema_version":0,"depends_on":["null_resource.build_hello_world_lambda_function"]},{"address":"aws_lambda_layer_version.from_local","mode":"managed","type":"aws_lambda_layer_version","name":"from_local","provider_config_key":"aws","expressions":{"compatible_runtimes":{"constant_value":["python3.8","python3.9"]},"filename":{"references":["local.building_path","local.layer_code_filename"]},"layer_name":{"constant_value":"my_layer"}},"schema_version":0},{"address":"aws_lambda_layer_version.layer1","mode":"managed","type":"aws_lambda_layer_version","name":"layer1","provider_config_key":"aws","expressions":{"compatible_runtimes":{"constant_value":["python3.8"]},"filename":{"references":["local.building_path","local.layer1_artifact_file_name"]},"layer_name":{"constant_value":"lambda_layer1"}},"schema_version":0,"count_expression":{"constant_value":1},"depends_on":["null_resource.build_layer1_version"]},{"address":"aws_lambda_layer_version.layer3","mode":"managed","type":"aws_lambda_layer_version","name":"layer3","provider_config_key":"aws","expressions":{"compatible_runtimes":{"constant_value":["python3.8"]},"layer_name":{"references":["each.value"]},"s3_bucket":{"references":["aws_s3_bucket.lambda_code_bucket.id","aws_s3_bucket.lambda_code_bucket"]},"s3_key":{"constant_value":"layer3_code"}},"schema_version":0,"for_each_expression":{"constant_value":{"my_idx":"lambda_layer3"}},"depends_on":["null_resource.build_layer3_version","aws_s3_object.layer3_code"]},{"address":"aws_lambda_layer_version.layer4","mode":"managed","type":"aws_lambda_layer_version","name":"layer4","provider_config_key":"aws","expressions":{"compatible_runtimes":{"constant_value":["python3.8"]},"layer_name":{"constant_value":"lambda_layer4"},"s3_bucket":{"constant_value":"existing_s3_bucket_name"},"s3_key":{"constant_value":"layer4_code"}},"schema_version":0,"depends_on":["null_resource.build_layer4_version","aws_s3_object.layer4_code"]},{"address":"aws_lambda_layer_version.layer5","mode":"managed","type":"aws_lambda_layer_version","name":"layer5","provider_config_key":"aws","expressions":{"compatible_runtimes":{"constant_value":["python3.8"]},"layer_name":{"constant_value":"lambda_layer5"},"s3_bucket":{"constant_value":"existing_s3_bucket_name"},"s3_key":{"constant_value":"layer5_code"}},"schema_version":0,"depends_on":["null_resource.build_layer5_version","aws_s3_object.layer5_code"]},{"address":"aws_lambda_layer_version.layer6","mode":"managed","type":"aws_lambda_layer_version","name":"layer6","provider_config_key":"aws","expressions":{"compatible_runtimes":{"constant_value":["python3.8"]},"filename":{"references":["local.building_path","local.layer6_artifact_file_name"]},"layer_name":{"constant_value":"lambda_layer6"}},"schema_version":0,"depends_on":["null_resource.build_layer6_version"]},{"address":"aws_s3_bucket.lambda_code_bucket","mode":"managed","type":"aws_s3_bucket","name":"lambda_code_bucket","provider_config_key":"aws","expressions":{"bucket":{"references":["random_uuid.s3_bucket.result","random_uuid.s3_bucket"]}},"schema_version":0},{"address":"aws_s3_object.function3_code","mode":"managed","type":"aws_s3_object","name":"function3_code","provider_config_key":"aws","expressions":{"bucket":{"references":["aws_s3_bucket.lambda_code_bucket.id","aws_s3_bucket.lambda_code_bucket"]},"key":{"constant_value":"function3_code"},"source":{"references":["local.building_path","local.hello_world_artifact_file_name"]}},"schema_version":0,"depends_on":["null_resource.build_hello_world_lambda_function"]},{"address":"aws_s3_object.function4_code","mode":"managed","type":"aws_s3_object","name":"function4_code","provider_config_key":"aws","expressions":{"bucket":{"constant_value":"existing_s3_bucket_name"},"key":{"constant_value":"function4_code"},"source":{"references":["local.building_path","local.hello_world_artifact_file_name"]}},"schema_version":0,"depends_on":["null_resource.build_hello_world_lambda_function"]},{"address":"aws_s3_object.function5_code","mode":"managed","type":"aws_s3_object","name":"function5_code","provider_config_key":"aws","expressions":{"bucket":{"constant_value":"existing_s3_bucket_name"},"key":{"constant_value":"function5_code"},"source":{"references":["local.building_path","local.hello_world_artifact_file_name"]}},"schema_version":0,"depends_on":["null_resource.build_hello_world_lambda_function"]},{"address":"aws_s3_object.layer3_code","mode":"managed","type":"aws_s3_object","name":"layer3_code","provider_config_key":"aws","expressions":{"bucket":{"references":["aws_s3_bucket.lambda_code_bucket.id","aws_s3_bucket.lambda_code_bucket"]},"key":{"constant_value":"layer3_code"},"source":{"references":["local.building_path","local.layer3_artifact_file_name"]}},"schema_version":0,"depends_on":["null_resource.build_layer3_version"]},{"address":"aws_s3_object.layer4_code","mode":"managed","type":"aws_s3_object","name":"layer4_code","provider_config_key":"aws","expressions":{"bucket":{"constant_value":"existing_s3_bucket_name"},"key":{"constant_value":"layer4_code"},"source":{"references":["local.building_path","local.layer4_artifact_file_name"]}},"schema_version":0,"depends_on":["null_resource.build_layer4_version"]},{"address":"aws_s3_object.layer5_code","mode":"managed","type":"aws_s3_object","name":"layer5_code","provider_config_key":"aws","expressions":{"bucket":{"constant_value":"existing_s3_bucket_name"},"key":{"constant_value":"layer5_code"},"source":{"references":["local.building_path","local.layer5_artifact_file_name"]}},"schema_version":0,"depends_on":["null_resource.build_layer5_version"]},{"address":"aws_s3_object.s3_lambda_code","mode":"managed","type":"aws_s3_object","name":"s3_lambda_code","provider_config_key":"aws","expressions":{"bucket":{"references":["aws_s3_bucket.lambda_code_bucket.id","aws_s3_bucket.lambda_code_bucket"]},"key":{"constant_value":"s3_lambda_code"},"source":{"references":["local.building_path","local.lambda_code_filename"]}},"schema_version":0},{"address":"null_resource.build_hello_world_lambda_function","mode":"managed","type":"null_resource","name":"build_hello_world_lambda_function","provider_config_key":"null","provisioners":[{"type":"local-exec","expressions":{"command":{"references":["local.hello_world_function_src_path","local.building_path","local.hello_world_artifact_file_name"]}}}],"expressions":{"triggers":{}},"schema_version":0},{"address":"null_resource.build_lambda_function","mode":"managed","type":"null_resource","name":"build_lambda_function","provider_config_key":"null","provisioners":[{"type":"local-exec","expressions":{"command":{"references":["local.lambda_src_path","local.building_path","local.lambda_code_filename"]}}}],"expressions":{"triggers":{}},"schema_version":0},{"address":"null_resource.build_layer1_version","mode":"managed","type":"null_resource","name":"build_layer1_version","provider_config_key":"null","provisioners":[{"type":"local-exec","expressions":{"command":{"references":["local.layer1_src_path","local.building_path","local.layer1_artifact_file_name"]}}}],"expressions":{"triggers":{}},"schema_version":0},{"address":"null_resource.build_layer2_version","mode":"managed","type":"null_resource","name":"build_layer2_version","provider_config_key":"null","provisioners":[{"type":"local-exec","expressions":{"command":{"references":["local.layer2_src_path","local.building_path","local.layer2_artifact_file_name"]}}}],"expressions":{"triggers":{}},"schema_version":0},{"address":"null_resource.build_layer3_version","mode":"managed","type":"null_resource","name":"build_layer3_version","provider_config_key":"null","provisioners":[{"type":"local-exec","expressions":{"command":{"references":["local.layer3_src_path","local.building_path","local.layer3_artifact_file_name"]}}}],"expressions":{"triggers":{}},"schema_version":0},{"address":"null_resource.build_layer4_version","mode":"managed","type":"null_resource","name":"build_layer4_version","provider_config_key":"null","provisioners":[{"type":"local-exec","expressions":{"command":{"references":["local.layer4_src_path","local.building_path","local.layer4_artifact_file_name"]}}}],"expressions":{"triggers":{}},"schema_version":0},{"address":"null_resource.build_layer5_version","mode":"managed","type":"null_resource","name":"build_layer5_version","provider_config_key":"null","provisioners":[{"type":"local-exec","expressions":{"command":{"references":["local.layer5_src_path","local.building_path","local.layer5_artifact_file_name"]}}}],"expressions":{"triggers":{}},"schema_version":0},{"address":"null_resource.build_layer6_version","mode":"managed","type":"null_resource","name":"build_layer6_version","provider_config_key":"null","provisioners":[{"type":"local-exec","expressions":{"command":{"references":["local.layer6_src_path","local.building_path","local.layer6_artifact_file_name"]}}}],"expressions":{"triggers":{}},"schema_version":0},{"address":"null_resource.build_layer9_version","mode":"managed","type":"null_resource","name":"build_layer9_version","provider_config_key":"null","provisioners":[{"type":"local-exec","expressions":{"command":{"references":["local.layer9_src_path","local.building_path","local.layer9_artifact_file_name"]}}}],"expressions":{"triggers":{}},"schema_version":0},{"address":"null_resource.build_layer_version","mode":"managed","type":"null_resource","name":"build_layer_version","provider_config_key":"null","provisioners":[{"type":"local-exec","expressions":{"command":{"references":["local.layer_src_path","local.building_path","local.layer_code_filename"]}}}],"expressions":{"triggers":{}},"schema_version":0},{"address":"null_resource.sam_metadata_aws_lambda_function1","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_function1","provider_config_key":"null","expressions":{"triggers":{"references":["local.hello_world_function_src_path","local.building_path","local.hello_world_artifact_file_name"]}},"schema_version":0,"depends_on":["null_resource.build_hello_world_lambda_function"]},{"address":"null_resource.sam_metadata_aws_lambda_function2","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_function2","provider_config_key":"null","expressions":{"triggers":{"references":["local.hello_world_function_src_path","local.building_path","local.hello_world_artifact_file_name"]}},"schema_version":0,"depends_on":["null_resource.build_hello_world_lambda_function"]},{"address":"null_resource.sam_metadata_aws_lambda_function3","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_function3","provider_config_key":"null","expressions":{"triggers":{"references":["local.hello_world_function_src_path","local.building_path","local.hello_world_artifact_file_name"]}},"schema_version":0,"depends_on":["null_resource.build_hello_world_lambda_function"]},{"address":"null_resource.sam_metadata_aws_lambda_function4","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_function4","provider_config_key":"null","expressions":{"triggers":{"references":["local.hello_world_function_src_path","local.building_path","local.hello_world_artifact_file_name"]}},"schema_version":0,"depends_on":["null_resource.build_hello_world_lambda_function"]},{"address":"null_resource.sam_metadata_aws_lambda_function5","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_function5","provider_config_key":"null","expressions":{"triggers":{"references":["local.hello_world_function_src_path","local.building_path","local.hello_world_artifact_file_name"]}},"schema_version":0,"depends_on":["null_resource.build_hello_world_lambda_function"]},{"address":"null_resource.sam_metadata_aws_lambda_function6","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_function6","provider_config_key":"null","expressions":{"triggers":{"references":["local.hello_world_function_src_path","local.building_path","local.hello_world_artifact_file_name"]}},"schema_version":0,"depends_on":["null_resource.build_hello_world_lambda_function"]},{"address":"null_resource.sam_metadata_aws_lambda_function9","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_function9","provider_config_key":"null","expressions":{"triggers":{"references":["local.hello_world_function_src_path","local.building_path","local.hello_world_artifact_file_name"]}},"schema_version":0,"depends_on":["null_resource.build_hello_world_lambda_function"]},{"address":"null_resource.sam_metadata_aws_lambda_function_from_localfile","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_function_from_localfile","provider_config_key":"null","expressions":{"triggers":{"references":["local.lambda_src_path","local.building_path","local.lambda_code_filename"]}},"schema_version":0,"depends_on":["null_resource.build_lambda_function"]},{"address":"null_resource.sam_metadata_aws_lambda_function_from_s3","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_function_from_s3","provider_config_key":"null","expressions":{"triggers":{"references":["local.lambda_src_path","local.building_path","local.lambda_code_filename"]}},"schema_version":0,"depends_on":["null_resource.build_lambda_function"]},{"address":"null_resource.sam_metadata_aws_lambda_function_level1_lambda","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_function_level1_lambda","provider_config_key":"null","expressions":{"triggers":{"references":["local.lambda_src_path","local.building_path","local.lambda_code_filename"]}},"schema_version":0,"depends_on":["null_resource.build_lambda_function"]},{"address":"null_resource.sam_metadata_aws_lambda_function_level2_lambda","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_function_level2_lambda","provider_config_key":"null","expressions":{"triggers":{"references":["local.lambda_src_path","local.building_path","local.lambda_code_filename"]}},"schema_version":0,"depends_on":["null_resource.build_lambda_function"]},{"address":"null_resource.sam_metadata_aws_lambda_layer_version_from_local","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_layer_version_from_local","provider_config_key":"null","expressions":{"triggers":{"references":["local.layer_src_path","local.building_path","local.layer_code_filename"]}},"schema_version":0,"depends_on":["null_resource.build_layer_version"]},{"address":"null_resource.sam_metadata_aws_lambda_layer_version_layer1","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_layer_version_layer1","provider_config_key":"null","expressions":{"triggers":{"references":["local.layer1_src_path","local.building_path","local.layer1_artifact_file_name"]}},"schema_version":0,"depends_on":["null_resource.build_layer1_version"]},{"address":"null_resource.sam_metadata_aws_lambda_layer_version_layer2","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_layer_version_layer2","provider_config_key":"null","expressions":{"triggers":{"references":["local.layer2_src_path","local.building_path","local.layer2_artifact_file_name"]}},"schema_version":0,"depends_on":["null_resource.build_layer2_version"]},{"address":"null_resource.sam_metadata_aws_lambda_layer_version_layer3","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_layer_version_layer3","provider_config_key":"null","expressions":{"triggers":{"references":["local.layer3_src_path","local.building_path","local.layer3_artifact_file_name"]}},"schema_version":0,"depends_on":["null_resource.build_layer3_version"]},{"address":"null_resource.sam_metadata_aws_lambda_layer_version_layer4","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_layer_version_layer4","provider_config_key":"null","expressions":{"triggers":{"references":["local.layer4_src_path","local.building_path","local.layer4_artifact_file_name"]}},"schema_version":0,"depends_on":["null_resource.build_layer4_version"]},{"address":"null_resource.sam_metadata_aws_lambda_layer_version_layer5","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_layer_version_layer5","provider_config_key":"null","expressions":{"triggers":{"references":["local.layer5_src_path","local.building_path","local.layer5_artifact_file_name"]}},"schema_version":0,"depends_on":["null_resource.build_layer5_version"]},{"address":"null_resource.sam_metadata_aws_lambda_layer_version_layer6","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_layer_version_layer6","provider_config_key":"null","expressions":{"triggers":{"references":["local.layer6_src_path","local.building_path","local.layer6_artifact_file_name"]}},"schema_version":0,"depends_on":["null_resource.build_layer6_version"]},{"address":"null_resource.sam_metadata_aws_lambda_layer_version_layer9","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_layer_version_layer9","provider_config_key":"null","expressions":{"triggers":{"references":["local.layer1_src_path","local.building_path","local.layer9_artifact_file_name"]}},"schema_version":0,"depends_on":["null_resource.build_layer9_version"]},{"address":"random_uuid.s3_bucket","mode":"managed","type":"random_uuid","name":"s3_bucket","provider_config_key":"random","expressions":{"keepers":{"constant_value":{"my_key":"my_key"}}},"schema_version":0}],"module_calls":{"function10":{"source":"terraform-aws-modules/lambda/aws","expressions":{"function_name":{"constant_value":"function10"},"handler":{"constant_value":"app.lambda_handler"},"layers":{"references":["module.layer10.lambda_layer_arn","module.layer10"]},"runtime":{"constant_value":"python3.8"},"s3_bucket":{"references":["aws_s3_bucket.lambda_code_bucket.id","aws_s3_bucket.lambda_code_bucket"]},"source_path":{"references":["local.hello_world_function_src_path"]},"store_on_s3":{"constant_value":true},"timeout":{"constant_value":300}},"module":{"outputs":{"lambda_cloudwatch_log_group_arn":{"expression":{"references":["local.log_group_arn"]},"description":"The ARN of the Cloudwatch Log Group"},"lambda_cloudwatch_log_group_name":{"expression":{"references":["local.log_group_name"]},"description":"The name of the Cloudwatch Log Group"},"lambda_event_source_mapping_function_arn":{"expression":{"references":["aws_lambda_event_source_mapping.this"]},"description":"The the ARN of the Lambda function the event source mapping is sending events to"},"lambda_event_source_mapping_state":{"expression":{"references":["aws_lambda_event_source_mapping.this"]},"description":"The state of the event source mapping"},"lambda_event_source_mapping_state_transition_reason":{"expression":{"references":["aws_lambda_event_source_mapping.this"]},"description":"The reason the event source mapping is in its current state"},"lambda_event_source_mapping_uuid":{"expression":{"references":["aws_lambda_event_source_mapping.this"]},"description":"The UUID of the created event source mapping"},"lambda_function_arn":{"expression":{"references":["aws_lambda_function.this[0].arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The ARN of the Lambda Function"},"lambda_function_invoke_arn":{"expression":{"references":["aws_lambda_function.this[0].invoke_arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The Invoke ARN of the Lambda Function"},"lambda_function_kms_key_arn":{"expression":{"references":["aws_lambda_function.this[0].kms_key_arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The ARN for the KMS encryption key of Lambda Function"},"lambda_function_last_modified":{"expression":{"references":["aws_lambda_function.this[0].last_modified","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The date Lambda Function resource was last modified"},"lambda_function_name":{"expression":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The name of the Lambda Function"},"lambda_function_qualified_arn":{"expression":{"references":["aws_lambda_function.this[0].qualified_arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The ARN identifying your Lambda Function Version"},"lambda_function_signing_job_arn":{"expression":{"references":["aws_lambda_function.this[0].signing_job_arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"ARN of the signing job"},"lambda_function_signing_profile_version_arn":{"expression":{"references":["aws_lambda_function.this[0].signing_profile_version_arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"ARN of the signing profile version"},"lambda_function_source_code_hash":{"expression":{"references":["aws_lambda_function.this[0].source_code_hash","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"Base64-encoded representation of raw SHA-256 sum of the zip file"},"lambda_function_source_code_size":{"expression":{"references":["aws_lambda_function.this[0].source_code_size","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The size in bytes of the function .zip file"},"lambda_function_url":{"expression":{"references":["aws_lambda_function_url.this[0].function_url","aws_lambda_function_url.this[0]","aws_lambda_function_url.this"]},"description":"The URL of the Lambda Function URL"},"lambda_function_url_id":{"expression":{"references":["aws_lambda_function_url.this[0].url_id","aws_lambda_function_url.this[0]","aws_lambda_function_url.this"]},"description":"The Lambda Function URL generated id"},"lambda_function_version":{"expression":{"references":["aws_lambda_function.this[0].version","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"Latest published version of Lambda Function"},"lambda_layer_arn":{"expression":{"references":["aws_lambda_layer_version.this[0].arn","aws_lambda_layer_version.this[0]","aws_lambda_layer_version.this"]},"description":"The ARN of the Lambda Layer with version"},"lambda_layer_created_date":{"expression":{"references":["aws_lambda_layer_version.this[0].created_date","aws_lambda_layer_version.this[0]","aws_lambda_layer_version.this"]},"description":"The date Lambda Layer resource was created"},"lambda_layer_layer_arn":{"expression":{"references":["aws_lambda_layer_version.this[0].layer_arn","aws_lambda_layer_version.this[0]","aws_lambda_layer_version.this"]},"description":"The ARN of the Lambda Layer without version"},"lambda_layer_source_code_size":{"expression":{"references":["aws_lambda_layer_version.this[0].source_code_size","aws_lambda_layer_version.this[0]","aws_lambda_layer_version.this"]},"description":"The size in bytes of the Lambda Layer .zip file"},"lambda_layer_version":{"expression":{"references":["aws_lambda_layer_version.this[0].version","aws_lambda_layer_version.this[0]","aws_lambda_layer_version.this"]},"description":"The Lambda Layer version"},"lambda_role_arn":{"expression":{"references":["aws_iam_role.lambda[0].arn","aws_iam_role.lambda[0]","aws_iam_role.lambda"]},"description":"The ARN of the IAM role created for the Lambda Function"},"lambda_role_name":{"expression":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]},"description":"The name of the IAM role created for the Lambda Function"},"lambda_role_unique_id":{"expression":{"references":["aws_iam_role.lambda[0].unique_id","aws_iam_role.lambda[0]","aws_iam_role.lambda"]},"description":"The unique id of the IAM role created for the Lambda Function"},"local_filename":{"expression":{"references":["local.filename"]},"depends_on":["null_resource.archive"],"description":"The filename of zip archive deployed (if deployment was from local)"},"s3_object":{"expression":{"references":["local.s3_bucket","local.s3_key","local.s3_object_version"]},"description":"The map with S3 object data of zip archive deployed (if deployment was from S3)"}},"resources":[{"address":"aws_cloudwatch_log_group.lambda","mode":"managed","type":"aws_cloudwatch_log_group","name":"lambda","provider_config_key":"aws","expressions":{"kms_key_id":{"references":["var.cloudwatch_logs_kms_key_id"]},"name":{"references":["var.lambda_at_edge","var.function_name"]},"retention_in_days":{"references":["var.cloudwatch_logs_retention_in_days"]},"tags":{"references":["var.tags","var.cloudwatch_logs_tags"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_function","var.create_layer","var.use_existing_cloudwatch_log_group"]}},{"address":"aws_iam_policy.additional_inline","mode":"managed","type":"aws_iam_policy","name":"additional_inline","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy_document.additional_inline[0].json","data.aws_iam_policy_document.additional_inline[0]","data.aws_iam_policy_document.additional_inline"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_statements"]}},{"address":"aws_iam_policy.additional_json","mode":"managed","type":"aws_iam_policy","name":"additional_json","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["var.policy_json"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_json"]}},{"address":"aws_iam_policy.additional_jsons","mode":"managed","type":"aws_iam_policy","name":"additional_jsons","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name","count.index"]},"path":{"references":["var.policy_path"]},"policy":{"references":["var.policy_jsons","count.index"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_jsons","var.number_of_policy_jsons"]}},{"address":"aws_iam_policy.async","mode":"managed","type":"aws_iam_policy","name":"async","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy_document.async[0].json","data.aws_iam_policy_document.async[0]","data.aws_iam_policy_document.async"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_async_event_policy"]}},{"address":"aws_iam_policy.dead_letter","mode":"managed","type":"aws_iam_policy","name":"dead_letter","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy_document.dead_letter[0].json","data.aws_iam_policy_document.dead_letter[0]","data.aws_iam_policy_document.dead_letter"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_dead_letter_policy"]}},{"address":"aws_iam_policy.logs","mode":"managed","type":"aws_iam_policy","name":"logs","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy_document.logs[0].json","data.aws_iam_policy_document.logs[0]","data.aws_iam_policy_document.logs"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_cloudwatch_logs_policy"]}},{"address":"aws_iam_policy.tracing","mode":"managed","type":"aws_iam_policy","name":"tracing","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy.tracing[0].policy","data.aws_iam_policy.tracing[0]","data.aws_iam_policy.tracing"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_tracing_policy"]}},{"address":"aws_iam_policy.vpc","mode":"managed","type":"aws_iam_policy","name":"vpc","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy.vpc[0].policy","data.aws_iam_policy.vpc[0]","data.aws_iam_policy.vpc"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_network_policy"]}},{"address":"aws_iam_role.lambda","mode":"managed","type":"aws_iam_role","name":"lambda","provider_config_key":"aws","expressions":{"assume_role_policy":{"references":["data.aws_iam_policy_document.assume_role[0].json","data.aws_iam_policy_document.assume_role[0]","data.aws_iam_policy_document.assume_role"]},"description":{"references":["var.role_description"]},"force_detach_policies":{"references":["var.role_force_detach_policies"]},"name":{"references":["local.role_name"]},"path":{"references":["var.role_path"]},"permissions_boundary":{"references":["var.role_permissions_boundary"]},"tags":{"references":["var.tags","var.role_tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role"]}},{"address":"aws_iam_role_policy_attachment.additional_inline","mode":"managed","type":"aws_iam_role_policy_attachment","name":"additional_inline","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.additional_inline[0].arn","aws_iam_policy.additional_inline[0]","aws_iam_policy.additional_inline"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_statements"]}},{"address":"aws_iam_role_policy_attachment.additional_json","mode":"managed","type":"aws_iam_role_policy_attachment","name":"additional_json","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.additional_json[0].arn","aws_iam_policy.additional_json[0]","aws_iam_policy.additional_json"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_json"]}},{"address":"aws_iam_role_policy_attachment.additional_jsons","mode":"managed","type":"aws_iam_role_policy_attachment","name":"additional_jsons","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.additional_jsons","count.index"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_jsons","var.number_of_policy_jsons"]}},{"address":"aws_iam_role_policy_attachment.additional_many","mode":"managed","type":"aws_iam_role_policy_attachment","name":"additional_many","provider_config_key":"aws","expressions":{"policy_arn":{"references":["var.policies","count.index"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policies","var.number_of_policies"]}},{"address":"aws_iam_role_policy_attachment.additional_one","mode":"managed","type":"aws_iam_role_policy_attachment","name":"additional_one","provider_config_key":"aws","expressions":{"policy_arn":{"references":["var.policy"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy"]}},{"address":"aws_iam_role_policy_attachment.async","mode":"managed","type":"aws_iam_role_policy_attachment","name":"async","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.async[0].arn","aws_iam_policy.async[0]","aws_iam_policy.async"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_async_event_policy"]}},{"address":"aws_iam_role_policy_attachment.dead_letter","mode":"managed","type":"aws_iam_role_policy_attachment","name":"dead_letter","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.dead_letter[0].arn","aws_iam_policy.dead_letter[0]","aws_iam_policy.dead_letter"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_dead_letter_policy"]}},{"address":"aws_iam_role_policy_attachment.logs","mode":"managed","type":"aws_iam_role_policy_attachment","name":"logs","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.logs[0].arn","aws_iam_policy.logs[0]","aws_iam_policy.logs"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_cloudwatch_logs_policy"]}},{"address":"aws_iam_role_policy_attachment.tracing","mode":"managed","type":"aws_iam_role_policy_attachment","name":"tracing","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.tracing[0].arn","aws_iam_policy.tracing[0]","aws_iam_policy.tracing"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_tracing_policy"]}},{"address":"aws_iam_role_policy_attachment.vpc","mode":"managed","type":"aws_iam_role_policy_attachment","name":"vpc","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.vpc[0].arn","aws_iam_policy.vpc[0]","aws_iam_policy.vpc"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_network_policy"]}},{"address":"aws_lambda_event_source_mapping.this","mode":"managed","type":"aws_lambda_event_source_mapping","name":"this","provider_config_key":"aws","expressions":{"batch_size":{"references":["each.value.batch_size","each.value"]},"bisect_batch_on_function_error":{"references":["each.value.bisect_batch_on_function_error","each.value"]},"enabled":{"references":["each.value.enabled","each.value"]},"event_source_arn":{"references":["each.value.event_source_arn","each.value"]},"function_name":{"references":["aws_lambda_function.this[0].arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"function_response_types":{"references":["each.value.function_response_types","each.value"]},"maximum_batching_window_in_seconds":{"references":["each.value.maximum_batching_window_in_seconds","each.value"]},"maximum_record_age_in_seconds":{"references":["each.value.maximum_record_age_in_seconds","each.value"]},"maximum_retry_attempts":{"references":["each.value.maximum_retry_attempts","each.value"]},"parallelization_factor":{"references":["each.value.parallelization_factor","each.value"]},"queues":{"references":["each.value.queues","each.value"]},"starting_position":{"references":["each.value.starting_position","each.value"]},"starting_position_timestamp":{"references":["each.value.starting_position_timestamp","each.value"]},"topics":{"references":["each.value.topics","each.value"]}},"schema_version":0,"for_each_expression":{"references":["var.event_source_mapping","local.create","var.create_function","var.create_layer","var.create_unqualified_alias_allowed_triggers"]}},{"address":"aws_lambda_function.this","mode":"managed","type":"aws_lambda_function","name":"this","provider_config_key":"aws","expressions":{"architectures":{"references":["var.architectures"]},"code_signing_config_arn":{"references":["var.code_signing_config_arn"]},"description":{"references":["var.description"]},"filename":{"references":["local.filename"]},"function_name":{"references":["var.function_name"]},"handler":{"references":["var.package_type","var.handler"]},"image_uri":{"references":["var.image_uri"]},"kms_key_arn":{"references":["var.kms_key_arn"]},"layers":{"references":["var.layers"]},"memory_size":{"references":["var.memory_size"]},"package_type":{"references":["var.package_type"]},"publish":{"references":["var.lambda_at_edge","var.publish"]},"reserved_concurrent_executions":{"references":["var.reserved_concurrent_executions"]},"role":{"references":["var.create_role","aws_iam_role.lambda[0].arn","aws_iam_role.lambda[0]","aws_iam_role.lambda","var.lambda_role"]},"runtime":{"references":["var.package_type","var.runtime"]},"s3_bucket":{"references":["local.s3_bucket"]},"s3_key":{"references":["local.s3_key"]},"s3_object_version":{"references":["local.s3_object_version"]},"source_code_hash":{"references":["var.ignore_source_code_hash","local.filename","local.filename","local.was_missing","local.filename"]},"tags":{"references":["var.tags"]},"timeout":{"references":["var.lambda_at_edge","var.timeout","var.timeout"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_function","var.create_layer"]},"depends_on":["null_resource.archive","aws_s3_object.lambda_package","aws_cloudwatch_log_group.lambda","aws_iam_role_policy_attachment.additional_inline","aws_iam_role_policy_attachment.additional_json","aws_iam_role_policy_attachment.additional_jsons","aws_iam_role_policy_attachment.additional_many","aws_iam_role_policy_attachment.additional_one","aws_iam_role_policy_attachment.async","aws_iam_role_policy_attachment.logs","aws_iam_role_policy_attachment.dead_letter","aws_iam_role_policy_attachment.vpc","aws_iam_role_policy_attachment.tracing"]},{"address":"aws_lambda_function_event_invoke_config.this","mode":"managed","type":"aws_lambda_function_event_invoke_config","name":"this","provider_config_key":"aws","expressions":{"function_name":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"maximum_event_age_in_seconds":{"references":["var.maximum_event_age_in_seconds"]},"maximum_retry_attempts":{"references":["var.maximum_retry_attempts"]},"qualifier":{"references":["each.key","aws_lambda_function.this[0].version","aws_lambda_function.this[0]","aws_lambda_function.this"]}},"schema_version":0,"for_each_expression":{"references":["local.qualifiers","local.create","var.create_function","var.create_layer","var.create_async_event_config"]}},{"address":"aws_lambda_function_url.this","mode":"managed","type":"aws_lambda_function_url","name":"this","provider_config_key":"aws","expressions":{"authorization_type":{"references":["var.authorization_type"]},"function_name":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"qualifier":{"references":["var.create_unqualified_alias_lambda_function_url","aws_lambda_function.this[0].version","aws_lambda_function.this[0]","aws_lambda_function.this"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_function","var.create_layer","var.create_lambda_function_url"]}},{"address":"aws_lambda_layer_version.this","mode":"managed","type":"aws_lambda_layer_version","name":"this","provider_config_key":"aws","expressions":{"compatible_architectures":{"references":["var.compatible_architectures"]},"compatible_runtimes":{"references":["var.compatible_runtimes","var.compatible_runtimes","var.runtime"]},"description":{"references":["var.description"]},"filename":{"references":["local.filename"]},"layer_name":{"references":["var.layer_name"]},"license_info":{"references":["var.license_info"]},"s3_bucket":{"references":["local.s3_bucket"]},"s3_key":{"references":["local.s3_key"]},"s3_object_version":{"references":["local.s3_object_version"]},"skip_destroy":{"references":["var.layer_skip_destroy"]},"source_code_hash":{"references":["var.ignore_source_code_hash","local.filename","local.filename","local.was_missing","local.filename"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_layer"]},"depends_on":["null_resource.archive","aws_s3_object.lambda_package"]},{"address":"aws_lambda_permission.current_version_triggers","mode":"managed","type":"aws_lambda_permission","name":"current_version_triggers","provider_config_key":"aws","expressions":{"action":{"references":["each.value.action","each.value"]},"event_source_token":{"references":["each.value.event_source_token","each.value"]},"function_name":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"principal":{"references":["each.value.principal","each.value","each.value.service","each.value"]},"qualifier":{"references":["aws_lambda_function.this[0].version","aws_lambda_function.this[0]","aws_lambda_function.this"]},"source_account":{"references":["each.value.source_account","each.value"]},"source_arn":{"references":["each.value.source_arn","each.value"]},"statement_id":{"references":["each.value.statement_id","each.value","each.key"]}},"schema_version":0,"for_each_expression":{"references":["var.allowed_triggers","local.create","var.create_function","var.create_layer","var.create_current_version_allowed_triggers"]}},{"address":"aws_lambda_permission.unqualified_alias_triggers","mode":"managed","type":"aws_lambda_permission","name":"unqualified_alias_triggers","provider_config_key":"aws","expressions":{"action":{"references":["each.value.action","each.value"]},"event_source_token":{"references":["each.value.event_source_token","each.value"]},"function_name":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"principal":{"references":["each.value.principal","each.value","each.value.service","each.value"]},"source_account":{"references":["each.value.source_account","each.value"]},"source_arn":{"references":["each.value.source_arn","each.value"]},"statement_id":{"references":["each.value.statement_id","each.value","each.key"]}},"schema_version":0,"for_each_expression":{"references":["var.allowed_triggers","local.create","var.create_function","var.create_layer","var.create_unqualified_alias_allowed_triggers"]}},{"address":"aws_lambda_provisioned_concurrency_config.current_version","mode":"managed","type":"aws_lambda_provisioned_concurrency_config","name":"current_version","provider_config_key":"aws","expressions":{"function_name":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"provisioned_concurrent_executions":{"references":["var.provisioned_concurrent_executions"]},"qualifier":{"references":["aws_lambda_function.this[0].version","aws_lambda_function.this[0]","aws_lambda_function.this"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_function","var.create_layer","var.provisioned_concurrent_executions"]}},{"address":"aws_s3_object.lambda_package","mode":"managed","type":"aws_s3_object","name":"lambda_package","provider_config_key":"aws","expressions":{"acl":{"references":["var.s3_acl"]},"bucket":{"references":["var.s3_bucket"]},"key":{"references":["local.s3_key"]},"server_side_encryption":{"references":["var.s3_server_side_encryption"]},"source":{"references":["data.external.archive_prepare[0].result.filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]},"storage_class":{"references":["var.s3_object_storage_class"]},"tags":{"references":["var.s3_object_tags_only","var.s3_object_tags","var.tags","var.s3_object_tags"]}},"schema_version":0,"count_expression":{"references":["local.create","var.store_on_s3","var.create_package"]},"depends_on":["null_resource.archive"]},{"address":"local_file.archive_plan","mode":"managed","type":"local_file","name":"archive_plan","provider_config_key":"module.function10:local","expressions":{"content":{"references":["data.external.archive_prepare[0].result.build_plan","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]},"directory_permission":{"constant_value":"0755"},"file_permission":{"constant_value":"0644"},"filename":{"references":["data.external.archive_prepare[0].result.build_plan_filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]}},"schema_version":0,"count_expression":{"references":["var.create","var.create_package"]}},{"address":"null_resource.archive","mode":"managed","type":"null_resource","name":"archive","provider_config_key":"null","provisioners":[{"type":"local-exec","expressions":{"command":{"references":["data.external.archive_prepare[0].result.build_plan_filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]},"interpreter":{"references":["local.python","path.module","data.external.archive_prepare[0].result.timestamp","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]}}}],"expressions":{"triggers":{"references":["data.external.archive_prepare[0].result.filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare","data.external.archive_prepare[0].result.timestamp","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]}},"schema_version":0,"count_expression":{"references":["var.create","var.create_package"]},"depends_on":["local_file.archive_plan"]},{"address":"null_resource.sam_metadata_aws_lambda_function","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_function","provider_config_key":"null","expressions":{"triggers":{"references":["var.source_path","data.external.archive_prepare[0].result.filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_package","var.create_function","var.create_layer"]},"depends_on":["data.external.archive_prepare","null_resource.archive"]},{"address":"null_resource.sam_metadata_aws_lambda_layer_version","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_layer_version","provider_config_key":"null","expressions":{"triggers":{"references":["var.source_path","data.external.archive_prepare[0].result.filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_package","var.create_layer"]},"depends_on":["data.external.archive_prepare","null_resource.archive"]},{"address":"data.aws_arn.log_group_arn","mode":"data","type":"aws_arn","name":"log_group_arn","provider_config_key":"aws","expressions":{"arn":{"references":["local.log_group_arn_regional"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.lambda_at_edge"]}},{"address":"data.aws_cloudwatch_log_group.lambda","mode":"data","type":"aws_cloudwatch_log_group","name":"lambda","provider_config_key":"aws","expressions":{"name":{"references":["var.lambda_at_edge","var.function_name"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_function","var.create_layer","var.use_existing_cloudwatch_log_group"]}},{"address":"data.aws_iam_policy.tracing","mode":"data","type":"aws_iam_policy","name":"tracing","provider_config_key":"aws","expressions":{"arn":{"references":["data.aws_partition.current.partition","data.aws_partition.current"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_tracing_policy"]}},{"address":"data.aws_iam_policy.vpc","mode":"data","type":"aws_iam_policy","name":"vpc","provider_config_key":"aws","expressions":{"arn":{"references":["data.aws_partition.current.partition","data.aws_partition.current"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_network_policy"]}},{"address":"data.aws_iam_policy_document.additional_inline","mode":"data","type":"aws_iam_policy_document","name":"additional_inline","provider_config_key":"aws","schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_statements"]}},{"address":"data.aws_iam_policy_document.assume_role","mode":"data","type":"aws_iam_policy_document","name":"assume_role","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sts:AssumeRole"]},"effect":{"constant_value":"Allow"},"principals":[{"identifiers":{"references":["local.trusted_entities_services"]},"type":{"constant_value":"Service"}}]}]},"schema_version":0,"count_expression":{"references":["local.create_role"]}},{"address":"data.aws_iam_policy_document.async","mode":"data","type":"aws_iam_policy_document","name":"async","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sns:Publish","sqs:SendMessage","events:PutEvents","lambda:InvokeFunction"]},"effect":{"constant_value":"Allow"},"resources":{"references":["var.destination_on_failure","var.destination_on_success"]}}]},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_async_event_policy"]}},{"address":"data.aws_iam_policy_document.dead_letter","mode":"data","type":"aws_iam_policy_document","name":"dead_letter","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sns:Publish","sqs:SendMessage"]},"effect":{"constant_value":"Allow"},"resources":{"references":["var.dead_letter_target_arn"]}}]},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_dead_letter_policy"]}},{"address":"data.aws_iam_policy_document.logs","mode":"data","type":"aws_iam_policy_document","name":"logs","provider_config_key":"aws","expressions":{"statement":[{"actions":{"references":["var.use_existing_cloudwatch_log_group"]},"effect":{"constant_value":"Allow"},"resources":{"references":["local.log_group_arn"]}}]},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_cloudwatch_logs_policy"]}},{"address":"data.aws_partition.current","mode":"data","type":"aws_partition","name":"current","provider_config_key":"aws","schema_version":0},{"address":"data.external.archive_prepare","mode":"data","type":"external","name":"archive_prepare","provider_config_key":"module.function10:external","expressions":{"program":{"references":["local.python","path.module"]},"query":{"references":["path.module","path.root","path.cwd","var.build_in_docker","var.docker_pip_cache","var.docker_build_root","var.docker_file","var.docker_image","var.docker_with_ssh_agent","var.docker_additional_options","var.docker_entrypoint","var.artifacts_dir","var.runtime","var.source_path","var.hash_extra","var.recreate_missing_package"]}},"schema_version":0,"count_expression":{"references":["var.create","var.create_package"]}}],"variables":{"allowed_triggers":{"default":{},"description":"Map of allowed triggers to create Lambda permissions"},"architectures":{"default":null,"description":"Instruction set architecture for your Lambda function. Valid values are [\"x86_64\"] and [\"arm64\"]."},"artifacts_dir":{"default":"builds","description":"Directory name where artifacts should be stored"},"assume_role_policy_statements":{"default":{},"description":"Map of dynamic policy statements for assuming Lambda Function role (trust relationship)"},"attach_async_event_policy":{"default":false,"description":"Controls whether async event policy should be added to IAM role for Lambda Function"},"attach_cloudwatch_logs_policy":{"default":true,"description":"Controls whether CloudWatch Logs policy should be added to IAM role for Lambda Function"},"attach_dead_letter_policy":{"default":false,"description":"Controls whether SNS/SQS dead letter notification policy should be added to IAM role for Lambda Function"},"attach_network_policy":{"default":false,"description":"Controls whether VPC/network policy should be added to IAM role for Lambda Function"},"attach_policies":{"default":false,"description":"Controls whether list of policies should be added to IAM role for Lambda Function"},"attach_policy":{"default":false,"description":"Controls whether policy should be added to IAM role for Lambda Function"},"attach_policy_json":{"default":false,"description":"Controls whether policy_json should be added to IAM role for Lambda Function"},"attach_policy_jsons":{"default":false,"description":"Controls whether policy_jsons should be added to IAM role for Lambda Function"},"attach_policy_statements":{"default":false,"description":"Controls whether policy_statements should be added to IAM role for Lambda Function"},"attach_tracing_policy":{"default":false,"description":"Controls whether X-Ray tracing policy should be added to IAM role for Lambda Function"},"authorization_type":{"default":"NONE","description":"The type of authentication that the Lambda Function URL uses. Set to 'AWS_IAM' to restrict access to authenticated IAM users only. Set to 'NONE' to bypass IAM authentication and create a public endpoint."},"build_in_docker":{"default":false,"description":"Whether to build dependencies in Docker"},"cloudwatch_logs_kms_key_id":{"default":null,"description":"The ARN of the KMS Key to use when encrypting log data."},"cloudwatch_logs_retention_in_days":{"default":null,"description":"Specifies the number of days you want to retain log events in the specified log group. Possible values are: 1, 3, 5, 7, 14, 30, 60, 90, 120, 150, 180, 365, 400, 545, 731, 1827, and 3653."},"cloudwatch_logs_tags":{"default":{},"description":"A map of tags to assign to the resource."},"code_signing_config_arn":{"default":null,"description":"Amazon Resource Name (ARN) for a Code Signing Configuration"},"compatible_architectures":{"default":null,"description":"A list of Architectures Lambda layer is compatible with. Currently x86_64 and arm64 can be specified."},"compatible_runtimes":{"default":[],"description":"A list of Runtimes this layer is compatible with. Up to 5 runtimes can be specified."},"cors":{"default":{},"description":"CORS settings to be used by the Lambda Function URL"},"create":{"default":true,"description":"Controls whether resources should be created"},"create_async_event_config":{"default":false,"description":"Controls whether async event configuration for Lambda Function/Alias should be created"},"create_current_version_allowed_triggers":{"default":true,"description":"Whether to allow triggers on current version of Lambda Function (this will revoke permissions from previous version because Terraform manages only current resources)"},"create_current_version_async_event_config":{"default":true,"description":"Whether to allow async event configuration on current version of Lambda Function (this will revoke permissions from previous version because Terraform manages only current resources)"},"create_function":{"default":true,"description":"Controls whether Lambda Function resource should be created"},"create_lambda_function_url":{"default":false,"description":"Controls whether the Lambda Function URL resource should be created"},"create_layer":{"default":false,"description":"Controls whether Lambda Layer resource should be created"},"create_package":{"default":true,"description":"Controls whether Lambda package should be created"},"create_role":{"default":true,"description":"Controls whether IAM role for Lambda Function should be created"},"create_unqualified_alias_allowed_triggers":{"default":true,"description":"Whether to allow triggers on unqualified alias pointing to $LATEST version"},"create_unqualified_alias_async_event_config":{"default":true,"description":"Whether to allow async event configuration on unqualified alias pointing to $LATEST version"},"create_unqualified_alias_lambda_function_url":{"default":true,"description":"Whether to use unqualified alias pointing to $LATEST version in Lambda Function URL"},"dead_letter_target_arn":{"default":null,"description":"The ARN of an SNS topic or SQS queue to notify when an invocation fails."},"description":{"default":"","description":"Description of your Lambda Function (or Layer)"},"destination_on_failure":{"default":null,"description":"Amazon Resource Name (ARN) of the destination resource for failed asynchronous invocations"},"destination_on_success":{"default":null,"description":"Amazon Resource Name (ARN) of the destination resource for successful asynchronous invocations"},"docker_additional_options":{"default":[],"description":"Additional options to pass to the docker run command (e.g. to set environment variables, volumes, etc.)"},"docker_build_root":{"default":"","description":"Root dir where to build in Docker"},"docker_entrypoint":{"default":null,"description":"Path to the Docker entrypoint to use"},"docker_file":{"default":"","description":"Path to a Dockerfile when building in Docker"},"docker_image":{"default":"","description":"Docker image to use for the build"},"docker_pip_cache":{"default":null,"description":"Whether to mount a shared pip cache folder into docker environment or not"},"docker_with_ssh_agent":{"default":false,"description":"Whether to pass SSH_AUTH_SOCK into docker environment or not"},"environment_variables":{"default":{},"description":"A map that defines environment variables for the Lambda Function."},"ephemeral_storage_size":{"default":512,"description":"Amount of ephemeral storage (/tmp) in MB your Lambda Function can use at runtime. Valid value between 512 MB to 10,240 MB (10 GB)."},"event_source_mapping":{"default":{},"description":"Map of event source mapping"},"file_system_arn":{"default":null,"description":"The Amazon Resource Name (ARN) of the Amazon EFS Access Point that provides access to the file system."},"file_system_local_mount_path":{"default":null,"description":"The path where the function can access the file system, starting with /mnt/."},"function_name":{"default":"","description":"A unique name for your Lambda Function"},"handler":{"default":"","description":"Lambda Function entrypoint in your code"},"hash_extra":{"default":"","description":"The string to add into hashing function. Useful when building same source path for different functions."},"ignore_source_code_hash":{"default":false,"description":"Whether to ignore changes to the function's source code hash. Set to true if you manage infrastructure and code deployments separately."},"image_config_command":{"default":[],"description":"The CMD for the docker image"},"image_config_entry_point":{"default":[],"description":"The ENTRYPOINT for the docker image"},"image_config_working_directory":{"default":null,"description":"The working directory for the docker image"},"image_uri":{"default":null,"description":"The ECR image URI containing the function's deployment package."},"kms_key_arn":{"default":null,"description":"The ARN of KMS key to use by your Lambda Function"},"lambda_at_edge":{"default":false,"description":"Set this to true if using Lambda@Edge, to enable publishing, limit the timeout, and allow edgelambda.amazonaws.com to invoke the function"},"lambda_role":{"default":"","description":" IAM role ARN attached to the Lambda Function. This governs both who / what can invoke your Lambda Function, as well as what resources our Lambda Function has access to. See Lambda Permission Model for more details."},"layer_name":{"default":"","description":"Name of Lambda Layer to create"},"layer_skip_destroy":{"default":false,"description":"Whether to retain the old version of a previously deployed Lambda Layer."},"layers":{"default":null,"description":"List of Lambda Layer Version ARNs (maximum of 5) to attach to your Lambda Function."},"license_info":{"default":"","description":"License info for your Lambda Layer. Eg, MIT or full url of a license."},"local_existing_package":{"default":null,"description":"The absolute path to an existing zip-file to use"},"maximum_event_age_in_seconds":{"default":null,"description":"Maximum age of a request that Lambda sends to a function for processing in seconds. Valid values between 60 and 21600."},"maximum_retry_attempts":{"default":null,"description":"Maximum number of times to retry when the function returns an error. Valid values between 0 and 2. Defaults to 2."},"memory_size":{"default":128,"description":"Amount of memory in MB your Lambda Function can use at runtime. Valid value between 128 MB to 10,240 MB (10 GB), in 64 MB increments."},"number_of_policies":{"default":0,"description":"Number of policies to attach to IAM role for Lambda Function"},"number_of_policy_jsons":{"default":0,"description":"Number of policies JSON to attach to IAM role for Lambda Function"},"package_type":{"default":"Zip","description":"The Lambda deployment package type. Valid options: Zip or Image"},"policies":{"default":[],"description":"List of policy statements ARN to attach to Lambda Function role"},"policy":{"default":null,"description":"An additional policy document ARN to attach to the Lambda Function role"},"policy_json":{"default":null,"description":"An additional policy document as JSON to attach to the Lambda Function role"},"policy_jsons":{"default":[],"description":"List of additional policy documents as JSON to attach to Lambda Function role"},"policy_name":{"default":null,"description":"IAM policy name. It override the default value, which is the same as role_name"},"policy_path":{"default":null,"description":"Path of policies to that should be added to IAM role for Lambda Function"},"policy_statements":{"default":{},"description":"Map of dynamic policy statements to attach to Lambda Function role"},"provisioned_concurrent_executions":{"default":-1,"description":"Amount of capacity to allocate. Set to 1 or greater to enable, or set to 0 to disable provisioned concurrency."},"publish":{"default":false,"description":"Whether to publish creation/change as new Lambda Function Version."},"putin_khuylo":{"default":true,"description":"Do you agree that Putin doesn't respect Ukrainian sovereignty and territorial integrity? More info: https://en.wikipedia.org/wiki/Putin_khuylo!"},"recreate_missing_package":{"default":true,"description":"Whether to recreate missing Lambda package if it is missing locally or not"},"reserved_concurrent_executions":{"default":-1,"description":"The amount of reserved concurrent executions for this Lambda Function. A value of 0 disables Lambda Function from being triggered and -1 removes any concurrency limitations. Defaults to Unreserved Concurrency Limits -1."},"role_description":{"default":null,"description":"Description of IAM role to use for Lambda Function"},"role_force_detach_policies":{"default":true,"description":"Specifies to force detaching any policies the IAM role has before destroying it."},"role_name":{"default":null,"description":"Name of IAM role to use for Lambda Function"},"role_path":{"default":null,"description":"Path of IAM role to use for Lambda Function"},"role_permissions_boundary":{"default":null,"description":"The ARN of the policy that is used to set the permissions boundary for the IAM role used by Lambda Function"},"role_tags":{"default":{},"description":"A map of tags to assign to IAM role"},"runtime":{"default":"","description":"Lambda Function runtime"},"s3_acl":{"default":"private","description":"The canned ACL to apply. Valid values are private, public-read, public-read-write, aws-exec-read, authenticated-read, bucket-owner-read, and bucket-owner-full-control. Defaults to private."},"s3_bucket":{"default":null,"description":"S3 bucket to store artifacts"},"s3_existing_package":{"default":null,"description":"The S3 bucket object with keys bucket, key, version pointing to an existing zip-file to use"},"s3_object_storage_class":{"default":"ONEZONE_IA","description":"Specifies the desired Storage Class for the artifact uploaded to S3. Can be either STANDARD, REDUCED_REDUNDANCY, ONEZONE_IA, INTELLIGENT_TIERING, or STANDARD_IA."},"s3_object_tags":{"default":{},"description":"A map of tags to assign to S3 bucket object."},"s3_object_tags_only":{"default":false,"description":"Set to true to not merge tags with s3_object_tags. Useful to avoid breaching S3 Object 10 tag limit."},"s3_prefix":{"default":null,"description":"Directory name where artifacts should be stored in the S3 bucket. If unset, the path from `artifacts_dir` is used"},"s3_server_side_encryption":{"default":null,"description":"Specifies server-side encryption of the object in S3. Valid values are \"AES256\" and \"aws:kms\"."},"source_path":{"default":null,"description":"The absolute path to a local file or directory containing your Lambda source code"},"store_on_s3":{"default":false,"description":"Whether to store produced artifacts on S3 or locally."},"tags":{"default":{},"description":"A map of tags to assign to resources."},"timeout":{"default":3,"description":"The amount of time your Lambda Function has to run in seconds."},"tracing_mode":{"default":null,"description":"Tracing mode of the Lambda Function. Valid value can be either PassThrough or Active."},"trusted_entities":{"default":[],"description":"List of additional trusted entities for assuming Lambda Function role (trust relationship)"},"use_existing_cloudwatch_log_group":{"default":false,"description":"Whether to use an existing CloudWatch log group or create new"},"vpc_security_group_ids":{"default":null,"description":"List of security group ids when Lambda Function should run in the VPC."},"vpc_subnet_ids":{"default":null,"description":"List of subnet ids when Lambda Function should run in the VPC. Usually private or intra subnets."}}},"version_constraint":"4.6.0"},"function11":{"source":"terraform-aws-modules/lambda/aws","expressions":{"function_name":{"constant_value":"function11"},"handler":{"constant_value":"app.lambda_handler"},"layers":{"references":["module.layer11.lambda_layer_arn","module.layer11"]},"runtime":{"constant_value":"python3.8"},"source_path":{"references":["local.hello_world_function_src_path"]},"timeout":{"constant_value":300}},"module":{"outputs":{"lambda_cloudwatch_log_group_arn":{"expression":{"references":["local.log_group_arn"]},"description":"The ARN of the Cloudwatch Log Group"},"lambda_cloudwatch_log_group_name":{"expression":{"references":["local.log_group_name"]},"description":"The name of the Cloudwatch Log Group"},"lambda_event_source_mapping_function_arn":{"expression":{"references":["aws_lambda_event_source_mapping.this"]},"description":"The the ARN of the Lambda function the event source mapping is sending events to"},"lambda_event_source_mapping_state":{"expression":{"references":["aws_lambda_event_source_mapping.this"]},"description":"The state of the event source mapping"},"lambda_event_source_mapping_state_transition_reason":{"expression":{"references":["aws_lambda_event_source_mapping.this"]},"description":"The reason the event source mapping is in its current state"},"lambda_event_source_mapping_uuid":{"expression":{"references":["aws_lambda_event_source_mapping.this"]},"description":"The UUID of the created event source mapping"},"lambda_function_arn":{"expression":{"references":["aws_lambda_function.this[0].arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The ARN of the Lambda Function"},"lambda_function_invoke_arn":{"expression":{"references":["aws_lambda_function.this[0].invoke_arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The Invoke ARN of the Lambda Function"},"lambda_function_kms_key_arn":{"expression":{"references":["aws_lambda_function.this[0].kms_key_arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The ARN for the KMS encryption key of Lambda Function"},"lambda_function_last_modified":{"expression":{"references":["aws_lambda_function.this[0].last_modified","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The date Lambda Function resource was last modified"},"lambda_function_name":{"expression":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The name of the Lambda Function"},"lambda_function_qualified_arn":{"expression":{"references":["aws_lambda_function.this[0].qualified_arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The ARN identifying your Lambda Function Version"},"lambda_function_signing_job_arn":{"expression":{"references":["aws_lambda_function.this[0].signing_job_arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"ARN of the signing job"},"lambda_function_signing_profile_version_arn":{"expression":{"references":["aws_lambda_function.this[0].signing_profile_version_arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"ARN of the signing profile version"},"lambda_function_source_code_hash":{"expression":{"references":["aws_lambda_function.this[0].source_code_hash","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"Base64-encoded representation of raw SHA-256 sum of the zip file"},"lambda_function_source_code_size":{"expression":{"references":["aws_lambda_function.this[0].source_code_size","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The size in bytes of the function .zip file"},"lambda_function_url":{"expression":{"references":["aws_lambda_function_url.this[0].function_url","aws_lambda_function_url.this[0]","aws_lambda_function_url.this"]},"description":"The URL of the Lambda Function URL"},"lambda_function_url_id":{"expression":{"references":["aws_lambda_function_url.this[0].url_id","aws_lambda_function_url.this[0]","aws_lambda_function_url.this"]},"description":"The Lambda Function URL generated id"},"lambda_function_version":{"expression":{"references":["aws_lambda_function.this[0].version","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"Latest published version of Lambda Function"},"lambda_layer_arn":{"expression":{"references":["aws_lambda_layer_version.this[0].arn","aws_lambda_layer_version.this[0]","aws_lambda_layer_version.this"]},"description":"The ARN of the Lambda Layer with version"},"lambda_layer_created_date":{"expression":{"references":["aws_lambda_layer_version.this[0].created_date","aws_lambda_layer_version.this[0]","aws_lambda_layer_version.this"]},"description":"The date Lambda Layer resource was created"},"lambda_layer_layer_arn":{"expression":{"references":["aws_lambda_layer_version.this[0].layer_arn","aws_lambda_layer_version.this[0]","aws_lambda_layer_version.this"]},"description":"The ARN of the Lambda Layer without version"},"lambda_layer_source_code_size":{"expression":{"references":["aws_lambda_layer_version.this[0].source_code_size","aws_lambda_layer_version.this[0]","aws_lambda_layer_version.this"]},"description":"The size in bytes of the Lambda Layer .zip file"},"lambda_layer_version":{"expression":{"references":["aws_lambda_layer_version.this[0].version","aws_lambda_layer_version.this[0]","aws_lambda_layer_version.this"]},"description":"The Lambda Layer version"},"lambda_role_arn":{"expression":{"references":["aws_iam_role.lambda[0].arn","aws_iam_role.lambda[0]","aws_iam_role.lambda"]},"description":"The ARN of the IAM role created for the Lambda Function"},"lambda_role_name":{"expression":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]},"description":"The name of the IAM role created for the Lambda Function"},"lambda_role_unique_id":{"expression":{"references":["aws_iam_role.lambda[0].unique_id","aws_iam_role.lambda[0]","aws_iam_role.lambda"]},"description":"The unique id of the IAM role created for the Lambda Function"},"local_filename":{"expression":{"references":["local.filename"]},"depends_on":["null_resource.archive"],"description":"The filename of zip archive deployed (if deployment was from local)"},"s3_object":{"expression":{"references":["local.s3_bucket","local.s3_key","local.s3_object_version"]},"description":"The map with S3 object data of zip archive deployed (if deployment was from S3)"}},"resources":[{"address":"aws_cloudwatch_log_group.lambda","mode":"managed","type":"aws_cloudwatch_log_group","name":"lambda","provider_config_key":"aws","expressions":{"kms_key_id":{"references":["var.cloudwatch_logs_kms_key_id"]},"name":{"references":["var.lambda_at_edge","var.function_name"]},"retention_in_days":{"references":["var.cloudwatch_logs_retention_in_days"]},"tags":{"references":["var.tags","var.cloudwatch_logs_tags"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_function","var.create_layer","var.use_existing_cloudwatch_log_group"]}},{"address":"aws_iam_policy.additional_inline","mode":"managed","type":"aws_iam_policy","name":"additional_inline","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy_document.additional_inline[0].json","data.aws_iam_policy_document.additional_inline[0]","data.aws_iam_policy_document.additional_inline"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_statements"]}},{"address":"aws_iam_policy.additional_json","mode":"managed","type":"aws_iam_policy","name":"additional_json","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["var.policy_json"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_json"]}},{"address":"aws_iam_policy.additional_jsons","mode":"managed","type":"aws_iam_policy","name":"additional_jsons","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name","count.index"]},"path":{"references":["var.policy_path"]},"policy":{"references":["var.policy_jsons","count.index"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_jsons","var.number_of_policy_jsons"]}},{"address":"aws_iam_policy.async","mode":"managed","type":"aws_iam_policy","name":"async","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy_document.async[0].json","data.aws_iam_policy_document.async[0]","data.aws_iam_policy_document.async"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_async_event_policy"]}},{"address":"aws_iam_policy.dead_letter","mode":"managed","type":"aws_iam_policy","name":"dead_letter","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy_document.dead_letter[0].json","data.aws_iam_policy_document.dead_letter[0]","data.aws_iam_policy_document.dead_letter"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_dead_letter_policy"]}},{"address":"aws_iam_policy.logs","mode":"managed","type":"aws_iam_policy","name":"logs","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy_document.logs[0].json","data.aws_iam_policy_document.logs[0]","data.aws_iam_policy_document.logs"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_cloudwatch_logs_policy"]}},{"address":"aws_iam_policy.tracing","mode":"managed","type":"aws_iam_policy","name":"tracing","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy.tracing[0].policy","data.aws_iam_policy.tracing[0]","data.aws_iam_policy.tracing"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_tracing_policy"]}},{"address":"aws_iam_policy.vpc","mode":"managed","type":"aws_iam_policy","name":"vpc","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy.vpc[0].policy","data.aws_iam_policy.vpc[0]","data.aws_iam_policy.vpc"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_network_policy"]}},{"address":"aws_iam_role.lambda","mode":"managed","type":"aws_iam_role","name":"lambda","provider_config_key":"aws","expressions":{"assume_role_policy":{"references":["data.aws_iam_policy_document.assume_role[0].json","data.aws_iam_policy_document.assume_role[0]","data.aws_iam_policy_document.assume_role"]},"description":{"references":["var.role_description"]},"force_detach_policies":{"references":["var.role_force_detach_policies"]},"name":{"references":["local.role_name"]},"path":{"references":["var.role_path"]},"permissions_boundary":{"references":["var.role_permissions_boundary"]},"tags":{"references":["var.tags","var.role_tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role"]}},{"address":"aws_iam_role_policy_attachment.additional_inline","mode":"managed","type":"aws_iam_role_policy_attachment","name":"additional_inline","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.additional_inline[0].arn","aws_iam_policy.additional_inline[0]","aws_iam_policy.additional_inline"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_statements"]}},{"address":"aws_iam_role_policy_attachment.additional_json","mode":"managed","type":"aws_iam_role_policy_attachment","name":"additional_json","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.additional_json[0].arn","aws_iam_policy.additional_json[0]","aws_iam_policy.additional_json"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_json"]}},{"address":"aws_iam_role_policy_attachment.additional_jsons","mode":"managed","type":"aws_iam_role_policy_attachment","name":"additional_jsons","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.additional_jsons","count.index"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_jsons","var.number_of_policy_jsons"]}},{"address":"aws_iam_role_policy_attachment.additional_many","mode":"managed","type":"aws_iam_role_policy_attachment","name":"additional_many","provider_config_key":"aws","expressions":{"policy_arn":{"references":["var.policies","count.index"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policies","var.number_of_policies"]}},{"address":"aws_iam_role_policy_attachment.additional_one","mode":"managed","type":"aws_iam_role_policy_attachment","name":"additional_one","provider_config_key":"aws","expressions":{"policy_arn":{"references":["var.policy"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy"]}},{"address":"aws_iam_role_policy_attachment.async","mode":"managed","type":"aws_iam_role_policy_attachment","name":"async","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.async[0].arn","aws_iam_policy.async[0]","aws_iam_policy.async"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_async_event_policy"]}},{"address":"aws_iam_role_policy_attachment.dead_letter","mode":"managed","type":"aws_iam_role_policy_attachment","name":"dead_letter","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.dead_letter[0].arn","aws_iam_policy.dead_letter[0]","aws_iam_policy.dead_letter"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_dead_letter_policy"]}},{"address":"aws_iam_role_policy_attachment.logs","mode":"managed","type":"aws_iam_role_policy_attachment","name":"logs","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.logs[0].arn","aws_iam_policy.logs[0]","aws_iam_policy.logs"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_cloudwatch_logs_policy"]}},{"address":"aws_iam_role_policy_attachment.tracing","mode":"managed","type":"aws_iam_role_policy_attachment","name":"tracing","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.tracing[0].arn","aws_iam_policy.tracing[0]","aws_iam_policy.tracing"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_tracing_policy"]}},{"address":"aws_iam_role_policy_attachment.vpc","mode":"managed","type":"aws_iam_role_policy_attachment","name":"vpc","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.vpc[0].arn","aws_iam_policy.vpc[0]","aws_iam_policy.vpc"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_network_policy"]}},{"address":"aws_lambda_event_source_mapping.this","mode":"managed","type":"aws_lambda_event_source_mapping","name":"this","provider_config_key":"aws","expressions":{"batch_size":{"references":["each.value.batch_size","each.value"]},"bisect_batch_on_function_error":{"references":["each.value.bisect_batch_on_function_error","each.value"]},"enabled":{"references":["each.value.enabled","each.value"]},"event_source_arn":{"references":["each.value.event_source_arn","each.value"]},"function_name":{"references":["aws_lambda_function.this[0].arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"function_response_types":{"references":["each.value.function_response_types","each.value"]},"maximum_batching_window_in_seconds":{"references":["each.value.maximum_batching_window_in_seconds","each.value"]},"maximum_record_age_in_seconds":{"references":["each.value.maximum_record_age_in_seconds","each.value"]},"maximum_retry_attempts":{"references":["each.value.maximum_retry_attempts","each.value"]},"parallelization_factor":{"references":["each.value.parallelization_factor","each.value"]},"queues":{"references":["each.value.queues","each.value"]},"starting_position":{"references":["each.value.starting_position","each.value"]},"starting_position_timestamp":{"references":["each.value.starting_position_timestamp","each.value"]},"topics":{"references":["each.value.topics","each.value"]}},"schema_version":0,"for_each_expression":{"references":["var.event_source_mapping","local.create","var.create_function","var.create_layer","var.create_unqualified_alias_allowed_triggers"]}},{"address":"aws_lambda_function.this","mode":"managed","type":"aws_lambda_function","name":"this","provider_config_key":"aws","expressions":{"architectures":{"references":["var.architectures"]},"code_signing_config_arn":{"references":["var.code_signing_config_arn"]},"description":{"references":["var.description"]},"filename":{"references":["local.filename"]},"function_name":{"references":["var.function_name"]},"handler":{"references":["var.package_type","var.handler"]},"image_uri":{"references":["var.image_uri"]},"kms_key_arn":{"references":["var.kms_key_arn"]},"layers":{"references":["var.layers"]},"memory_size":{"references":["var.memory_size"]},"package_type":{"references":["var.package_type"]},"publish":{"references":["var.lambda_at_edge","var.publish"]},"reserved_concurrent_executions":{"references":["var.reserved_concurrent_executions"]},"role":{"references":["var.create_role","aws_iam_role.lambda[0].arn","aws_iam_role.lambda[0]","aws_iam_role.lambda","var.lambda_role"]},"runtime":{"references":["var.package_type","var.runtime"]},"s3_bucket":{"references":["local.s3_bucket"]},"s3_key":{"references":["local.s3_key"]},"s3_object_version":{"references":["local.s3_object_version"]},"source_code_hash":{"references":["var.ignore_source_code_hash","local.filename","local.filename","local.was_missing","local.filename"]},"tags":{"references":["var.tags"]},"timeout":{"references":["var.lambda_at_edge","var.timeout","var.timeout"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_function","var.create_layer"]},"depends_on":["null_resource.archive","aws_s3_object.lambda_package","aws_cloudwatch_log_group.lambda","aws_iam_role_policy_attachment.additional_inline","aws_iam_role_policy_attachment.additional_json","aws_iam_role_policy_attachment.additional_jsons","aws_iam_role_policy_attachment.additional_many","aws_iam_role_policy_attachment.additional_one","aws_iam_role_policy_attachment.async","aws_iam_role_policy_attachment.logs","aws_iam_role_policy_attachment.dead_letter","aws_iam_role_policy_attachment.vpc","aws_iam_role_policy_attachment.tracing"]},{"address":"aws_lambda_function_event_invoke_config.this","mode":"managed","type":"aws_lambda_function_event_invoke_config","name":"this","provider_config_key":"aws","expressions":{"function_name":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"maximum_event_age_in_seconds":{"references":["var.maximum_event_age_in_seconds"]},"maximum_retry_attempts":{"references":["var.maximum_retry_attempts"]},"qualifier":{"references":["each.key","aws_lambda_function.this[0].version","aws_lambda_function.this[0]","aws_lambda_function.this"]}},"schema_version":0,"for_each_expression":{"references":["local.qualifiers","local.create","var.create_function","var.create_layer","var.create_async_event_config"]}},{"address":"aws_lambda_function_url.this","mode":"managed","type":"aws_lambda_function_url","name":"this","provider_config_key":"aws","expressions":{"authorization_type":{"references":["var.authorization_type"]},"function_name":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"qualifier":{"references":["var.create_unqualified_alias_lambda_function_url","aws_lambda_function.this[0].version","aws_lambda_function.this[0]","aws_lambda_function.this"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_function","var.create_layer","var.create_lambda_function_url"]}},{"address":"aws_lambda_layer_version.this","mode":"managed","type":"aws_lambda_layer_version","name":"this","provider_config_key":"aws","expressions":{"compatible_architectures":{"references":["var.compatible_architectures"]},"compatible_runtimes":{"references":["var.compatible_runtimes","var.compatible_runtimes","var.runtime"]},"description":{"references":["var.description"]},"filename":{"references":["local.filename"]},"layer_name":{"references":["var.layer_name"]},"license_info":{"references":["var.license_info"]},"s3_bucket":{"references":["local.s3_bucket"]},"s3_key":{"references":["local.s3_key"]},"s3_object_version":{"references":["local.s3_object_version"]},"skip_destroy":{"references":["var.layer_skip_destroy"]},"source_code_hash":{"references":["var.ignore_source_code_hash","local.filename","local.filename","local.was_missing","local.filename"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_layer"]},"depends_on":["null_resource.archive","aws_s3_object.lambda_package"]},{"address":"aws_lambda_permission.current_version_triggers","mode":"managed","type":"aws_lambda_permission","name":"current_version_triggers","provider_config_key":"aws","expressions":{"action":{"references":["each.value.action","each.value"]},"event_source_token":{"references":["each.value.event_source_token","each.value"]},"function_name":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"principal":{"references":["each.value.principal","each.value","each.value.service","each.value"]},"qualifier":{"references":["aws_lambda_function.this[0].version","aws_lambda_function.this[0]","aws_lambda_function.this"]},"source_account":{"references":["each.value.source_account","each.value"]},"source_arn":{"references":["each.value.source_arn","each.value"]},"statement_id":{"references":["each.value.statement_id","each.value","each.key"]}},"schema_version":0,"for_each_expression":{"references":["var.allowed_triggers","local.create","var.create_function","var.create_layer","var.create_current_version_allowed_triggers"]}},{"address":"aws_lambda_permission.unqualified_alias_triggers","mode":"managed","type":"aws_lambda_permission","name":"unqualified_alias_triggers","provider_config_key":"aws","expressions":{"action":{"references":["each.value.action","each.value"]},"event_source_token":{"references":["each.value.event_source_token","each.value"]},"function_name":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"principal":{"references":["each.value.principal","each.value","each.value.service","each.value"]},"source_account":{"references":["each.value.source_account","each.value"]},"source_arn":{"references":["each.value.source_arn","each.value"]},"statement_id":{"references":["each.value.statement_id","each.value","each.key"]}},"schema_version":0,"for_each_expression":{"references":["var.allowed_triggers","local.create","var.create_function","var.create_layer","var.create_unqualified_alias_allowed_triggers"]}},{"address":"aws_lambda_provisioned_concurrency_config.current_version","mode":"managed","type":"aws_lambda_provisioned_concurrency_config","name":"current_version","provider_config_key":"aws","expressions":{"function_name":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"provisioned_concurrent_executions":{"references":["var.provisioned_concurrent_executions"]},"qualifier":{"references":["aws_lambda_function.this[0].version","aws_lambda_function.this[0]","aws_lambda_function.this"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_function","var.create_layer","var.provisioned_concurrent_executions"]}},{"address":"aws_s3_object.lambda_package","mode":"managed","type":"aws_s3_object","name":"lambda_package","provider_config_key":"aws","expressions":{"acl":{"references":["var.s3_acl"]},"bucket":{"references":["var.s3_bucket"]},"key":{"references":["local.s3_key"]},"server_side_encryption":{"references":["var.s3_server_side_encryption"]},"source":{"references":["data.external.archive_prepare[0].result.filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]},"storage_class":{"references":["var.s3_object_storage_class"]},"tags":{"references":["var.s3_object_tags_only","var.s3_object_tags","var.tags","var.s3_object_tags"]}},"schema_version":0,"count_expression":{"references":["local.create","var.store_on_s3","var.create_package"]},"depends_on":["null_resource.archive"]},{"address":"local_file.archive_plan","mode":"managed","type":"local_file","name":"archive_plan","provider_config_key":"module.function11:local","expressions":{"content":{"references":["data.external.archive_prepare[0].result.build_plan","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]},"directory_permission":{"constant_value":"0755"},"file_permission":{"constant_value":"0644"},"filename":{"references":["data.external.archive_prepare[0].result.build_plan_filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]}},"schema_version":0,"count_expression":{"references":["var.create","var.create_package"]}},{"address":"null_resource.archive","mode":"managed","type":"null_resource","name":"archive","provider_config_key":"null","provisioners":[{"type":"local-exec","expressions":{"command":{"references":["data.external.archive_prepare[0].result.build_plan_filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]},"interpreter":{"references":["local.python","path.module","data.external.archive_prepare[0].result.timestamp","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]}}}],"expressions":{"triggers":{"references":["data.external.archive_prepare[0].result.filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare","data.external.archive_prepare[0].result.timestamp","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]}},"schema_version":0,"count_expression":{"references":["var.create","var.create_package"]},"depends_on":["local_file.archive_plan"]},{"address":"null_resource.sam_metadata_aws_lambda_function","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_function","provider_config_key":"null","expressions":{"triggers":{"references":["var.source_path","data.external.archive_prepare[0].result.filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_package","var.create_function","var.create_layer"]},"depends_on":["data.external.archive_prepare","null_resource.archive"]},{"address":"null_resource.sam_metadata_aws_lambda_layer_version","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_layer_version","provider_config_key":"null","expressions":{"triggers":{"references":["var.source_path","data.external.archive_prepare[0].result.filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_package","var.create_layer"]},"depends_on":["data.external.archive_prepare","null_resource.archive"]},{"address":"data.aws_arn.log_group_arn","mode":"data","type":"aws_arn","name":"log_group_arn","provider_config_key":"aws","expressions":{"arn":{"references":["local.log_group_arn_regional"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.lambda_at_edge"]}},{"address":"data.aws_cloudwatch_log_group.lambda","mode":"data","type":"aws_cloudwatch_log_group","name":"lambda","provider_config_key":"aws","expressions":{"name":{"references":["var.lambda_at_edge","var.function_name"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_function","var.create_layer","var.use_existing_cloudwatch_log_group"]}},{"address":"data.aws_iam_policy.tracing","mode":"data","type":"aws_iam_policy","name":"tracing","provider_config_key":"aws","expressions":{"arn":{"references":["data.aws_partition.current.partition","data.aws_partition.current"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_tracing_policy"]}},{"address":"data.aws_iam_policy.vpc","mode":"data","type":"aws_iam_policy","name":"vpc","provider_config_key":"aws","expressions":{"arn":{"references":["data.aws_partition.current.partition","data.aws_partition.current"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_network_policy"]}},{"address":"data.aws_iam_policy_document.additional_inline","mode":"data","type":"aws_iam_policy_document","name":"additional_inline","provider_config_key":"aws","schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_statements"]}},{"address":"data.aws_iam_policy_document.assume_role","mode":"data","type":"aws_iam_policy_document","name":"assume_role","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sts:AssumeRole"]},"effect":{"constant_value":"Allow"},"principals":[{"identifiers":{"references":["local.trusted_entities_services"]},"type":{"constant_value":"Service"}}]}]},"schema_version":0,"count_expression":{"references":["local.create_role"]}},{"address":"data.aws_iam_policy_document.async","mode":"data","type":"aws_iam_policy_document","name":"async","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sns:Publish","sqs:SendMessage","events:PutEvents","lambda:InvokeFunction"]},"effect":{"constant_value":"Allow"},"resources":{"references":["var.destination_on_failure","var.destination_on_success"]}}]},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_async_event_policy"]}},{"address":"data.aws_iam_policy_document.dead_letter","mode":"data","type":"aws_iam_policy_document","name":"dead_letter","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sns:Publish","sqs:SendMessage"]},"effect":{"constant_value":"Allow"},"resources":{"references":["var.dead_letter_target_arn"]}}]},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_dead_letter_policy"]}},{"address":"data.aws_iam_policy_document.logs","mode":"data","type":"aws_iam_policy_document","name":"logs","provider_config_key":"aws","expressions":{"statement":[{"actions":{"references":["var.use_existing_cloudwatch_log_group"]},"effect":{"constant_value":"Allow"},"resources":{"references":["local.log_group_arn"]}}]},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_cloudwatch_logs_policy"]}},{"address":"data.aws_partition.current","mode":"data","type":"aws_partition","name":"current","provider_config_key":"aws","schema_version":0},{"address":"data.external.archive_prepare","mode":"data","type":"external","name":"archive_prepare","provider_config_key":"module.function11:external","expressions":{"program":{"references":["local.python","path.module"]},"query":{"references":["path.module","path.root","path.cwd","var.build_in_docker","var.docker_pip_cache","var.docker_build_root","var.docker_file","var.docker_image","var.docker_with_ssh_agent","var.docker_additional_options","var.docker_entrypoint","var.artifacts_dir","var.runtime","var.source_path","var.hash_extra","var.recreate_missing_package"]}},"schema_version":0,"count_expression":{"references":["var.create","var.create_package"]}}],"variables":{"allowed_triggers":{"default":{},"description":"Map of allowed triggers to create Lambda permissions"},"architectures":{"default":null,"description":"Instruction set architecture for your Lambda function. Valid values are [\"x86_64\"] and [\"arm64\"]."},"artifacts_dir":{"default":"builds","description":"Directory name where artifacts should be stored"},"assume_role_policy_statements":{"default":{},"description":"Map of dynamic policy statements for assuming Lambda Function role (trust relationship)"},"attach_async_event_policy":{"default":false,"description":"Controls whether async event policy should be added to IAM role for Lambda Function"},"attach_cloudwatch_logs_policy":{"default":true,"description":"Controls whether CloudWatch Logs policy should be added to IAM role for Lambda Function"},"attach_dead_letter_policy":{"default":false,"description":"Controls whether SNS/SQS dead letter notification policy should be added to IAM role for Lambda Function"},"attach_network_policy":{"default":false,"description":"Controls whether VPC/network policy should be added to IAM role for Lambda Function"},"attach_policies":{"default":false,"description":"Controls whether list of policies should be added to IAM role for Lambda Function"},"attach_policy":{"default":false,"description":"Controls whether policy should be added to IAM role for Lambda Function"},"attach_policy_json":{"default":false,"description":"Controls whether policy_json should be added to IAM role for Lambda Function"},"attach_policy_jsons":{"default":false,"description":"Controls whether policy_jsons should be added to IAM role for Lambda Function"},"attach_policy_statements":{"default":false,"description":"Controls whether policy_statements should be added to IAM role for Lambda Function"},"attach_tracing_policy":{"default":false,"description":"Controls whether X-Ray tracing policy should be added to IAM role for Lambda Function"},"authorization_type":{"default":"NONE","description":"The type of authentication that the Lambda Function URL uses. Set to 'AWS_IAM' to restrict access to authenticated IAM users only. Set to 'NONE' to bypass IAM authentication and create a public endpoint."},"build_in_docker":{"default":false,"description":"Whether to build dependencies in Docker"},"cloudwatch_logs_kms_key_id":{"default":null,"description":"The ARN of the KMS Key to use when encrypting log data."},"cloudwatch_logs_retention_in_days":{"default":null,"description":"Specifies the number of days you want to retain log events in the specified log group. Possible values are: 1, 3, 5, 7, 14, 30, 60, 90, 120, 150, 180, 365, 400, 545, 731, 1827, and 3653."},"cloudwatch_logs_tags":{"default":{},"description":"A map of tags to assign to the resource."},"code_signing_config_arn":{"default":null,"description":"Amazon Resource Name (ARN) for a Code Signing Configuration"},"compatible_architectures":{"default":null,"description":"A list of Architectures Lambda layer is compatible with. Currently x86_64 and arm64 can be specified."},"compatible_runtimes":{"default":[],"description":"A list of Runtimes this layer is compatible with. Up to 5 runtimes can be specified."},"cors":{"default":{},"description":"CORS settings to be used by the Lambda Function URL"},"create":{"default":true,"description":"Controls whether resources should be created"},"create_async_event_config":{"default":false,"description":"Controls whether async event configuration for Lambda Function/Alias should be created"},"create_current_version_allowed_triggers":{"default":true,"description":"Whether to allow triggers on current version of Lambda Function (this will revoke permissions from previous version because Terraform manages only current resources)"},"create_current_version_async_event_config":{"default":true,"description":"Whether to allow async event configuration on current version of Lambda Function (this will revoke permissions from previous version because Terraform manages only current resources)"},"create_function":{"default":true,"description":"Controls whether Lambda Function resource should be created"},"create_lambda_function_url":{"default":false,"description":"Controls whether the Lambda Function URL resource should be created"},"create_layer":{"default":false,"description":"Controls whether Lambda Layer resource should be created"},"create_package":{"default":true,"description":"Controls whether Lambda package should be created"},"create_role":{"default":true,"description":"Controls whether IAM role for Lambda Function should be created"},"create_unqualified_alias_allowed_triggers":{"default":true,"description":"Whether to allow triggers on unqualified alias pointing to $LATEST version"},"create_unqualified_alias_async_event_config":{"default":true,"description":"Whether to allow async event configuration on unqualified alias pointing to $LATEST version"},"create_unqualified_alias_lambda_function_url":{"default":true,"description":"Whether to use unqualified alias pointing to $LATEST version in Lambda Function URL"},"dead_letter_target_arn":{"default":null,"description":"The ARN of an SNS topic or SQS queue to notify when an invocation fails."},"description":{"default":"","description":"Description of your Lambda Function (or Layer)"},"destination_on_failure":{"default":null,"description":"Amazon Resource Name (ARN) of the destination resource for failed asynchronous invocations"},"destination_on_success":{"default":null,"description":"Amazon Resource Name (ARN) of the destination resource for successful asynchronous invocations"},"docker_additional_options":{"default":[],"description":"Additional options to pass to the docker run command (e.g. to set environment variables, volumes, etc.)"},"docker_build_root":{"default":"","description":"Root dir where to build in Docker"},"docker_entrypoint":{"default":null,"description":"Path to the Docker entrypoint to use"},"docker_file":{"default":"","description":"Path to a Dockerfile when building in Docker"},"docker_image":{"default":"","description":"Docker image to use for the build"},"docker_pip_cache":{"default":null,"description":"Whether to mount a shared pip cache folder into docker environment or not"},"docker_with_ssh_agent":{"default":false,"description":"Whether to pass SSH_AUTH_SOCK into docker environment or not"},"environment_variables":{"default":{},"description":"A map that defines environment variables for the Lambda Function."},"ephemeral_storage_size":{"default":512,"description":"Amount of ephemeral storage (/tmp) in MB your Lambda Function can use at runtime. Valid value between 512 MB to 10,240 MB (10 GB)."},"event_source_mapping":{"default":{},"description":"Map of event source mapping"},"file_system_arn":{"default":null,"description":"The Amazon Resource Name (ARN) of the Amazon EFS Access Point that provides access to the file system."},"file_system_local_mount_path":{"default":null,"description":"The path where the function can access the file system, starting with /mnt/."},"function_name":{"default":"","description":"A unique name for your Lambda Function"},"handler":{"default":"","description":"Lambda Function entrypoint in your code"},"hash_extra":{"default":"","description":"The string to add into hashing function. Useful when building same source path for different functions."},"ignore_source_code_hash":{"default":false,"description":"Whether to ignore changes to the function's source code hash. Set to true if you manage infrastructure and code deployments separately."},"image_config_command":{"default":[],"description":"The CMD for the docker image"},"image_config_entry_point":{"default":[],"description":"The ENTRYPOINT for the docker image"},"image_config_working_directory":{"default":null,"description":"The working directory for the docker image"},"image_uri":{"default":null,"description":"The ECR image URI containing the function's deployment package."},"kms_key_arn":{"default":null,"description":"The ARN of KMS key to use by your Lambda Function"},"lambda_at_edge":{"default":false,"description":"Set this to true if using Lambda@Edge, to enable publishing, limit the timeout, and allow edgelambda.amazonaws.com to invoke the function"},"lambda_role":{"default":"","description":" IAM role ARN attached to the Lambda Function. This governs both who / what can invoke your Lambda Function, as well as what resources our Lambda Function has access to. See Lambda Permission Model for more details."},"layer_name":{"default":"","description":"Name of Lambda Layer to create"},"layer_skip_destroy":{"default":false,"description":"Whether to retain the old version of a previously deployed Lambda Layer."},"layers":{"default":null,"description":"List of Lambda Layer Version ARNs (maximum of 5) to attach to your Lambda Function."},"license_info":{"default":"","description":"License info for your Lambda Layer. Eg, MIT or full url of a license."},"local_existing_package":{"default":null,"description":"The absolute path to an existing zip-file to use"},"maximum_event_age_in_seconds":{"default":null,"description":"Maximum age of a request that Lambda sends to a function for processing in seconds. Valid values between 60 and 21600."},"maximum_retry_attempts":{"default":null,"description":"Maximum number of times to retry when the function returns an error. Valid values between 0 and 2. Defaults to 2."},"memory_size":{"default":128,"description":"Amount of memory in MB your Lambda Function can use at runtime. Valid value between 128 MB to 10,240 MB (10 GB), in 64 MB increments."},"number_of_policies":{"default":0,"description":"Number of policies to attach to IAM role for Lambda Function"},"number_of_policy_jsons":{"default":0,"description":"Number of policies JSON to attach to IAM role for Lambda Function"},"package_type":{"default":"Zip","description":"The Lambda deployment package type. Valid options: Zip or Image"},"policies":{"default":[],"description":"List of policy statements ARN to attach to Lambda Function role"},"policy":{"default":null,"description":"An additional policy document ARN to attach to the Lambda Function role"},"policy_json":{"default":null,"description":"An additional policy document as JSON to attach to the Lambda Function role"},"policy_jsons":{"default":[],"description":"List of additional policy documents as JSON to attach to Lambda Function role"},"policy_name":{"default":null,"description":"IAM policy name. It override the default value, which is the same as role_name"},"policy_path":{"default":null,"description":"Path of policies to that should be added to IAM role for Lambda Function"},"policy_statements":{"default":{},"description":"Map of dynamic policy statements to attach to Lambda Function role"},"provisioned_concurrent_executions":{"default":-1,"description":"Amount of capacity to allocate. Set to 1 or greater to enable, or set to 0 to disable provisioned concurrency."},"publish":{"default":false,"description":"Whether to publish creation/change as new Lambda Function Version."},"putin_khuylo":{"default":true,"description":"Do you agree that Putin doesn't respect Ukrainian sovereignty and territorial integrity? More info: https://en.wikipedia.org/wiki/Putin_khuylo!"},"recreate_missing_package":{"default":true,"description":"Whether to recreate missing Lambda package if it is missing locally or not"},"reserved_concurrent_executions":{"default":-1,"description":"The amount of reserved concurrent executions for this Lambda Function. A value of 0 disables Lambda Function from being triggered and -1 removes any concurrency limitations. Defaults to Unreserved Concurrency Limits -1."},"role_description":{"default":null,"description":"Description of IAM role to use for Lambda Function"},"role_force_detach_policies":{"default":true,"description":"Specifies to force detaching any policies the IAM role has before destroying it."},"role_name":{"default":null,"description":"Name of IAM role to use for Lambda Function"},"role_path":{"default":null,"description":"Path of IAM role to use for Lambda Function"},"role_permissions_boundary":{"default":null,"description":"The ARN of the policy that is used to set the permissions boundary for the IAM role used by Lambda Function"},"role_tags":{"default":{},"description":"A map of tags to assign to IAM role"},"runtime":{"default":"","description":"Lambda Function runtime"},"s3_acl":{"default":"private","description":"The canned ACL to apply. Valid values are private, public-read, public-read-write, aws-exec-read, authenticated-read, bucket-owner-read, and bucket-owner-full-control. Defaults to private."},"s3_bucket":{"default":null,"description":"S3 bucket to store artifacts"},"s3_existing_package":{"default":null,"description":"The S3 bucket object with keys bucket, key, version pointing to an existing zip-file to use"},"s3_object_storage_class":{"default":"ONEZONE_IA","description":"Specifies the desired Storage Class for the artifact uploaded to S3. Can be either STANDARD, REDUCED_REDUNDANCY, ONEZONE_IA, INTELLIGENT_TIERING, or STANDARD_IA."},"s3_object_tags":{"default":{},"description":"A map of tags to assign to S3 bucket object."},"s3_object_tags_only":{"default":false,"description":"Set to true to not merge tags with s3_object_tags. Useful to avoid breaching S3 Object 10 tag limit."},"s3_prefix":{"default":null,"description":"Directory name where artifacts should be stored in the S3 bucket. If unset, the path from `artifacts_dir` is used"},"s3_server_side_encryption":{"default":null,"description":"Specifies server-side encryption of the object in S3. Valid values are \"AES256\" and \"aws:kms\"."},"source_path":{"default":null,"description":"The absolute path to a local file or directory containing your Lambda source code"},"store_on_s3":{"default":false,"description":"Whether to store produced artifacts on S3 or locally."},"tags":{"default":{},"description":"A map of tags to assign to resources."},"timeout":{"default":3,"description":"The amount of time your Lambda Function has to run in seconds."},"tracing_mode":{"default":null,"description":"Tracing mode of the Lambda Function. Valid value can be either PassThrough or Active."},"trusted_entities":{"default":[],"description":"List of additional trusted entities for assuming Lambda Function role (trust relationship)"},"use_existing_cloudwatch_log_group":{"default":false,"description":"Whether to use an existing CloudWatch log group or create new"},"vpc_security_group_ids":{"default":null,"description":"List of security group ids when Lambda Function should run in the VPC."},"vpc_subnet_ids":{"default":null,"description":"List of subnet ids when Lambda Function should run in the VPC. Usually private or intra subnets."}}},"version_constraint":"4.6.0"},"function2":{"source":"./lambda_function","expressions":{"function_name":{"constant_value":"function2"},"layers":{"references":["module.layer2.arn","module.layer2"]},"source_code":{"references":["local.building_path","local.hello_world_artifact_file_name"]}},"module":{"resources":[{"address":"aws_iam_role.iam_for_lambda","mode":"managed","type":"aws_iam_role","name":"iam_for_lambda","provider_config_key":"aws","expressions":{"assume_role_policy":{"constant_value":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"lambda.amazonaws.com\"\n      },\n      \"Effect\": \"Allow\",\n      \"Sid\": \"\"\n    }\n  ]\n}\n"},"name":{"constant_value":"iam_for_lambda2"}},"schema_version":0},{"address":"aws_lambda_function.this","mode":"managed","type":"aws_lambda_function","name":"this","provider_config_key":"aws","expressions":{"filename":{"references":["var.source_code"]},"function_name":{"references":["var.function_name"]},"handler":{"constant_value":"app.lambda_handler"},"layers":{"references":["var.layers"]},"role":{"references":["aws_iam_role.iam_for_lambda.arn","aws_iam_role.iam_for_lambda"]},"runtime":{"constant_value":"python3.8"},"timeout":{"constant_value":300}},"schema_version":0}],"variables":{"function_name":{},"layers":{"default":[]},"source_code":{}}}},"function7":{"source":"terraform-aws-modules/lambda/aws","expressions":{"function_name":{"constant_value":"function7"},"handler":{"constant_value":"app.lambda_handler"},"layers":{"references":["module.layer7.lambda_layer_arn","module.layer7"]},"runtime":{"constant_value":"python3.8"},"source_path":{"references":["local.hello_world_function_src_path"]},"timeout":{"constant_value":300}},"module":{"outputs":{"lambda_cloudwatch_log_group_arn":{"expression":{"references":["local.log_group_arn"]},"description":"The ARN of the Cloudwatch Log Group"},"lambda_cloudwatch_log_group_name":{"expression":{"references":["local.log_group_name"]},"description":"The name of the Cloudwatch Log Group"},"lambda_event_source_mapping_function_arn":{"expression":{"references":["aws_lambda_event_source_mapping.this"]},"description":"The the ARN of the Lambda function the event source mapping is sending events to"},"lambda_event_source_mapping_state":{"expression":{"references":["aws_lambda_event_source_mapping.this"]},"description":"The state of the event source mapping"},"lambda_event_source_mapping_state_transition_reason":{"expression":{"references":["aws_lambda_event_source_mapping.this"]},"description":"The reason the event source mapping is in its current state"},"lambda_event_source_mapping_uuid":{"expression":{"references":["aws_lambda_event_source_mapping.this"]},"description":"The UUID of the created event source mapping"},"lambda_function_arn":{"expression":{"references":["aws_lambda_function.this[0].arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The ARN of the Lambda Function"},"lambda_function_invoke_arn":{"expression":{"references":["aws_lambda_function.this[0].invoke_arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The Invoke ARN of the Lambda Function"},"lambda_function_kms_key_arn":{"expression":{"references":["aws_lambda_function.this[0].kms_key_arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The ARN for the KMS encryption key of Lambda Function"},"lambda_function_last_modified":{"expression":{"references":["aws_lambda_function.this[0].last_modified","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The date Lambda Function resource was last modified"},"lambda_function_name":{"expression":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The name of the Lambda Function"},"lambda_function_qualified_arn":{"expression":{"references":["aws_lambda_function.this[0].qualified_arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The ARN identifying your Lambda Function Version"},"lambda_function_signing_job_arn":{"expression":{"references":["aws_lambda_function.this[0].signing_job_arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"ARN of the signing job"},"lambda_function_signing_profile_version_arn":{"expression":{"references":["aws_lambda_function.this[0].signing_profile_version_arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"ARN of the signing profile version"},"lambda_function_source_code_hash":{"expression":{"references":["aws_lambda_function.this[0].source_code_hash","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"Base64-encoded representation of raw SHA-256 sum of the zip file"},"lambda_function_source_code_size":{"expression":{"references":["aws_lambda_function.this[0].source_code_size","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The size in bytes of the function .zip file"},"lambda_function_url":{"expression":{"references":["aws_lambda_function_url.this[0].function_url","aws_lambda_function_url.this[0]","aws_lambda_function_url.this"]},"description":"The URL of the Lambda Function URL"},"lambda_function_url_id":{"expression":{"references":["aws_lambda_function_url.this[0].url_id","aws_lambda_function_url.this[0]","aws_lambda_function_url.this"]},"description":"The Lambda Function URL generated id"},"lambda_function_version":{"expression":{"references":["aws_lambda_function.this[0].version","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"Latest published version of Lambda Function"},"lambda_layer_arn":{"expression":{"references":["aws_lambda_layer_version.this[0].arn","aws_lambda_layer_version.this[0]","aws_lambda_layer_version.this"]},"description":"The ARN of the Lambda Layer with version"},"lambda_layer_created_date":{"expression":{"references":["aws_lambda_layer_version.this[0].created_date","aws_lambda_layer_version.this[0]","aws_lambda_layer_version.this"]},"description":"The date Lambda Layer resource was created"},"lambda_layer_layer_arn":{"expression":{"references":["aws_lambda_layer_version.this[0].layer_arn","aws_lambda_layer_version.this[0]","aws_lambda_layer_version.this"]},"description":"The ARN of the Lambda Layer without version"},"lambda_layer_source_code_size":{"expression":{"references":["aws_lambda_layer_version.this[0].source_code_size","aws_lambda_layer_version.this[0]","aws_lambda_layer_version.this"]},"description":"The size in bytes of the Lambda Layer .zip file"},"lambda_layer_version":{"expression":{"references":["aws_lambda_layer_version.this[0].version","aws_lambda_layer_version.this[0]","aws_lambda_layer_version.this"]},"description":"The Lambda Layer version"},"lambda_role_arn":{"expression":{"references":["aws_iam_role.lambda[0].arn","aws_iam_role.lambda[0]","aws_iam_role.lambda"]},"description":"The ARN of the IAM role created for the Lambda Function"},"lambda_role_name":{"expression":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]},"description":"The name of the IAM role created for the Lambda Function"},"lambda_role_unique_id":{"expression":{"references":["aws_iam_role.lambda[0].unique_id","aws_iam_role.lambda[0]","aws_iam_role.lambda"]},"description":"The unique id of the IAM role created for the Lambda Function"},"local_filename":{"expression":{"references":["local.filename"]},"depends_on":["null_resource.archive"],"description":"The filename of zip archive deployed (if deployment was from local)"},"s3_object":{"expression":{"references":["local.s3_bucket","local.s3_key","local.s3_object_version"]},"description":"The map with S3 object data of zip archive deployed (if deployment was from S3)"}},"resources":[{"address":"aws_cloudwatch_log_group.lambda","mode":"managed","type":"aws_cloudwatch_log_group","name":"lambda","provider_config_key":"aws","expressions":{"kms_key_id":{"references":["var.cloudwatch_logs_kms_key_id"]},"name":{"references":["var.lambda_at_edge","var.function_name"]},"retention_in_days":{"references":["var.cloudwatch_logs_retention_in_days"]},"tags":{"references":["var.tags","var.cloudwatch_logs_tags"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_function","var.create_layer","var.use_existing_cloudwatch_log_group"]}},{"address":"aws_iam_policy.additional_inline","mode":"managed","type":"aws_iam_policy","name":"additional_inline","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy_document.additional_inline[0].json","data.aws_iam_policy_document.additional_inline[0]","data.aws_iam_policy_document.additional_inline"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_statements"]}},{"address":"aws_iam_policy.additional_json","mode":"managed","type":"aws_iam_policy","name":"additional_json","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["var.policy_json"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_json"]}},{"address":"aws_iam_policy.additional_jsons","mode":"managed","type":"aws_iam_policy","name":"additional_jsons","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name","count.index"]},"path":{"references":["var.policy_path"]},"policy":{"references":["var.policy_jsons","count.index"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_jsons","var.number_of_policy_jsons"]}},{"address":"aws_iam_policy.async","mode":"managed","type":"aws_iam_policy","name":"async","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy_document.async[0].json","data.aws_iam_policy_document.async[0]","data.aws_iam_policy_document.async"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_async_event_policy"]}},{"address":"aws_iam_policy.dead_letter","mode":"managed","type":"aws_iam_policy","name":"dead_letter","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy_document.dead_letter[0].json","data.aws_iam_policy_document.dead_letter[0]","data.aws_iam_policy_document.dead_letter"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_dead_letter_policy"]}},{"address":"aws_iam_policy.logs","mode":"managed","type":"aws_iam_policy","name":"logs","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy_document.logs[0].json","data.aws_iam_policy_document.logs[0]","data.aws_iam_policy_document.logs"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_cloudwatch_logs_policy"]}},{"address":"aws_iam_policy.tracing","mode":"managed","type":"aws_iam_policy","name":"tracing","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy.tracing[0].policy","data.aws_iam_policy.tracing[0]","data.aws_iam_policy.tracing"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_tracing_policy"]}},{"address":"aws_iam_policy.vpc","mode":"managed","type":"aws_iam_policy","name":"vpc","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy.vpc[0].policy","data.aws_iam_policy.vpc[0]","data.aws_iam_policy.vpc"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_network_policy"]}},{"address":"aws_iam_role.lambda","mode":"managed","type":"aws_iam_role","name":"lambda","provider_config_key":"aws","expressions":{"assume_role_policy":{"references":["data.aws_iam_policy_document.assume_role[0].json","data.aws_iam_policy_document.assume_role[0]","data.aws_iam_policy_document.assume_role"]},"description":{"references":["var.role_description"]},"force_detach_policies":{"references":["var.role_force_detach_policies"]},"name":{"references":["local.role_name"]},"path":{"references":["var.role_path"]},"permissions_boundary":{"references":["var.role_permissions_boundary"]},"tags":{"references":["var.tags","var.role_tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role"]}},{"address":"aws_iam_role_policy_attachment.additional_inline","mode":"managed","type":"aws_iam_role_policy_attachment","name":"additional_inline","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.additional_inline[0].arn","aws_iam_policy.additional_inline[0]","aws_iam_policy.additional_inline"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_statements"]}},{"address":"aws_iam_role_policy_attachment.additional_json","mode":"managed","type":"aws_iam_role_policy_attachment","name":"additional_json","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.additional_json[0].arn","aws_iam_policy.additional_json[0]","aws_iam_policy.additional_json"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_json"]}},{"address":"aws_iam_role_policy_attachment.additional_jsons","mode":"managed","type":"aws_iam_role_policy_attachment","name":"additional_jsons","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.additional_jsons","count.index"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_jsons","var.number_of_policy_jsons"]}},{"address":"aws_iam_role_policy_attachment.additional_many","mode":"managed","type":"aws_iam_role_policy_attachment","name":"additional_many","provider_config_key":"aws","expressions":{"policy_arn":{"references":["var.policies","count.index"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policies","var.number_of_policies"]}},{"address":"aws_iam_role_policy_attachment.additional_one","mode":"managed","type":"aws_iam_role_policy_attachment","name":"additional_one","provider_config_key":"aws","expressions":{"policy_arn":{"references":["var.policy"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy"]}},{"address":"aws_iam_role_policy_attachment.async","mode":"managed","type":"aws_iam_role_policy_attachment","name":"async","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.async[0].arn","aws_iam_policy.async[0]","aws_iam_policy.async"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_async_event_policy"]}},{"address":"aws_iam_role_policy_attachment.dead_letter","mode":"managed","type":"aws_iam_role_policy_attachment","name":"dead_letter","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.dead_letter[0].arn","aws_iam_policy.dead_letter[0]","aws_iam_policy.dead_letter"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_dead_letter_policy"]}},{"address":"aws_iam_role_policy_attachment.logs","mode":"managed","type":"aws_iam_role_policy_attachment","name":"logs","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.logs[0].arn","aws_iam_policy.logs[0]","aws_iam_policy.logs"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_cloudwatch_logs_policy"]}},{"address":"aws_iam_role_policy_attachment.tracing","mode":"managed","type":"aws_iam_role_policy_attachment","name":"tracing","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.tracing[0].arn","aws_iam_policy.tracing[0]","aws_iam_policy.tracing"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_tracing_policy"]}},{"address":"aws_iam_role_policy_attachment.vpc","mode":"managed","type":"aws_iam_role_policy_attachment","name":"vpc","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.vpc[0].arn","aws_iam_policy.vpc[0]","aws_iam_policy.vpc"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_network_policy"]}},{"address":"aws_lambda_event_source_mapping.this","mode":"managed","type":"aws_lambda_event_source_mapping","name":"this","provider_config_key":"aws","expressions":{"batch_size":{"references":["each.value.batch_size","each.value"]},"bisect_batch_on_function_error":{"references":["each.value.bisect_batch_on_function_error","each.value"]},"enabled":{"references":["each.value.enabled","each.value"]},"event_source_arn":{"references":["each.value.event_source_arn","each.value"]},"function_name":{"references":["aws_lambda_function.this[0].arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"function_response_types":{"references":["each.value.function_response_types","each.value"]},"maximum_batching_window_in_seconds":{"references":["each.value.maximum_batching_window_in_seconds","each.value"]},"maximum_record_age_in_seconds":{"references":["each.value.maximum_record_age_in_seconds","each.value"]},"maximum_retry_attempts":{"references":["each.value.maximum_retry_attempts","each.value"]},"parallelization_factor":{"references":["each.value.parallelization_factor","each.value"]},"queues":{"references":["each.value.queues","each.value"]},"starting_position":{"references":["each.value.starting_position","each.value"]},"starting_position_timestamp":{"references":["each.value.starting_position_timestamp","each.value"]},"topics":{"references":["each.value.topics","each.value"]}},"schema_version":0,"for_each_expression":{"references":["var.event_source_mapping","local.create","var.create_function","var.create_layer","var.create_unqualified_alias_allowed_triggers"]}},{"address":"aws_lambda_function.this","mode":"managed","type":"aws_lambda_function","name":"this","provider_config_key":"aws","expressions":{"architectures":{"references":["var.architectures"]},"code_signing_config_arn":{"references":["var.code_signing_config_arn"]},"description":{"references":["var.description"]},"filename":{"references":["local.filename"]},"function_name":{"references":["var.function_name"]},"handler":{"references":["var.package_type","var.handler"]},"image_uri":{"references":["var.image_uri"]},"kms_key_arn":{"references":["var.kms_key_arn"]},"layers":{"references":["var.layers"]},"memory_size":{"references":["var.memory_size"]},"package_type":{"references":["var.package_type"]},"publish":{"references":["var.lambda_at_edge","var.publish"]},"reserved_concurrent_executions":{"references":["var.reserved_concurrent_executions"]},"role":{"references":["var.create_role","aws_iam_role.lambda[0].arn","aws_iam_role.lambda[0]","aws_iam_role.lambda","var.lambda_role"]},"runtime":{"references":["var.package_type","var.runtime"]},"s3_bucket":{"references":["local.s3_bucket"]},"s3_key":{"references":["local.s3_key"]},"s3_object_version":{"references":["local.s3_object_version"]},"source_code_hash":{"references":["var.ignore_source_code_hash","local.filename","local.filename","local.was_missing","local.filename"]},"tags":{"references":["var.tags"]},"timeout":{"references":["var.lambda_at_edge","var.timeout","var.timeout"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_function","var.create_layer"]},"depends_on":["null_resource.archive","aws_s3_object.lambda_package","aws_cloudwatch_log_group.lambda","aws_iam_role_policy_attachment.additional_inline","aws_iam_role_policy_attachment.additional_json","aws_iam_role_policy_attachment.additional_jsons","aws_iam_role_policy_attachment.additional_many","aws_iam_role_policy_attachment.additional_one","aws_iam_role_policy_attachment.async","aws_iam_role_policy_attachment.logs","aws_iam_role_policy_attachment.dead_letter","aws_iam_role_policy_attachment.vpc","aws_iam_role_policy_attachment.tracing"]},{"address":"aws_lambda_function_event_invoke_config.this","mode":"managed","type":"aws_lambda_function_event_invoke_config","name":"this","provider_config_key":"aws","expressions":{"function_name":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"maximum_event_age_in_seconds":{"references":["var.maximum_event_age_in_seconds"]},"maximum_retry_attempts":{"references":["var.maximum_retry_attempts"]},"qualifier":{"references":["each.key","aws_lambda_function.this[0].version","aws_lambda_function.this[0]","aws_lambda_function.this"]}},"schema_version":0,"for_each_expression":{"references":["local.qualifiers","local.create","var.create_function","var.create_layer","var.create_async_event_config"]}},{"address":"aws_lambda_function_url.this","mode":"managed","type":"aws_lambda_function_url","name":"this","provider_config_key":"aws","expressions":{"authorization_type":{"references":["var.authorization_type"]},"function_name":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"qualifier":{"references":["var.create_unqualified_alias_lambda_function_url","aws_lambda_function.this[0].version","aws_lambda_function.this[0]","aws_lambda_function.this"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_function","var.create_layer","var.create_lambda_function_url"]}},{"address":"aws_lambda_layer_version.this","mode":"managed","type":"aws_lambda_layer_version","name":"this","provider_config_key":"aws","expressions":{"compatible_architectures":{"references":["var.compatible_architectures"]},"compatible_runtimes":{"references":["var.compatible_runtimes","var.compatible_runtimes","var.runtime"]},"description":{"references":["var.description"]},"filename":{"references":["local.filename"]},"layer_name":{"references":["var.layer_name"]},"license_info":{"references":["var.license_info"]},"s3_bucket":{"references":["local.s3_bucket"]},"s3_key":{"references":["local.s3_key"]},"s3_object_version":{"references":["local.s3_object_version"]},"skip_destroy":{"references":["var.layer_skip_destroy"]},"source_code_hash":{"references":["var.ignore_source_code_hash","local.filename","local.filename","local.was_missing","local.filename"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_layer"]},"depends_on":["null_resource.archive","aws_s3_object.lambda_package"]},{"address":"aws_lambda_permission.current_version_triggers","mode":"managed","type":"aws_lambda_permission","name":"current_version_triggers","provider_config_key":"aws","expressions":{"action":{"references":["each.value.action","each.value"]},"event_source_token":{"references":["each.value.event_source_token","each.value"]},"function_name":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"principal":{"references":["each.value.principal","each.value","each.value.service","each.value"]},"qualifier":{"references":["aws_lambda_function.this[0].version","aws_lambda_function.this[0]","aws_lambda_function.this"]},"source_account":{"references":["each.value.source_account","each.value"]},"source_arn":{"references":["each.value.source_arn","each.value"]},"statement_id":{"references":["each.value.statement_id","each.value","each.key"]}},"schema_version":0,"for_each_expression":{"references":["var.allowed_triggers","local.create","var.create_function","var.create_layer","var.create_current_version_allowed_triggers"]}},{"address":"aws_lambda_permission.unqualified_alias_triggers","mode":"managed","type":"aws_lambda_permission","name":"unqualified_alias_triggers","provider_config_key":"aws","expressions":{"action":{"references":["each.value.action","each.value"]},"event_source_token":{"references":["each.value.event_source_token","each.value"]},"function_name":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"principal":{"references":["each.value.principal","each.value","each.value.service","each.value"]},"source_account":{"references":["each.value.source_account","each.value"]},"source_arn":{"references":["each.value.source_arn","each.value"]},"statement_id":{"references":["each.value.statement_id","each.value","each.key"]}},"schema_version":0,"for_each_expression":{"references":["var.allowed_triggers","local.create","var.create_function","var.create_layer","var.create_unqualified_alias_allowed_triggers"]}},{"address":"aws_lambda_provisioned_concurrency_config.current_version","mode":"managed","type":"aws_lambda_provisioned_concurrency_config","name":"current_version","provider_config_key":"aws","expressions":{"function_name":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"provisioned_concurrent_executions":{"references":["var.provisioned_concurrent_executions"]},"qualifier":{"references":["aws_lambda_function.this[0].version","aws_lambda_function.this[0]","aws_lambda_function.this"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_function","var.create_layer","var.provisioned_concurrent_executions"]}},{"address":"aws_s3_object.lambda_package","mode":"managed","type":"aws_s3_object","name":"lambda_package","provider_config_key":"aws","expressions":{"acl":{"references":["var.s3_acl"]},"bucket":{"references":["var.s3_bucket"]},"key":{"references":["local.s3_key"]},"server_side_encryption":{"references":["var.s3_server_side_encryption"]},"source":{"references":["data.external.archive_prepare[0].result.filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]},"storage_class":{"references":["var.s3_object_storage_class"]},"tags":{"references":["var.s3_object_tags_only","var.s3_object_tags","var.tags","var.s3_object_tags"]}},"schema_version":0,"count_expression":{"references":["local.create","var.store_on_s3","var.create_package"]},"depends_on":["null_resource.archive"]},{"address":"local_file.archive_plan","mode":"managed","type":"local_file","name":"archive_plan","provider_config_key":"module.function7:local","expressions":{"content":{"references":["data.external.archive_prepare[0].result.build_plan","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]},"directory_permission":{"constant_value":"0755"},"file_permission":{"constant_value":"0644"},"filename":{"references":["data.external.archive_prepare[0].result.build_plan_filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]}},"schema_version":0,"count_expression":{"references":["var.create","var.create_package"]}},{"address":"null_resource.archive","mode":"managed","type":"null_resource","name":"archive","provider_config_key":"null","provisioners":[{"type":"local-exec","expressions":{"command":{"references":["data.external.archive_prepare[0].result.build_plan_filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]},"interpreter":{"references":["local.python","path.module","data.external.archive_prepare[0].result.timestamp","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]}}}],"expressions":{"triggers":{"references":["data.external.archive_prepare[0].result.filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare","data.external.archive_prepare[0].result.timestamp","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]}},"schema_version":0,"count_expression":{"references":["var.create","var.create_package"]},"depends_on":["local_file.archive_plan"]},{"address":"null_resource.sam_metadata_aws_lambda_function","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_function","provider_config_key":"null","expressions":{"triggers":{"references":["var.source_path","data.external.archive_prepare[0].result.filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_package","var.create_function","var.create_layer"]},"depends_on":["data.external.archive_prepare","null_resource.archive"]},{"address":"null_resource.sam_metadata_aws_lambda_layer_version","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_layer_version","provider_config_key":"null","expressions":{"triggers":{"references":["var.source_path","data.external.archive_prepare[0].result.filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_package","var.create_layer"]},"depends_on":["data.external.archive_prepare","null_resource.archive"]},{"address":"data.aws_arn.log_group_arn","mode":"data","type":"aws_arn","name":"log_group_arn","provider_config_key":"aws","expressions":{"arn":{"references":["local.log_group_arn_regional"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.lambda_at_edge"]}},{"address":"data.aws_cloudwatch_log_group.lambda","mode":"data","type":"aws_cloudwatch_log_group","name":"lambda","provider_config_key":"aws","expressions":{"name":{"references":["var.lambda_at_edge","var.function_name"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_function","var.create_layer","var.use_existing_cloudwatch_log_group"]}},{"address":"data.aws_iam_policy.tracing","mode":"data","type":"aws_iam_policy","name":"tracing","provider_config_key":"aws","expressions":{"arn":{"references":["data.aws_partition.current.partition","data.aws_partition.current"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_tracing_policy"]}},{"address":"data.aws_iam_policy.vpc","mode":"data","type":"aws_iam_policy","name":"vpc","provider_config_key":"aws","expressions":{"arn":{"references":["data.aws_partition.current.partition","data.aws_partition.current"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_network_policy"]}},{"address":"data.aws_iam_policy_document.additional_inline","mode":"data","type":"aws_iam_policy_document","name":"additional_inline","provider_config_key":"aws","schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_statements"]}},{"address":"data.aws_iam_policy_document.assume_role","mode":"data","type":"aws_iam_policy_document","name":"assume_role","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sts:AssumeRole"]},"effect":{"constant_value":"Allow"},"principals":[{"identifiers":{"references":["local.trusted_entities_services"]},"type":{"constant_value":"Service"}}]}]},"schema_version":0,"count_expression":{"references":["local.create_role"]}},{"address":"data.aws_iam_policy_document.async","mode":"data","type":"aws_iam_policy_document","name":"async","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sns:Publish","sqs:SendMessage","events:PutEvents","lambda:InvokeFunction"]},"effect":{"constant_value":"Allow"},"resources":{"references":["var.destination_on_failure","var.destination_on_success"]}}]},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_async_event_policy"]}},{"address":"data.aws_iam_policy_document.dead_letter","mode":"data","type":"aws_iam_policy_document","name":"dead_letter","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sns:Publish","sqs:SendMessage"]},"effect":{"constant_value":"Allow"},"resources":{"references":["var.dead_letter_target_arn"]}}]},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_dead_letter_policy"]}},{"address":"data.aws_iam_policy_document.logs","mode":"data","type":"aws_iam_policy_document","name":"logs","provider_config_key":"aws","expressions":{"statement":[{"actions":{"references":["var.use_existing_cloudwatch_log_group"]},"effect":{"constant_value":"Allow"},"resources":{"references":["local.log_group_arn"]}}]},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_cloudwatch_logs_policy"]}},{"address":"data.aws_partition.current","mode":"data","type":"aws_partition","name":"current","provider_config_key":"aws","schema_version":0},{"address":"data.external.archive_prepare","mode":"data","type":"external","name":"archive_prepare","provider_config_key":"module.function7:external","expressions":{"program":{"references":["local.python","path.module"]},"query":{"references":["path.module","path.root","path.cwd","var.build_in_docker","var.docker_pip_cache","var.docker_build_root","var.docker_file","var.docker_image","var.docker_with_ssh_agent","var.docker_additional_options","var.docker_entrypoint","var.artifacts_dir","var.runtime","var.source_path","var.hash_extra","var.recreate_missing_package"]}},"schema_version":0,"count_expression":{"references":["var.create","var.create_package"]}}],"variables":{"allowed_triggers":{"default":{},"description":"Map of allowed triggers to create Lambda permissions"},"architectures":{"default":null,"description":"Instruction set architecture for your Lambda function. Valid values are [\"x86_64\"] and [\"arm64\"]."},"artifacts_dir":{"default":"builds","description":"Directory name where artifacts should be stored"},"assume_role_policy_statements":{"default":{},"description":"Map of dynamic policy statements for assuming Lambda Function role (trust relationship)"},"attach_async_event_policy":{"default":false,"description":"Controls whether async event policy should be added to IAM role for Lambda Function"},"attach_cloudwatch_logs_policy":{"default":true,"description":"Controls whether CloudWatch Logs policy should be added to IAM role for Lambda Function"},"attach_dead_letter_policy":{"default":false,"description":"Controls whether SNS/SQS dead letter notification policy should be added to IAM role for Lambda Function"},"attach_network_policy":{"default":false,"description":"Controls whether VPC/network policy should be added to IAM role for Lambda Function"},"attach_policies":{"default":false,"description":"Controls whether list of policies should be added to IAM role for Lambda Function"},"attach_policy":{"default":false,"description":"Controls whether policy should be added to IAM role for Lambda Function"},"attach_policy_json":{"default":false,"description":"Controls whether policy_json should be added to IAM role for Lambda Function"},"attach_policy_jsons":{"default":false,"description":"Controls whether policy_jsons should be added to IAM role for Lambda Function"},"attach_policy_statements":{"default":false,"description":"Controls whether policy_statements should be added to IAM role for Lambda Function"},"attach_tracing_policy":{"default":false,"description":"Controls whether X-Ray tracing policy should be added to IAM role for Lambda Function"},"authorization_type":{"default":"NONE","description":"The type of authentication that the Lambda Function URL uses. Set to 'AWS_IAM' to restrict access to authenticated IAM users only. Set to 'NONE' to bypass IAM authentication and create a public endpoint."},"build_in_docker":{"default":false,"description":"Whether to build dependencies in Docker"},"cloudwatch_logs_kms_key_id":{"default":null,"description":"The ARN of the KMS Key to use when encrypting log data."},"cloudwatch_logs_retention_in_days":{"default":null,"description":"Specifies the number of days you want to retain log events in the specified log group. Possible values are: 1, 3, 5, 7, 14, 30, 60, 90, 120, 150, 180, 365, 400, 545, 731, 1827, and 3653."},"cloudwatch_logs_tags":{"default":{},"description":"A map of tags to assign to the resource."},"code_signing_config_arn":{"default":null,"description":"Amazon Resource Name (ARN) for a Code Signing Configuration"},"compatible_architectures":{"default":null,"description":"A list of Architectures Lambda layer is compatible with. Currently x86_64 and arm64 can be specified."},"compatible_runtimes":{"default":[],"description":"A list of Runtimes this layer is compatible with. Up to 5 runtimes can be specified."},"cors":{"default":{},"description":"CORS settings to be used by the Lambda Function URL"},"create":{"default":true,"description":"Controls whether resources should be created"},"create_async_event_config":{"default":false,"description":"Controls whether async event configuration for Lambda Function/Alias should be created"},"create_current_version_allowed_triggers":{"default":true,"description":"Whether to allow triggers on current version of Lambda Function (this will revoke permissions from previous version because Terraform manages only current resources)"},"create_current_version_async_event_config":{"default":true,"description":"Whether to allow async event configuration on current version of Lambda Function (this will revoke permissions from previous version because Terraform manages only current resources)"},"create_function":{"default":true,"description":"Controls whether Lambda Function resource should be created"},"create_lambda_function_url":{"default":false,"description":"Controls whether the Lambda Function URL resource should be created"},"create_layer":{"default":false,"description":"Controls whether Lambda Layer resource should be created"},"create_package":{"default":true,"description":"Controls whether Lambda package should be created"},"create_role":{"default":true,"description":"Controls whether IAM role for Lambda Function should be created"},"create_unqualified_alias_allowed_triggers":{"default":true,"description":"Whether to allow triggers on unqualified alias pointing to $LATEST version"},"create_unqualified_alias_async_event_config":{"default":true,"description":"Whether to allow async event configuration on unqualified alias pointing to $LATEST version"},"create_unqualified_alias_lambda_function_url":{"default":true,"description":"Whether to use unqualified alias pointing to $LATEST version in Lambda Function URL"},"dead_letter_target_arn":{"default":null,"description":"The ARN of an SNS topic or SQS queue to notify when an invocation fails."},"description":{"default":"","description":"Description of your Lambda Function (or Layer)"},"destination_on_failure":{"default":null,"description":"Amazon Resource Name (ARN) of the destination resource for failed asynchronous invocations"},"destination_on_success":{"default":null,"description":"Amazon Resource Name (ARN) of the destination resource for successful asynchronous invocations"},"docker_additional_options":{"default":[],"description":"Additional options to pass to the docker run command (e.g. to set environment variables, volumes, etc.)"},"docker_build_root":{"default":"","description":"Root dir where to build in Docker"},"docker_entrypoint":{"default":null,"description":"Path to the Docker entrypoint to use"},"docker_file":{"default":"","description":"Path to a Dockerfile when building in Docker"},"docker_image":{"default":"","description":"Docker image to use for the build"},"docker_pip_cache":{"default":null,"description":"Whether to mount a shared pip cache folder into docker environment or not"},"docker_with_ssh_agent":{"default":false,"description":"Whether to pass SSH_AUTH_SOCK into docker environment or not"},"environment_variables":{"default":{},"description":"A map that defines environment variables for the Lambda Function."},"ephemeral_storage_size":{"default":512,"description":"Amount of ephemeral storage (/tmp) in MB your Lambda Function can use at runtime. Valid value between 512 MB to 10,240 MB (10 GB)."},"event_source_mapping":{"default":{},"description":"Map of event source mapping"},"file_system_arn":{"default":null,"description":"The Amazon Resource Name (ARN) of the Amazon EFS Access Point that provides access to the file system."},"file_system_local_mount_path":{"default":null,"description":"The path where the function can access the file system, starting with /mnt/."},"function_name":{"default":"","description":"A unique name for your Lambda Function"},"handler":{"default":"","description":"Lambda Function entrypoint in your code"},"hash_extra":{"default":"","description":"The string to add into hashing function. Useful when building same source path for different functions."},"ignore_source_code_hash":{"default":false,"description":"Whether to ignore changes to the function's source code hash. Set to true if you manage infrastructure and code deployments separately."},"image_config_command":{"default":[],"description":"The CMD for the docker image"},"image_config_entry_point":{"default":[],"description":"The ENTRYPOINT for the docker image"},"image_config_working_directory":{"default":null,"description":"The working directory for the docker image"},"image_uri":{"default":null,"description":"The ECR image URI containing the function's deployment package."},"kms_key_arn":{"default":null,"description":"The ARN of KMS key to use by your Lambda Function"},"lambda_at_edge":{"default":false,"description":"Set this to true if using Lambda@Edge, to enable publishing, limit the timeout, and allow edgelambda.amazonaws.com to invoke the function"},"lambda_role":{"default":"","description":" IAM role ARN attached to the Lambda Function. This governs both who / what can invoke your Lambda Function, as well as what resources our Lambda Function has access to. See Lambda Permission Model for more details."},"layer_name":{"default":"","description":"Name of Lambda Layer to create"},"layer_skip_destroy":{"default":false,"description":"Whether to retain the old version of a previously deployed Lambda Layer."},"layers":{"default":null,"description":"List of Lambda Layer Version ARNs (maximum of 5) to attach to your Lambda Function."},"license_info":{"default":"","description":"License info for your Lambda Layer. Eg, MIT or full url of a license."},"local_existing_package":{"default":null,"description":"The absolute path to an existing zip-file to use"},"maximum_event_age_in_seconds":{"default":null,"description":"Maximum age of a request that Lambda sends to a function for processing in seconds. Valid values between 60 and 21600."},"maximum_retry_attempts":{"default":null,"description":"Maximum number of times to retry when the function returns an error. Valid values between 0 and 2. Defaults to 2."},"memory_size":{"default":128,"description":"Amount of memory in MB your Lambda Function can use at runtime. Valid value between 128 MB to 10,240 MB (10 GB), in 64 MB increments."},"number_of_policies":{"default":0,"description":"Number of policies to attach to IAM role for Lambda Function"},"number_of_policy_jsons":{"default":0,"description":"Number of policies JSON to attach to IAM role for Lambda Function"},"package_type":{"default":"Zip","description":"The Lambda deployment package type. Valid options: Zip or Image"},"policies":{"default":[],"description":"List of policy statements ARN to attach to Lambda Function role"},"policy":{"default":null,"description":"An additional policy document ARN to attach to the Lambda Function role"},"policy_json":{"default":null,"description":"An additional policy document as JSON to attach to the Lambda Function role"},"policy_jsons":{"default":[],"description":"List of additional policy documents as JSON to attach to Lambda Function role"},"policy_name":{"default":null,"description":"IAM policy name. It override the default value, which is the same as role_name"},"policy_path":{"default":null,"description":"Path of policies to that should be added to IAM role for Lambda Function"},"policy_statements":{"default":{},"description":"Map of dynamic policy statements to attach to Lambda Function role"},"provisioned_concurrent_executions":{"default":-1,"description":"Amount of capacity to allocate. Set to 1 or greater to enable, or set to 0 to disable provisioned concurrency."},"publish":{"default":false,"description":"Whether to publish creation/change as new Lambda Function Version."},"putin_khuylo":{"default":true,"description":"Do you agree that Putin doesn't respect Ukrainian sovereignty and territorial integrity? More info: https://en.wikipedia.org/wiki/Putin_khuylo!"},"recreate_missing_package":{"default":true,"description":"Whether to recreate missing Lambda package if it is missing locally or not"},"reserved_concurrent_executions":{"default":-1,"description":"The amount of reserved concurrent executions for this Lambda Function. A value of 0 disables Lambda Function from being triggered and -1 removes any concurrency limitations. Defaults to Unreserved Concurrency Limits -1."},"role_description":{"default":null,"description":"Description of IAM role to use for Lambda Function"},"role_force_detach_policies":{"default":true,"description":"Specifies to force detaching any policies the IAM role has before destroying it."},"role_name":{"default":null,"description":"Name of IAM role to use for Lambda Function"},"role_path":{"default":null,"description":"Path of IAM role to use for Lambda Function"},"role_permissions_boundary":{"default":null,"description":"The ARN of the policy that is used to set the permissions boundary for the IAM role used by Lambda Function"},"role_tags":{"default":{},"description":"A map of tags to assign to IAM role"},"runtime":{"default":"","description":"Lambda Function runtime"},"s3_acl":{"default":"private","description":"The canned ACL to apply. Valid values are private, public-read, public-read-write, aws-exec-read, authenticated-read, bucket-owner-read, and bucket-owner-full-control. Defaults to private."},"s3_bucket":{"default":null,"description":"S3 bucket to store artifacts"},"s3_existing_package":{"default":null,"description":"The S3 bucket object with keys bucket, key, version pointing to an existing zip-file to use"},"s3_object_storage_class":{"default":"ONEZONE_IA","description":"Specifies the desired Storage Class for the artifact uploaded to S3. Can be either STANDARD, REDUCED_REDUNDANCY, ONEZONE_IA, INTELLIGENT_TIERING, or STANDARD_IA."},"s3_object_tags":{"default":{},"description":"A map of tags to assign to S3 bucket object."},"s3_object_tags_only":{"default":false,"description":"Set to true to not merge tags with s3_object_tags. Useful to avoid breaching S3 Object 10 tag limit."},"s3_prefix":{"default":null,"description":"Directory name where artifacts should be stored in the S3 bucket. If unset, the path from `artifacts_dir` is used"},"s3_server_side_encryption":{"default":null,"description":"Specifies server-side encryption of the object in S3. Valid values are \"AES256\" and \"aws:kms\"."},"source_path":{"default":null,"description":"The absolute path to a local file or directory containing your Lambda source code"},"store_on_s3":{"default":false,"description":"Whether to store produced artifacts on S3 or locally."},"tags":{"default":{},"description":"A map of tags to assign to resources."},"timeout":{"default":3,"description":"The amount of time your Lambda Function has to run in seconds."},"tracing_mode":{"default":null,"description":"Tracing mode of the Lambda Function. Valid value can be either PassThrough or Active."},"trusted_entities":{"default":[],"description":"List of additional trusted entities for assuming Lambda Function role (trust relationship)"},"use_existing_cloudwatch_log_group":{"default":false,"description":"Whether to use an existing CloudWatch log group or create new"},"vpc_security_group_ids":{"default":null,"description":"List of security group ids when Lambda Function should run in the VPC."},"vpc_subnet_ids":{"default":null,"description":"List of subnet ids when Lambda Function should run in the VPC. Usually private or intra subnets."}}},"version_constraint":"4.6.0"},"function8":{"source":"terraform-aws-modules/lambda/aws","expressions":{"function_name":{"constant_value":"function8"},"handler":{"constant_value":"app.lambda_handler"},"layers":{"references":["module.layer8.lambda_layer_arn","module.layer8"]},"runtime":{"constant_value":"python3.8"},"s3_bucket":{"constant_value":"existing_s3_bucket"},"source_path":{"references":["local.hello_world_function_src_path"]},"store_on_s3":{"constant_value":true},"timeout":{"constant_value":300}},"module":{"outputs":{"lambda_cloudwatch_log_group_arn":{"expression":{"references":["local.log_group_arn"]},"description":"The ARN of the Cloudwatch Log Group"},"lambda_cloudwatch_log_group_name":{"expression":{"references":["local.log_group_name"]},"description":"The name of the Cloudwatch Log Group"},"lambda_event_source_mapping_function_arn":{"expression":{"references":["aws_lambda_event_source_mapping.this"]},"description":"The the ARN of the Lambda function the event source mapping is sending events to"},"lambda_event_source_mapping_state":{"expression":{"references":["aws_lambda_event_source_mapping.this"]},"description":"The state of the event source mapping"},"lambda_event_source_mapping_state_transition_reason":{"expression":{"references":["aws_lambda_event_source_mapping.this"]},"description":"The reason the event source mapping is in its current state"},"lambda_event_source_mapping_uuid":{"expression":{"references":["aws_lambda_event_source_mapping.this"]},"description":"The UUID of the created event source mapping"},"lambda_function_arn":{"expression":{"references":["aws_lambda_function.this[0].arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The ARN of the Lambda Function"},"lambda_function_invoke_arn":{"expression":{"references":["aws_lambda_function.this[0].invoke_arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The Invoke ARN of the Lambda Function"},"lambda_function_kms_key_arn":{"expression":{"references":["aws_lambda_function.this[0].kms_key_arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The ARN for the KMS encryption key of Lambda Function"},"lambda_function_last_modified":{"expression":{"references":["aws_lambda_function.this[0].last_modified","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The date Lambda Function resource was last modified"},"lambda_function_name":{"expression":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The name of the Lambda Function"},"lambda_function_qualified_arn":{"expression":{"references":["aws_lambda_function.this[0].qualified_arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The ARN identifying your Lambda Function Version"},"lambda_function_signing_job_arn":{"expression":{"references":["aws_lambda_function.this[0].signing_job_arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"ARN of the signing job"},"lambda_function_signing_profile_version_arn":{"expression":{"references":["aws_lambda_function.this[0].signing_profile_version_arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"ARN of the signing profile version"},"lambda_function_source_code_hash":{"expression":{"references":["aws_lambda_function.this[0].source_code_hash","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"Base64-encoded representation of raw SHA-256 sum of the zip file"},"lambda_function_source_code_size":{"expression":{"references":["aws_lambda_function.this[0].source_code_size","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The size in bytes of the function .zip file"},"lambda_function_url":{"expression":{"references":["aws_lambda_function_url.this[0].function_url","aws_lambda_function_url.this[0]","aws_lambda_function_url.this"]},"description":"The URL of the Lambda Function URL"},"lambda_function_url_id":{"expression":{"references":["aws_lambda_function_url.this[0].url_id","aws_lambda_function_url.this[0]","aws_lambda_function_url.this"]},"description":"The Lambda Function URL generated id"},"lambda_function_version":{"expression":{"references":["aws_lambda_function.this[0].version","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"Latest published version of Lambda Function"},"lambda_layer_arn":{"expression":{"references":["aws_lambda_layer_version.this[0].arn","aws_lambda_layer_version.this[0]","aws_lambda_layer_version.this"]},"description":"The ARN of the Lambda Layer with version"},"lambda_layer_created_date":{"expression":{"references":["aws_lambda_layer_version.this[0].created_date","aws_lambda_layer_version.this[0]","aws_lambda_layer_version.this"]},"description":"The date Lambda Layer resource was created"},"lambda_layer_layer_arn":{"expression":{"references":["aws_lambda_layer_version.this[0].layer_arn","aws_lambda_layer_version.this[0]","aws_lambda_layer_version.this"]},"description":"The ARN of the Lambda Layer without version"},"lambda_layer_source_code_size":{"expression":{"references":["aws_lambda_layer_version.this[0].source_code_size","aws_lambda_layer_version.this[0]","aws_lambda_layer_version.this"]},"description":"The size in bytes of the Lambda Layer .zip file"},"lambda_layer_version":{"expression":{"references":["aws_lambda_layer_version.this[0].version","aws_lambda_layer_version.this[0]","aws_lambda_layer_version.this"]},"description":"The Lambda Layer version"},"lambda_role_arn":{"expression":{"references":["aws_iam_role.lambda[0].arn","aws_iam_role.lambda[0]","aws_iam_role.lambda"]},"description":"The ARN of the IAM role created for the Lambda Function"},"lambda_role_name":{"expression":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]},"description":"The name of the IAM role created for the Lambda Function"},"lambda_role_unique_id":{"expression":{"references":["aws_iam_role.lambda[0].unique_id","aws_iam_role.lambda[0]","aws_iam_role.lambda"]},"description":"The unique id of the IAM role created for the Lambda Function"},"local_filename":{"expression":{"references":["local.filename"]},"depends_on":["null_resource.archive"],"description":"The filename of zip archive deployed (if deployment was from local)"},"s3_object":{"expression":{"references":["local.s3_bucket","local.s3_key","local.s3_object_version"]},"description":"The map with S3 object data of zip archive deployed (if deployment was from S3)"}},"resources":[{"address":"aws_cloudwatch_log_group.lambda","mode":"managed","type":"aws_cloudwatch_log_group","name":"lambda","provider_config_key":"aws","expressions":{"kms_key_id":{"references":["var.cloudwatch_logs_kms_key_id"]},"name":{"references":["var.lambda_at_edge","var.function_name"]},"retention_in_days":{"references":["var.cloudwatch_logs_retention_in_days"]},"tags":{"references":["var.tags","var.cloudwatch_logs_tags"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_function","var.create_layer","var.use_existing_cloudwatch_log_group"]}},{"address":"aws_iam_policy.additional_inline","mode":"managed","type":"aws_iam_policy","name":"additional_inline","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy_document.additional_inline[0].json","data.aws_iam_policy_document.additional_inline[0]","data.aws_iam_policy_document.additional_inline"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_statements"]}},{"address":"aws_iam_policy.additional_json","mode":"managed","type":"aws_iam_policy","name":"additional_json","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["var.policy_json"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_json"]}},{"address":"aws_iam_policy.additional_jsons","mode":"managed","type":"aws_iam_policy","name":"additional_jsons","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name","count.index"]},"path":{"references":["var.policy_path"]},"policy":{"references":["var.policy_jsons","count.index"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_jsons","var.number_of_policy_jsons"]}},{"address":"aws_iam_policy.async","mode":"managed","type":"aws_iam_policy","name":"async","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy_document.async[0].json","data.aws_iam_policy_document.async[0]","data.aws_iam_policy_document.async"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_async_event_policy"]}},{"address":"aws_iam_policy.dead_letter","mode":"managed","type":"aws_iam_policy","name":"dead_letter","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy_document.dead_letter[0].json","data.aws_iam_policy_document.dead_letter[0]","data.aws_iam_policy_document.dead_letter"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_dead_letter_policy"]}},{"address":"aws_iam_policy.logs","mode":"managed","type":"aws_iam_policy","name":"logs","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy_document.logs[0].json","data.aws_iam_policy_document.logs[0]","data.aws_iam_policy_document.logs"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_cloudwatch_logs_policy"]}},{"address":"aws_iam_policy.tracing","mode":"managed","type":"aws_iam_policy","name":"tracing","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy.tracing[0].policy","data.aws_iam_policy.tracing[0]","data.aws_iam_policy.tracing"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_tracing_policy"]}},{"address":"aws_iam_policy.vpc","mode":"managed","type":"aws_iam_policy","name":"vpc","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy.vpc[0].policy","data.aws_iam_policy.vpc[0]","data.aws_iam_policy.vpc"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_network_policy"]}},{"address":"aws_iam_role.lambda","mode":"managed","type":"aws_iam_role","name":"lambda","provider_config_key":"aws","expressions":{"assume_role_policy":{"references":["data.aws_iam_policy_document.assume_role[0].json","data.aws_iam_policy_document.assume_role[0]","data.aws_iam_policy_document.assume_role"]},"description":{"references":["var.role_description"]},"force_detach_policies":{"references":["var.role_force_detach_policies"]},"name":{"references":["local.role_name"]},"path":{"references":["var.role_path"]},"permissions_boundary":{"references":["var.role_permissions_boundary"]},"tags":{"references":["var.tags","var.role_tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role"]}},{"address":"aws_iam_role_policy_attachment.additional_inline","mode":"managed","type":"aws_iam_role_policy_attachment","name":"additional_inline","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.additional_inline[0].arn","aws_iam_policy.additional_inline[0]","aws_iam_policy.additional_inline"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_statements"]}},{"address":"aws_iam_role_policy_attachment.additional_json","mode":"managed","type":"aws_iam_role_policy_attachment","name":"additional_json","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.additional_json[0].arn","aws_iam_policy.additional_json[0]","aws_iam_policy.additional_json"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_json"]}},{"address":"aws_iam_role_policy_attachment.additional_jsons","mode":"managed","type":"aws_iam_role_policy_attachment","name":"additional_jsons","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.additional_jsons","count.index"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_jsons","var.number_of_policy_jsons"]}},{"address":"aws_iam_role_policy_attachment.additional_many","mode":"managed","type":"aws_iam_role_policy_attachment","name":"additional_many","provider_config_key":"aws","expressions":{"policy_arn":{"references":["var.policies","count.index"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policies","var.number_of_policies"]}},{"address":"aws_iam_role_policy_attachment.additional_one","mode":"managed","type":"aws_iam_role_policy_attachment","name":"additional_one","provider_config_key":"aws","expressions":{"policy_arn":{"references":["var.policy"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy"]}},{"address":"aws_iam_role_policy_attachment.async","mode":"managed","type":"aws_iam_role_policy_attachment","name":"async","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.async[0].arn","aws_iam_policy.async[0]","aws_iam_policy.async"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_async_event_policy"]}},{"address":"aws_iam_role_policy_attachment.dead_letter","mode":"managed","type":"aws_iam_role_policy_attachment","name":"dead_letter","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.dead_letter[0].arn","aws_iam_policy.dead_letter[0]","aws_iam_policy.dead_letter"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_dead_letter_policy"]}},{"address":"aws_iam_role_policy_attachment.logs","mode":"managed","type":"aws_iam_role_policy_attachment","name":"logs","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.logs[0].arn","aws_iam_policy.logs[0]","aws_iam_policy.logs"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_cloudwatch_logs_policy"]}},{"address":"aws_iam_role_policy_attachment.tracing","mode":"managed","type":"aws_iam_role_policy_attachment","name":"tracing","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.tracing[0].arn","aws_iam_policy.tracing[0]","aws_iam_policy.tracing"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_tracing_policy"]}},{"address":"aws_iam_role_policy_attachment.vpc","mode":"managed","type":"aws_iam_role_policy_attachment","name":"vpc","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.vpc[0].arn","aws_iam_policy.vpc[0]","aws_iam_policy.vpc"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_network_policy"]}},{"address":"aws_lambda_event_source_mapping.this","mode":"managed","type":"aws_lambda_event_source_mapping","name":"this","provider_config_key":"aws","expressions":{"batch_size":{"references":["each.value.batch_size","each.value"]},"bisect_batch_on_function_error":{"references":["each.value.bisect_batch_on_function_error","each.value"]},"enabled":{"references":["each.value.enabled","each.value"]},"event_source_arn":{"references":["each.value.event_source_arn","each.value"]},"function_name":{"references":["aws_lambda_function.this[0].arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"function_response_types":{"references":["each.value.function_response_types","each.value"]},"maximum_batching_window_in_seconds":{"references":["each.value.maximum_batching_window_in_seconds","each.value"]},"maximum_record_age_in_seconds":{"references":["each.value.maximum_record_age_in_seconds","each.value"]},"maximum_retry_attempts":{"references":["each.value.maximum_retry_attempts","each.value"]},"parallelization_factor":{"references":["each.value.parallelization_factor","each.value"]},"queues":{"references":["each.value.queues","each.value"]},"starting_position":{"references":["each.value.starting_position","each.value"]},"starting_position_timestamp":{"references":["each.value.starting_position_timestamp","each.value"]},"topics":{"references":["each.value.topics","each.value"]}},"schema_version":0,"for_each_expression":{"references":["var.event_source_mapping","local.create","var.create_function","var.create_layer","var.create_unqualified_alias_allowed_triggers"]}},{"address":"aws_lambda_function.this","mode":"managed","type":"aws_lambda_function","name":"this","provider_config_key":"aws","expressions":{"architectures":{"references":["var.architectures"]},"code_signing_config_arn":{"references":["var.code_signing_config_arn"]},"description":{"references":["var.description"]},"filename":{"references":["local.filename"]},"function_name":{"references":["var.function_name"]},"handler":{"references":["var.package_type","var.handler"]},"image_uri":{"references":["var.image_uri"]},"kms_key_arn":{"references":["var.kms_key_arn"]},"layers":{"references":["var.layers"]},"memory_size":{"references":["var.memory_size"]},"package_type":{"references":["var.package_type"]},"publish":{"references":["var.lambda_at_edge","var.publish"]},"reserved_concurrent_executions":{"references":["var.reserved_concurrent_executions"]},"role":{"references":["var.create_role","aws_iam_role.lambda[0].arn","aws_iam_role.lambda[0]","aws_iam_role.lambda","var.lambda_role"]},"runtime":{"references":["var.package_type","var.runtime"]},"s3_bucket":{"references":["local.s3_bucket"]},"s3_key":{"references":["local.s3_key"]},"s3_object_version":{"references":["local.s3_object_version"]},"source_code_hash":{"references":["var.ignore_source_code_hash","local.filename","local.filename","local.was_missing","local.filename"]},"tags":{"references":["var.tags"]},"timeout":{"references":["var.lambda_at_edge","var.timeout","var.timeout"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_function","var.create_layer"]},"depends_on":["null_resource.archive","aws_s3_object.lambda_package","aws_cloudwatch_log_group.lambda","aws_iam_role_policy_attachment.additional_inline","aws_iam_role_policy_attachment.additional_json","aws_iam_role_policy_attachment.additional_jsons","aws_iam_role_policy_attachment.additional_many","aws_iam_role_policy_attachment.additional_one","aws_iam_role_policy_attachment.async","aws_iam_role_policy_attachment.logs","aws_iam_role_policy_attachment.dead_letter","aws_iam_role_policy_attachment.vpc","aws_iam_role_policy_attachment.tracing"]},{"address":"aws_lambda_function_event_invoke_config.this","mode":"managed","type":"aws_lambda_function_event_invoke_config","name":"this","provider_config_key":"aws","expressions":{"function_name":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"maximum_event_age_in_seconds":{"references":["var.maximum_event_age_in_seconds"]},"maximum_retry_attempts":{"references":["var.maximum_retry_attempts"]},"qualifier":{"references":["each.key","aws_lambda_function.this[0].version","aws_lambda_function.this[0]","aws_lambda_function.this"]}},"schema_version":0,"for_each_expression":{"references":["local.qualifiers","local.create","var.create_function","var.create_layer","var.create_async_event_config"]}},{"address":"aws_lambda_function_url.this","mode":"managed","type":"aws_lambda_function_url","name":"this","provider_config_key":"aws","expressions":{"authorization_type":{"references":["var.authorization_type"]},"function_name":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"qualifier":{"references":["var.create_unqualified_alias_lambda_function_url","aws_lambda_function.this[0].version","aws_lambda_function.this[0]","aws_lambda_function.this"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_function","var.create_layer","var.create_lambda_function_url"]}},{"address":"aws_lambda_layer_version.this","mode":"managed","type":"aws_lambda_layer_version","name":"this","provider_config_key":"aws","expressions":{"compatible_architectures":{"references":["var.compatible_architectures"]},"compatible_runtimes":{"references":["var.compatible_runtimes","var.compatible_runtimes","var.runtime"]},"description":{"references":["var.description"]},"filename":{"references":["local.filename"]},"layer_name":{"references":["var.layer_name"]},"license_info":{"references":["var.license_info"]},"s3_bucket":{"references":["local.s3_bucket"]},"s3_key":{"references":["local.s3_key"]},"s3_object_version":{"references":["local.s3_object_version"]},"skip_destroy":{"references":["var.layer_skip_destroy"]},"source_code_hash":{"references":["var.ignore_source_code_hash","local.filename","local.filename","local.was_missing","local.filename"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_layer"]},"depends_on":["null_resource.archive","aws_s3_object.lambda_package"]},{"address":"aws_lambda_permission.current_version_triggers","mode":"managed","type":"aws_lambda_permission","name":"current_version_triggers","provider_config_key":"aws","expressions":{"action":{"references":["each.value.action","each.value"]},"event_source_token":{"references":["each.value.event_source_token","each.value"]},"function_name":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"principal":{"references":["each.value.principal","each.value","each.value.service","each.value"]},"qualifier":{"references":["aws_lambda_function.this[0].version","aws_lambda_function.this[0]","aws_lambda_function.this"]},"source_account":{"references":["each.value.source_account","each.value"]},"source_arn":{"references":["each.value.source_arn","each.value"]},"statement_id":{"references":["each.value.statement_id","each.value","each.key"]}},"schema_version":0,"for_each_expression":{"references":["var.allowed_triggers","local.create","var.create_function","var.create_layer","var.create_current_version_allowed_triggers"]}},{"address":"aws_lambda_permission.unqualified_alias_triggers","mode":"managed","type":"aws_lambda_permission","name":"unqualified_alias_triggers","provider_config_key":"aws","expressions":{"action":{"references":["each.value.action","each.value"]},"event_source_token":{"references":["each.value.event_source_token","each.value"]},"function_name":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"principal":{"references":["each.value.principal","each.value","each.value.service","each.value"]},"source_account":{"references":["each.value.source_account","each.value"]},"source_arn":{"references":["each.value.source_arn","each.value"]},"statement_id":{"references":["each.value.statement_id","each.value","each.key"]}},"schema_version":0,"for_each_expression":{"references":["var.allowed_triggers","local.create","var.create_function","var.create_layer","var.create_unqualified_alias_allowed_triggers"]}},{"address":"aws_lambda_provisioned_concurrency_config.current_version","mode":"managed","type":"aws_lambda_provisioned_concurrency_config","name":"current_version","provider_config_key":"aws","expressions":{"function_name":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"provisioned_concurrent_executions":{"references":["var.provisioned_concurrent_executions"]},"qualifier":{"references":["aws_lambda_function.this[0].version","aws_lambda_function.this[0]","aws_lambda_function.this"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_function","var.create_layer","var.provisioned_concurrent_executions"]}},{"address":"aws_s3_object.lambda_package","mode":"managed","type":"aws_s3_object","name":"lambda_package","provider_config_key":"aws","expressions":{"acl":{"references":["var.s3_acl"]},"bucket":{"references":["var.s3_bucket"]},"key":{"references":["local.s3_key"]},"server_side_encryption":{"references":["var.s3_server_side_encryption"]},"source":{"references":["data.external.archive_prepare[0].result.filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]},"storage_class":{"references":["var.s3_object_storage_class"]},"tags":{"references":["var.s3_object_tags_only","var.s3_object_tags","var.tags","var.s3_object_tags"]}},"schema_version":0,"count_expression":{"references":["local.create","var.store_on_s3","var.create_package"]},"depends_on":["null_resource.archive"]},{"address":"local_file.archive_plan","mode":"managed","type":"local_file","name":"archive_plan","provider_config_key":"module.function8:local","expressions":{"content":{"references":["data.external.archive_prepare[0].result.build_plan","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]},"directory_permission":{"constant_value":"0755"},"file_permission":{"constant_value":"0644"},"filename":{"references":["data.external.archive_prepare[0].result.build_plan_filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]}},"schema_version":0,"count_expression":{"references":["var.create","var.create_package"]}},{"address":"null_resource.archive","mode":"managed","type":"null_resource","name":"archive","provider_config_key":"null","provisioners":[{"type":"local-exec","expressions":{"command":{"references":["data.external.archive_prepare[0].result.build_plan_filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]},"interpreter":{"references":["local.python","path.module","data.external.archive_prepare[0].result.timestamp","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]}}}],"expressions":{"triggers":{"references":["data.external.archive_prepare[0].result.filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare","data.external.archive_prepare[0].result.timestamp","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]}},"schema_version":0,"count_expression":{"references":["var.create","var.create_package"]},"depends_on":["local_file.archive_plan"]},{"address":"null_resource.sam_metadata_aws_lambda_function","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_function","provider_config_key":"null","expressions":{"triggers":{"references":["var.source_path","data.external.archive_prepare[0].result.filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_package","var.create_function","var.create_layer"]},"depends_on":["data.external.archive_prepare","null_resource.archive"]},{"address":"null_resource.sam_metadata_aws_lambda_layer_version","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_layer_version","provider_config_key":"null","expressions":{"triggers":{"references":["var.source_path","data.external.archive_prepare[0].result.filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_package","var.create_layer"]},"depends_on":["data.external.archive_prepare","null_resource.archive"]},{"address":"data.aws_arn.log_group_arn","mode":"data","type":"aws_arn","name":"log_group_arn","provider_config_key":"aws","expressions":{"arn":{"references":["local.log_group_arn_regional"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.lambda_at_edge"]}},{"address":"data.aws_cloudwatch_log_group.lambda","mode":"data","type":"aws_cloudwatch_log_group","name":"lambda","provider_config_key":"aws","expressions":{"name":{"references":["var.lambda_at_edge","var.function_name"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_function","var.create_layer","var.use_existing_cloudwatch_log_group"]}},{"address":"data.aws_iam_policy.tracing","mode":"data","type":"aws_iam_policy","name":"tracing","provider_config_key":"aws","expressions":{"arn":{"references":["data.aws_partition.current.partition","data.aws_partition.current"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_tracing_policy"]}},{"address":"data.aws_iam_policy.vpc","mode":"data","type":"aws_iam_policy","name":"vpc","provider_config_key":"aws","expressions":{"arn":{"references":["data.aws_partition.current.partition","data.aws_partition.current"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_network_policy"]}},{"address":"data.aws_iam_policy_document.additional_inline","mode":"data","type":"aws_iam_policy_document","name":"additional_inline","provider_config_key":"aws","schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_statements"]}},{"address":"data.aws_iam_policy_document.assume_role","mode":"data","type":"aws_iam_policy_document","name":"assume_role","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sts:AssumeRole"]},"effect":{"constant_value":"Allow"},"principals":[{"identifiers":{"references":["local.trusted_entities_services"]},"type":{"constant_value":"Service"}}]}]},"schema_version":0,"count_expression":{"references":["local.create_role"]}},{"address":"data.aws_iam_policy_document.async","mode":"data","type":"aws_iam_policy_document","name":"async","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sns:Publish","sqs:SendMessage","events:PutEvents","lambda:InvokeFunction"]},"effect":{"constant_value":"Allow"},"resources":{"references":["var.destination_on_failure","var.destination_on_success"]}}]},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_async_event_policy"]}},{"address":"data.aws_iam_policy_document.dead_letter","mode":"data","type":"aws_iam_policy_document","name":"dead_letter","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sns:Publish","sqs:SendMessage"]},"effect":{"constant_value":"Allow"},"resources":{"references":["var.dead_letter_target_arn"]}}]},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_dead_letter_policy"]}},{"address":"data.aws_iam_policy_document.logs","mode":"data","type":"aws_iam_policy_document","name":"logs","provider_config_key":"aws","expressions":{"statement":[{"actions":{"references":["var.use_existing_cloudwatch_log_group"]},"effect":{"constant_value":"Allow"},"resources":{"references":["local.log_group_arn"]}}]},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_cloudwatch_logs_policy"]}},{"address":"data.aws_partition.current","mode":"data","type":"aws_partition","name":"current","provider_config_key":"aws","schema_version":0},{"address":"data.external.archive_prepare","mode":"data","type":"external","name":"archive_prepare","provider_config_key":"module.function8:external","expressions":{"program":{"references":["local.python","path.module"]},"query":{"references":["path.module","path.root","path.cwd","var.build_in_docker","var.docker_pip_cache","var.docker_build_root","var.docker_file","var.docker_image","var.docker_with_ssh_agent","var.docker_additional_options","var.docker_entrypoint","var.artifacts_dir","var.runtime","var.source_path","var.hash_extra","var.recreate_missing_package"]}},"schema_version":0,"count_expression":{"references":["var.create","var.create_package"]}}],"variables":{"allowed_triggers":{"default":{},"description":"Map of allowed triggers to create Lambda permissions"},"architectures":{"default":null,"description":"Instruction set architecture for your Lambda function. Valid values are [\"x86_64\"] and [\"arm64\"]."},"artifacts_dir":{"default":"builds","description":"Directory name where artifacts should be stored"},"assume_role_policy_statements":{"default":{},"description":"Map of dynamic policy statements for assuming Lambda Function role (trust relationship)"},"attach_async_event_policy":{"default":false,"description":"Controls whether async event policy should be added to IAM role for Lambda Function"},"attach_cloudwatch_logs_policy":{"default":true,"description":"Controls whether CloudWatch Logs policy should be added to IAM role for Lambda Function"},"attach_dead_letter_policy":{"default":false,"description":"Controls whether SNS/SQS dead letter notification policy should be added to IAM role for Lambda Function"},"attach_network_policy":{"default":false,"description":"Controls whether VPC/network policy should be added to IAM role for Lambda Function"},"attach_policies":{"default":false,"description":"Controls whether list of policies should be added to IAM role for Lambda Function"},"attach_policy":{"default":false,"description":"Controls whether policy should be added to IAM role for Lambda Function"},"attach_policy_json":{"default":false,"description":"Controls whether policy_json should be added to IAM role for Lambda Function"},"attach_policy_jsons":{"default":false,"description":"Controls whether policy_jsons should be added to IAM role for Lambda Function"},"attach_policy_statements":{"default":false,"description":"Controls whether policy_statements should be added to IAM role for Lambda Function"},"attach_tracing_policy":{"default":false,"description":"Controls whether X-Ray tracing policy should be added to IAM role for Lambda Function"},"authorization_type":{"default":"NONE","description":"The type of authentication that the Lambda Function URL uses. Set to 'AWS_IAM' to restrict access to authenticated IAM users only. Set to 'NONE' to bypass IAM authentication and create a public endpoint."},"build_in_docker":{"default":false,"description":"Whether to build dependencies in Docker"},"cloudwatch_logs_kms_key_id":{"default":null,"description":"The ARN of the KMS Key to use when encrypting log data."},"cloudwatch_logs_retention_in_days":{"default":null,"description":"Specifies the number of days you want to retain log events in the specified log group. Possible values are: 1, 3, 5, 7, 14, 30, 60, 90, 120, 150, 180, 365, 400, 545, 731, 1827, and 3653."},"cloudwatch_logs_tags":{"default":{},"description":"A map of tags to assign to the resource."},"code_signing_config_arn":{"default":null,"description":"Amazon Resource Name (ARN) for a Code Signing Configuration"},"compatible_architectures":{"default":null,"description":"A list of Architectures Lambda layer is compatible with. Currently x86_64 and arm64 can be specified."},"compatible_runtimes":{"default":[],"description":"A list of Runtimes this layer is compatible with. Up to 5 runtimes can be specified."},"cors":{"default":{},"description":"CORS settings to be used by the Lambda Function URL"},"create":{"default":true,"description":"Controls whether resources should be created"},"create_async_event_config":{"default":false,"description":"Controls whether async event configuration for Lambda Function/Alias should be created"},"create_current_version_allowed_triggers":{"default":true,"description":"Whether to allow triggers on current version of Lambda Function (this will revoke permissions from previous version because Terraform manages only current resources)"},"create_current_version_async_event_config":{"default":true,"description":"Whether to allow async event configuration on current version of Lambda Function (this will revoke permissions from previous version because Terraform manages only current resources)"},"create_function":{"default":true,"description":"Controls whether Lambda Function resource should be created"},"create_lambda_function_url":{"default":false,"description":"Controls whether the Lambda Function URL resource should be created"},"create_layer":{"default":false,"description":"Controls whether Lambda Layer resource should be created"},"create_package":{"default":true,"description":"Controls whether Lambda package should be created"},"create_role":{"default":true,"description":"Controls whether IAM role for Lambda Function should be created"},"create_unqualified_alias_allowed_triggers":{"default":true,"description":"Whether to allow triggers on unqualified alias pointing to $LATEST version"},"create_unqualified_alias_async_event_config":{"default":true,"description":"Whether to allow async event configuration on unqualified alias pointing to $LATEST version"},"create_unqualified_alias_lambda_function_url":{"default":true,"description":"Whether to use unqualified alias pointing to $LATEST version in Lambda Function URL"},"dead_letter_target_arn":{"default":null,"description":"The ARN of an SNS topic or SQS queue to notify when an invocation fails."},"description":{"default":"","description":"Description of your Lambda Function (or Layer)"},"destination_on_failure":{"default":null,"description":"Amazon Resource Name (ARN) of the destination resource for failed asynchronous invocations"},"destination_on_success":{"default":null,"description":"Amazon Resource Name (ARN) of the destination resource for successful asynchronous invocations"},"docker_additional_options":{"default":[],"description":"Additional options to pass to the docker run command (e.g. to set environment variables, volumes, etc.)"},"docker_build_root":{"default":"","description":"Root dir where to build in Docker"},"docker_entrypoint":{"default":null,"description":"Path to the Docker entrypoint to use"},"docker_file":{"default":"","description":"Path to a Dockerfile when building in Docker"},"docker_image":{"default":"","description":"Docker image to use for the build"},"docker_pip_cache":{"default":null,"description":"Whether to mount a shared pip cache folder into docker environment or not"},"docker_with_ssh_agent":{"default":false,"description":"Whether to pass SSH_AUTH_SOCK into docker environment or not"},"environment_variables":{"default":{},"description":"A map that defines environment variables for the Lambda Function."},"ephemeral_storage_size":{"default":512,"description":"Amount of ephemeral storage (/tmp) in MB your Lambda Function can use at runtime. Valid value between 512 MB to 10,240 MB (10 GB)."},"event_source_mapping":{"default":{},"description":"Map of event source mapping"},"file_system_arn":{"default":null,"description":"The Amazon Resource Name (ARN) of the Amazon EFS Access Point that provides access to the file system."},"file_system_local_mount_path":{"default":null,"description":"The path where the function can access the file system, starting with /mnt/."},"function_name":{"default":"","description":"A unique name for your Lambda Function"},"handler":{"default":"","description":"Lambda Function entrypoint in your code"},"hash_extra":{"default":"","description":"The string to add into hashing function. Useful when building same source path for different functions."},"ignore_source_code_hash":{"default":false,"description":"Whether to ignore changes to the function's source code hash. Set to true if you manage infrastructure and code deployments separately."},"image_config_command":{"default":[],"description":"The CMD for the docker image"},"image_config_entry_point":{"default":[],"description":"The ENTRYPOINT for the docker image"},"image_config_working_directory":{"default":null,"description":"The working directory for the docker image"},"image_uri":{"default":null,"description":"The ECR image URI containing the function's deployment package."},"kms_key_arn":{"default":null,"description":"The ARN of KMS key to use by your Lambda Function"},"lambda_at_edge":{"default":false,"description":"Set this to true if using Lambda@Edge, to enable publishing, limit the timeout, and allow edgelambda.amazonaws.com to invoke the function"},"lambda_role":{"default":"","description":" IAM role ARN attached to the Lambda Function. This governs both who / what can invoke your Lambda Function, as well as what resources our Lambda Function has access to. See Lambda Permission Model for more details."},"layer_name":{"default":"","description":"Name of Lambda Layer to create"},"layer_skip_destroy":{"default":false,"description":"Whether to retain the old version of a previously deployed Lambda Layer."},"layers":{"default":null,"description":"List of Lambda Layer Version ARNs (maximum of 5) to attach to your Lambda Function."},"license_info":{"default":"","description":"License info for your Lambda Layer. Eg, MIT or full url of a license."},"local_existing_package":{"default":null,"description":"The absolute path to an existing zip-file to use"},"maximum_event_age_in_seconds":{"default":null,"description":"Maximum age of a request that Lambda sends to a function for processing in seconds. Valid values between 60 and 21600."},"maximum_retry_attempts":{"default":null,"description":"Maximum number of times to retry when the function returns an error. Valid values between 0 and 2. Defaults to 2."},"memory_size":{"default":128,"description":"Amount of memory in MB your Lambda Function can use at runtime. Valid value between 128 MB to 10,240 MB (10 GB), in 64 MB increments."},"number_of_policies":{"default":0,"description":"Number of policies to attach to IAM role for Lambda Function"},"number_of_policy_jsons":{"default":0,"description":"Number of policies JSON to attach to IAM role for Lambda Function"},"package_type":{"default":"Zip","description":"The Lambda deployment package type. Valid options: Zip or Image"},"policies":{"default":[],"description":"List of policy statements ARN to attach to Lambda Function role"},"policy":{"default":null,"description":"An additional policy document ARN to attach to the Lambda Function role"},"policy_json":{"default":null,"description":"An additional policy document as JSON to attach to the Lambda Function role"},"policy_jsons":{"default":[],"description":"List of additional policy documents as JSON to attach to Lambda Function role"},"policy_name":{"default":null,"description":"IAM policy name. It override the default value, which is the same as role_name"},"policy_path":{"default":null,"description":"Path of policies to that should be added to IAM role for Lambda Function"},"policy_statements":{"default":{},"description":"Map of dynamic policy statements to attach to Lambda Function role"},"provisioned_concurrent_executions":{"default":-1,"description":"Amount of capacity to allocate. Set to 1 or greater to enable, or set to 0 to disable provisioned concurrency."},"publish":{"default":false,"description":"Whether to publish creation/change as new Lambda Function Version."},"putin_khuylo":{"default":true,"description":"Do you agree that Putin doesn't respect Ukrainian sovereignty and territorial integrity? More info: https://en.wikipedia.org/wiki/Putin_khuylo!"},"recreate_missing_package":{"default":true,"description":"Whether to recreate missing Lambda package if it is missing locally or not"},"reserved_concurrent_executions":{"default":-1,"description":"The amount of reserved concurrent executions for this Lambda Function. A value of 0 disables Lambda Function from being triggered and -1 removes any concurrency limitations. Defaults to Unreserved Concurrency Limits -1."},"role_description":{"default":null,"description":"Description of IAM role to use for Lambda Function"},"role_force_detach_policies":{"default":true,"description":"Specifies to force detaching any policies the IAM role has before destroying it."},"role_name":{"default":null,"description":"Name of IAM role to use for Lambda Function"},"role_path":{"default":null,"description":"Path of IAM role to use for Lambda Function"},"role_permissions_boundary":{"default":null,"description":"The ARN of the policy that is used to set the permissions boundary for the IAM role used by Lambda Function"},"role_tags":{"default":{},"description":"A map of tags to assign to IAM role"},"runtime":{"default":"","description":"Lambda Function runtime"},"s3_acl":{"default":"private","description":"The canned ACL to apply. Valid values are private, public-read, public-read-write, aws-exec-read, authenticated-read, bucket-owner-read, and bucket-owner-full-control. Defaults to private."},"s3_bucket":{"default":null,"description":"S3 bucket to store artifacts"},"s3_existing_package":{"default":null,"description":"The S3 bucket object with keys bucket, key, version pointing to an existing zip-file to use"},"s3_object_storage_class":{"default":"ONEZONE_IA","description":"Specifies the desired Storage Class for the artifact uploaded to S3. Can be either STANDARD, REDUCED_REDUNDANCY, ONEZONE_IA, INTELLIGENT_TIERING, or STANDARD_IA."},"s3_object_tags":{"default":{},"description":"A map of tags to assign to S3 bucket object."},"s3_object_tags_only":{"default":false,"description":"Set to true to not merge tags with s3_object_tags. Useful to avoid breaching S3 Object 10 tag limit."},"s3_prefix":{"default":null,"description":"Directory name where artifacts should be stored in the S3 bucket. If unset, the path from `artifacts_dir` is used"},"s3_server_side_encryption":{"default":null,"description":"Specifies server-side encryption of the object in S3. Valid values are \"AES256\" and \"aws:kms\"."},"source_path":{"default":null,"description":"The absolute path to a local file or directory containing your Lambda source code"},"store_on_s3":{"default":false,"description":"Whether to store produced artifacts on S3 or locally."},"tags":{"default":{},"description":"A map of tags to assign to resources."},"timeout":{"default":3,"description":"The amount of time your Lambda Function has to run in seconds."},"tracing_mode":{"default":null,"description":"Tracing mode of the Lambda Function. Valid value can be either PassThrough or Active."},"trusted_entities":{"default":[],"description":"List of additional trusted entities for assuming Lambda Function role (trust relationship)"},"use_existing_cloudwatch_log_group":{"default":false,"description":"Whether to use an existing CloudWatch log group or create new"},"vpc_security_group_ids":{"default":null,"description":"List of security group ids when Lambda Function should run in the VPC."},"vpc_subnet_ids":{"default":null,"description":"List of subnet ids when Lambda Function should run in the VPC. Usually private or intra subnets."}}},"version_constraint":"4.6.0"},"function9":{"source":"terraform-aws-modules/lambda/aws","expressions":{"create_package":{"constant_value":false},"function_name":{"constant_value":"function9"},"handler":{"constant_value":"app.lambda_handler"},"layers":{"references":["module.layer9.lambda_layer_arn","module.layer9"]},"local_existing_package":{"references":["local.building_path","local.hello_world_artifact_file_name"]},"runtime":{"constant_value":"python3.8"},"timeout":{"constant_value":300}},"module":{"outputs":{"lambda_cloudwatch_log_group_arn":{"expression":{"references":["local.log_group_arn"]},"description":"The ARN of the Cloudwatch Log Group"},"lambda_cloudwatch_log_group_name":{"expression":{"references":["local.log_group_name"]},"description":"The name of the Cloudwatch Log Group"},"lambda_event_source_mapping_function_arn":{"expression":{"references":["aws_lambda_event_source_mapping.this"]},"description":"The the ARN of the Lambda function the event source mapping is sending events to"},"lambda_event_source_mapping_state":{"expression":{"references":["aws_lambda_event_source_mapping.this"]},"description":"The state of the event source mapping"},"lambda_event_source_mapping_state_transition_reason":{"expression":{"references":["aws_lambda_event_source_mapping.this"]},"description":"The reason the event source mapping is in its current state"},"lambda_event_source_mapping_uuid":{"expression":{"references":["aws_lambda_event_source_mapping.this"]},"description":"The UUID of the created event source mapping"},"lambda_function_arn":{"expression":{"references":["aws_lambda_function.this[0].arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The ARN of the Lambda Function"},"lambda_function_invoke_arn":{"expression":{"references":["aws_lambda_function.this[0].invoke_arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The Invoke ARN of the Lambda Function"},"lambda_function_kms_key_arn":{"expression":{"references":["aws_lambda_function.this[0].kms_key_arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The ARN for the KMS encryption key of Lambda Function"},"lambda_function_last_modified":{"expression":{"references":["aws_lambda_function.this[0].last_modified","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The date Lambda Function resource was last modified"},"lambda_function_name":{"expression":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The name of the Lambda Function"},"lambda_function_qualified_arn":{"expression":{"references":["aws_lambda_function.this[0].qualified_arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The ARN identifying your Lambda Function Version"},"lambda_function_signing_job_arn":{"expression":{"references":["aws_lambda_function.this[0].signing_job_arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"ARN of the signing job"},"lambda_function_signing_profile_version_arn":{"expression":{"references":["aws_lambda_function.this[0].signing_profile_version_arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"ARN of the signing profile version"},"lambda_function_source_code_hash":{"expression":{"references":["aws_lambda_function.this[0].source_code_hash","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"Base64-encoded representation of raw SHA-256 sum of the zip file"},"lambda_function_source_code_size":{"expression":{"references":["aws_lambda_function.this[0].source_code_size","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The size in bytes of the function .zip file"},"lambda_function_url":{"expression":{"references":["aws_lambda_function_url.this[0].function_url","aws_lambda_function_url.this[0]","aws_lambda_function_url.this"]},"description":"The URL of the Lambda Function URL"},"lambda_function_url_id":{"expression":{"references":["aws_lambda_function_url.this[0].url_id","aws_lambda_function_url.this[0]","aws_lambda_function_url.this"]},"description":"The Lambda Function URL generated id"},"lambda_function_version":{"expression":{"references":["aws_lambda_function.this[0].version","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"Latest published version of Lambda Function"},"lambda_layer_arn":{"expression":{"references":["aws_lambda_layer_version.this[0].arn","aws_lambda_layer_version.this[0]","aws_lambda_layer_version.this"]},"description":"The ARN of the Lambda Layer with version"},"lambda_layer_created_date":{"expression":{"references":["aws_lambda_layer_version.this[0].created_date","aws_lambda_layer_version.this[0]","aws_lambda_layer_version.this"]},"description":"The date Lambda Layer resource was created"},"lambda_layer_layer_arn":{"expression":{"references":["aws_lambda_layer_version.this[0].layer_arn","aws_lambda_layer_version.this[0]","aws_lambda_layer_version.this"]},"description":"The ARN of the Lambda Layer without version"},"lambda_layer_source_code_size":{"expression":{"references":["aws_lambda_layer_version.this[0].source_code_size","aws_lambda_layer_version.this[0]","aws_lambda_layer_version.this"]},"description":"The size in bytes of the Lambda Layer .zip file"},"lambda_layer_version":{"expression":{"references":["aws_lambda_layer_version.this[0].version","aws_lambda_layer_version.this[0]","aws_lambda_layer_version.this"]},"description":"The Lambda Layer version"},"lambda_role_arn":{"expression":{"references":["aws_iam_role.lambda[0].arn","aws_iam_role.lambda[0]","aws_iam_role.lambda"]},"description":"The ARN of the IAM role created for the Lambda Function"},"lambda_role_name":{"expression":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]},"description":"The name of the IAM role created for the Lambda Function"},"lambda_role_unique_id":{"expression":{"references":["aws_iam_role.lambda[0].unique_id","aws_iam_role.lambda[0]","aws_iam_role.lambda"]},"description":"The unique id of the IAM role created for the Lambda Function"},"local_filename":{"expression":{"references":["local.filename"]},"depends_on":["null_resource.archive"],"description":"The filename of zip archive deployed (if deployment was from local)"},"s3_object":{"expression":{"references":["local.s3_bucket","local.s3_key","local.s3_object_version"]},"description":"The map with S3 object data of zip archive deployed (if deployment was from S3)"}},"resources":[{"address":"aws_cloudwatch_log_group.lambda","mode":"managed","type":"aws_cloudwatch_log_group","name":"lambda","provider_config_key":"aws","expressions":{"kms_key_id":{"references":["var.cloudwatch_logs_kms_key_id"]},"name":{"references":["var.lambda_at_edge","var.function_name"]},"retention_in_days":{"references":["var.cloudwatch_logs_retention_in_days"]},"tags":{"references":["var.tags","var.cloudwatch_logs_tags"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_function","var.create_layer","var.use_existing_cloudwatch_log_group"]}},{"address":"aws_iam_policy.additional_inline","mode":"managed","type":"aws_iam_policy","name":"additional_inline","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy_document.additional_inline[0].json","data.aws_iam_policy_document.additional_inline[0]","data.aws_iam_policy_document.additional_inline"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_statements"]}},{"address":"aws_iam_policy.additional_json","mode":"managed","type":"aws_iam_policy","name":"additional_json","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["var.policy_json"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_json"]}},{"address":"aws_iam_policy.additional_jsons","mode":"managed","type":"aws_iam_policy","name":"additional_jsons","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name","count.index"]},"path":{"references":["var.policy_path"]},"policy":{"references":["var.policy_jsons","count.index"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_jsons","var.number_of_policy_jsons"]}},{"address":"aws_iam_policy.async","mode":"managed","type":"aws_iam_policy","name":"async","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy_document.async[0].json","data.aws_iam_policy_document.async[0]","data.aws_iam_policy_document.async"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_async_event_policy"]}},{"address":"aws_iam_policy.dead_letter","mode":"managed","type":"aws_iam_policy","name":"dead_letter","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy_document.dead_letter[0].json","data.aws_iam_policy_document.dead_letter[0]","data.aws_iam_policy_document.dead_letter"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_dead_letter_policy"]}},{"address":"aws_iam_policy.logs","mode":"managed","type":"aws_iam_policy","name":"logs","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy_document.logs[0].json","data.aws_iam_policy_document.logs[0]","data.aws_iam_policy_document.logs"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_cloudwatch_logs_policy"]}},{"address":"aws_iam_policy.tracing","mode":"managed","type":"aws_iam_policy","name":"tracing","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy.tracing[0].policy","data.aws_iam_policy.tracing[0]","data.aws_iam_policy.tracing"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_tracing_policy"]}},{"address":"aws_iam_policy.vpc","mode":"managed","type":"aws_iam_policy","name":"vpc","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy.vpc[0].policy","data.aws_iam_policy.vpc[0]","data.aws_iam_policy.vpc"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_network_policy"]}},{"address":"aws_iam_role.lambda","mode":"managed","type":"aws_iam_role","name":"lambda","provider_config_key":"aws","expressions":{"assume_role_policy":{"references":["data.aws_iam_policy_document.assume_role[0].json","data.aws_iam_policy_document.assume_role[0]","data.aws_iam_policy_document.assume_role"]},"description":{"references":["var.role_description"]},"force_detach_policies":{"references":["var.role_force_detach_policies"]},"name":{"references":["local.role_name"]},"path":{"references":["var.role_path"]},"permissions_boundary":{"references":["var.role_permissions_boundary"]},"tags":{"references":["var.tags","var.role_tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role"]}},{"address":"aws_iam_role_policy_attachment.additional_inline","mode":"managed","type":"aws_iam_role_policy_attachment","name":"additional_inline","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.additional_inline[0].arn","aws_iam_policy.additional_inline[0]","aws_iam_policy.additional_inline"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_statements"]}},{"address":"aws_iam_role_policy_attachment.additional_json","mode":"managed","type":"aws_iam_role_policy_attachment","name":"additional_json","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.additional_json[0].arn","aws_iam_policy.additional_json[0]","aws_iam_policy.additional_json"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_json"]}},{"address":"aws_iam_role_policy_attachment.additional_jsons","mode":"managed","type":"aws_iam_role_policy_attachment","name":"additional_jsons","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.additional_jsons","count.index"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_jsons","var.number_of_policy_jsons"]}},{"address":"aws_iam_role_policy_attachment.additional_many","mode":"managed","type":"aws_iam_role_policy_attachment","name":"additional_many","provider_config_key":"aws","expressions":{"policy_arn":{"references":["var.policies","count.index"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policies","var.number_of_policies"]}},{"address":"aws_iam_role_policy_attachment.additional_one","mode":"managed","type":"aws_iam_role_policy_attachment","name":"additional_one","provider_config_key":"aws","expressions":{"policy_arn":{"references":["var.policy"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy"]}},{"address":"aws_iam_role_policy_attachment.async","mode":"managed","type":"aws_iam_role_policy_attachment","name":"async","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.async[0].arn","aws_iam_policy.async[0]","aws_iam_policy.async"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_async_event_policy"]}},{"address":"aws_iam_role_policy_attachment.dead_letter","mode":"managed","type":"aws_iam_role_policy_attachment","name":"dead_letter","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.dead_letter[0].arn","aws_iam_policy.dead_letter[0]","aws_iam_policy.dead_letter"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_dead_letter_policy"]}},{"address":"aws_iam_role_policy_attachment.logs","mode":"managed","type":"aws_iam_role_policy_attachment","name":"logs","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.logs[0].arn","aws_iam_policy.logs[0]","aws_iam_policy.logs"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_cloudwatch_logs_policy"]}},{"address":"aws_iam_role_policy_attachment.tracing","mode":"managed","type":"aws_iam_role_policy_attachment","name":"tracing","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.tracing[0].arn","aws_iam_policy.tracing[0]","aws_iam_policy.tracing"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_tracing_policy"]}},{"address":"aws_iam_role_policy_attachment.vpc","mode":"managed","type":"aws_iam_role_policy_attachment","name":"vpc","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.vpc[0].arn","aws_iam_policy.vpc[0]","aws_iam_policy.vpc"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_network_policy"]}},{"address":"aws_lambda_event_source_mapping.this","mode":"managed","type":"aws_lambda_event_source_mapping","name":"this","provider_config_key":"aws","expressions":{"batch_size":{"references":["each.value.batch_size","each.value"]},"bisect_batch_on_function_error":{"references":["each.value.bisect_batch_on_function_error","each.value"]},"enabled":{"references":["each.value.enabled","each.value"]},"event_source_arn":{"references":["each.value.event_source_arn","each.value"]},"function_name":{"references":["aws_lambda_function.this[0].arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"function_response_types":{"references":["each.value.function_response_types","each.value"]},"maximum_batching_window_in_seconds":{"references":["each.value.maximum_batching_window_in_seconds","each.value"]},"maximum_record_age_in_seconds":{"references":["each.value.maximum_record_age_in_seconds","each.value"]},"maximum_retry_attempts":{"references":["each.value.maximum_retry_attempts","each.value"]},"parallelization_factor":{"references":["each.value.parallelization_factor","each.value"]},"queues":{"references":["each.value.queues","each.value"]},"starting_position":{"references":["each.value.starting_position","each.value"]},"starting_position_timestamp":{"references":["each.value.starting_position_timestamp","each.value"]},"topics":{"references":["each.value.topics","each.value"]}},"schema_version":0,"for_each_expression":{"references":["var.event_source_mapping","local.create","var.create_function","var.create_layer","var.create_unqualified_alias_allowed_triggers"]}},{"address":"aws_lambda_function.this","mode":"managed","type":"aws_lambda_function","name":"this","provider_config_key":"aws","expressions":{"architectures":{"references":["var.architectures"]},"code_signing_config_arn":{"references":["var.code_signing_config_arn"]},"description":{"references":["var.description"]},"filename":{"references":["local.filename"]},"function_name":{"references":["var.function_name"]},"handler":{"references":["var.package_type","var.handler"]},"image_uri":{"references":["var.image_uri"]},"kms_key_arn":{"references":["var.kms_key_arn"]},"layers":{"references":["var.layers"]},"memory_size":{"references":["var.memory_size"]},"package_type":{"references":["var.package_type"]},"publish":{"references":["var.lambda_at_edge","var.publish"]},"reserved_concurrent_executions":{"references":["var.reserved_concurrent_executions"]},"role":{"references":["var.create_role","aws_iam_role.lambda[0].arn","aws_iam_role.lambda[0]","aws_iam_role.lambda","var.lambda_role"]},"runtime":{"references":["var.package_type","var.runtime"]},"s3_bucket":{"references":["local.s3_bucket"]},"s3_key":{"references":["local.s3_key"]},"s3_object_version":{"references":["local.s3_object_version"]},"source_code_hash":{"references":["var.ignore_source_code_hash","local.filename","local.filename","local.was_missing","local.filename"]},"tags":{"references":["var.tags"]},"timeout":{"references":["var.lambda_at_edge","var.timeout","var.timeout"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_function","var.create_layer"]},"depends_on":["null_resource.archive","aws_s3_object.lambda_package","aws_cloudwatch_log_group.lambda","aws_iam_role_policy_attachment.additional_inline","aws_iam_role_policy_attachment.additional_json","aws_iam_role_policy_attachment.additional_jsons","aws_iam_role_policy_attachment.additional_many","aws_iam_role_policy_attachment.additional_one","aws_iam_role_policy_attachment.async","aws_iam_role_policy_attachment.logs","aws_iam_role_policy_attachment.dead_letter","aws_iam_role_policy_attachment.vpc","aws_iam_role_policy_attachment.tracing"]},{"address":"aws_lambda_function_event_invoke_config.this","mode":"managed","type":"aws_lambda_function_event_invoke_config","name":"this","provider_config_key":"aws","expressions":{"function_name":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"maximum_event_age_in_seconds":{"references":["var.maximum_event_age_in_seconds"]},"maximum_retry_attempts":{"references":["var.maximum_retry_attempts"]},"qualifier":{"references":["each.key","aws_lambda_function.this[0].version","aws_lambda_function.this[0]","aws_lambda_function.this"]}},"schema_version":0,"for_each_expression":{"references":["local.qualifiers","local.create","var.create_function","var.create_layer","var.create_async_event_config"]}},{"address":"aws_lambda_function_url.this","mode":"managed","type":"aws_lambda_function_url","name":"this","provider_config_key":"aws","expressions":{"authorization_type":{"references":["var.authorization_type"]},"function_name":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"qualifier":{"references":["var.create_unqualified_alias_lambda_function_url","aws_lambda_function.this[0].version","aws_lambda_function.this[0]","aws_lambda_function.this"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_function","var.create_layer","var.create_lambda_function_url"]}},{"address":"aws_lambda_layer_version.this","mode":"managed","type":"aws_lambda_layer_version","name":"this","provider_config_key":"aws","expressions":{"compatible_architectures":{"references":["var.compatible_architectures"]},"compatible_runtimes":{"references":["var.compatible_runtimes","var.compatible_runtimes","var.runtime"]},"description":{"references":["var.description"]},"filename":{"references":["local.filename"]},"layer_name":{"references":["var.layer_name"]},"license_info":{"references":["var.license_info"]},"s3_bucket":{"references":["local.s3_bucket"]},"s3_key":{"references":["local.s3_key"]},"s3_object_version":{"references":["local.s3_object_version"]},"skip_destroy":{"references":["var.layer_skip_destroy"]},"source_code_hash":{"references":["var.ignore_source_code_hash","local.filename","local.filename","local.was_missing","local.filename"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_layer"]},"depends_on":["null_resource.archive","aws_s3_object.lambda_package"]},{"address":"aws_lambda_permission.current_version_triggers","mode":"managed","type":"aws_lambda_permission","name":"current_version_triggers","provider_config_key":"aws","expressions":{"action":{"references":["each.value.action","each.value"]},"event_source_token":{"references":["each.value.event_source_token","each.value"]},"function_name":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"principal":{"references":["each.value.principal","each.value","each.value.service","each.value"]},"qualifier":{"references":["aws_lambda_function.this[0].version","aws_lambda_function.this[0]","aws_lambda_function.this"]},"source_account":{"references":["each.value.source_account","each.value"]},"source_arn":{"references":["each.value.source_arn","each.value"]},"statement_id":{"references":["each.value.statement_id","each.value","each.key"]}},"schema_version":0,"for_each_expression":{"references":["var.allowed_triggers","local.create","var.create_function","var.create_layer","var.create_current_version_allowed_triggers"]}},{"address":"aws_lambda_permission.unqualified_alias_triggers","mode":"managed","type":"aws_lambda_permission","name":"unqualified_alias_triggers","provider_config_key":"aws","expressions":{"action":{"references":["each.value.action","each.value"]},"event_source_token":{"references":["each.value.event_source_token","each.value"]},"function_name":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"principal":{"references":["each.value.principal","each.value","each.value.service","each.value"]},"source_account":{"references":["each.value.source_account","each.value"]},"source_arn":{"references":["each.value.source_arn","each.value"]},"statement_id":{"references":["each.value.statement_id","each.value","each.key"]}},"schema_version":0,"for_each_expression":{"references":["var.allowed_triggers","local.create","var.create_function","var.create_layer","var.create_unqualified_alias_allowed_triggers"]}},{"address":"aws_lambda_provisioned_concurrency_config.current_version","mode":"managed","type":"aws_lambda_provisioned_concurrency_config","name":"current_version","provider_config_key":"aws","expressions":{"function_name":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"provisioned_concurrent_executions":{"references":["var.provisioned_concurrent_executions"]},"qualifier":{"references":["aws_lambda_function.this[0].version","aws_lambda_function.this[0]","aws_lambda_function.this"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_function","var.create_layer","var.provisioned_concurrent_executions"]}},{"address":"aws_s3_object.lambda_package","mode":"managed","type":"aws_s3_object","name":"lambda_package","provider_config_key":"aws","expressions":{"acl":{"references":["var.s3_acl"]},"bucket":{"references":["var.s3_bucket"]},"key":{"references":["local.s3_key"]},"server_side_encryption":{"references":["var.s3_server_side_encryption"]},"source":{"references":["data.external.archive_prepare[0].result.filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]},"storage_class":{"references":["var.s3_object_storage_class"]},"tags":{"references":["var.s3_object_tags_only","var.s3_object_tags","var.tags","var.s3_object_tags"]}},"schema_version":0,"count_expression":{"references":["local.create","var.store_on_s3","var.create_package"]},"depends_on":["null_resource.archive"]},{"address":"local_file.archive_plan","mode":"managed","type":"local_file","name":"archive_plan","provider_config_key":"module.function9:local","expressions":{"content":{"references":["data.external.archive_prepare[0].result.build_plan","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]},"directory_permission":{"constant_value":"0755"},"file_permission":{"constant_value":"0644"},"filename":{"references":["data.external.archive_prepare[0].result.build_plan_filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]}},"schema_version":0,"count_expression":{"references":["var.create","var.create_package"]}},{"address":"null_resource.archive","mode":"managed","type":"null_resource","name":"archive","provider_config_key":"null","provisioners":[{"type":"local-exec","expressions":{"command":{"references":["data.external.archive_prepare[0].result.build_plan_filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]},"interpreter":{"references":["local.python","path.module","data.external.archive_prepare[0].result.timestamp","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]}}}],"expressions":{"triggers":{"references":["data.external.archive_prepare[0].result.filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare","data.external.archive_prepare[0].result.timestamp","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]}},"schema_version":0,"count_expression":{"references":["var.create","var.create_package"]},"depends_on":["local_file.archive_plan"]},{"address":"null_resource.sam_metadata_aws_lambda_function","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_function","provider_config_key":"null","expressions":{"triggers":{"references":["var.source_path","data.external.archive_prepare[0].result.filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_package","var.create_function","var.create_layer"]},"depends_on":["data.external.archive_prepare","null_resource.archive"]},{"address":"null_resource.sam_metadata_aws_lambda_layer_version","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_layer_version","provider_config_key":"null","expressions":{"triggers":{"references":["var.source_path","data.external.archive_prepare[0].result.filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_package","var.create_layer"]},"depends_on":["data.external.archive_prepare","null_resource.archive"]},{"address":"data.aws_arn.log_group_arn","mode":"data","type":"aws_arn","name":"log_group_arn","provider_config_key":"aws","expressions":{"arn":{"references":["local.log_group_arn_regional"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.lambda_at_edge"]}},{"address":"data.aws_cloudwatch_log_group.lambda","mode":"data","type":"aws_cloudwatch_log_group","name":"lambda","provider_config_key":"aws","expressions":{"name":{"references":["var.lambda_at_edge","var.function_name"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_function","var.create_layer","var.use_existing_cloudwatch_log_group"]}},{"address":"data.aws_iam_policy.tracing","mode":"data","type":"aws_iam_policy","name":"tracing","provider_config_key":"aws","expressions":{"arn":{"references":["data.aws_partition.current.partition","data.aws_partition.current"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_tracing_policy"]}},{"address":"data.aws_iam_policy.vpc","mode":"data","type":"aws_iam_policy","name":"vpc","provider_config_key":"aws","expressions":{"arn":{"references":["data.aws_partition.current.partition","data.aws_partition.current"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_network_policy"]}},{"address":"data.aws_iam_policy_document.additional_inline","mode":"data","type":"aws_iam_policy_document","name":"additional_inline","provider_config_key":"aws","schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_statements"]}},{"address":"data.aws_iam_policy_document.assume_role","mode":"data","type":"aws_iam_policy_document","name":"assume_role","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sts:AssumeRole"]},"effect":{"constant_value":"Allow"},"principals":[{"identifiers":{"references":["local.trusted_entities_services"]},"type":{"constant_value":"Service"}}]}]},"schema_version":0,"count_expression":{"references":["local.create_role"]}},{"address":"data.aws_iam_policy_document.async","mode":"data","type":"aws_iam_policy_document","name":"async","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sns:Publish","sqs:SendMessage","events:PutEvents","lambda:InvokeFunction"]},"effect":{"constant_value":"Allow"},"resources":{"references":["var.destination_on_failure","var.destination_on_success"]}}]},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_async_event_policy"]}},{"address":"data.aws_iam_policy_document.dead_letter","mode":"data","type":"aws_iam_policy_document","name":"dead_letter","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sns:Publish","sqs:SendMessage"]},"effect":{"constant_value":"Allow"},"resources":{"references":["var.dead_letter_target_arn"]}}]},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_dead_letter_policy"]}},{"address":"data.aws_iam_policy_document.logs","mode":"data","type":"aws_iam_policy_document","name":"logs","provider_config_key":"aws","expressions":{"statement":[{"actions":{"references":["var.use_existing_cloudwatch_log_group"]},"effect":{"constant_value":"Allow"},"resources":{"references":["local.log_group_arn"]}}]},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_cloudwatch_logs_policy"]}},{"address":"data.aws_partition.current","mode":"data","type":"aws_partition","name":"current","provider_config_key":"aws","schema_version":0},{"address":"data.external.archive_prepare","mode":"data","type":"external","name":"archive_prepare","provider_config_key":"module.function9:external","expressions":{"program":{"references":["local.python","path.module"]},"query":{"references":["path.module","path.root","path.cwd","var.build_in_docker","var.docker_pip_cache","var.docker_build_root","var.docker_file","var.docker_image","var.docker_with_ssh_agent","var.docker_additional_options","var.docker_entrypoint","var.artifacts_dir","var.runtime","var.source_path","var.hash_extra","var.recreate_missing_package"]}},"schema_version":0,"count_expression":{"references":["var.create","var.create_package"]}}],"variables":{"allowed_triggers":{"default":{},"description":"Map of allowed triggers to create Lambda permissions"},"architectures":{"default":null,"description":"Instruction set architecture for your Lambda function. Valid values are [\"x86_64\"] and [\"arm64\"]."},"artifacts_dir":{"default":"builds","description":"Directory name where artifacts should be stored"},"assume_role_policy_statements":{"default":{},"description":"Map of dynamic policy statements for assuming Lambda Function role (trust relationship)"},"attach_async_event_policy":{"default":false,"description":"Controls whether async event policy should be added to IAM role for Lambda Function"},"attach_cloudwatch_logs_policy":{"default":true,"description":"Controls whether CloudWatch Logs policy should be added to IAM role for Lambda Function"},"attach_dead_letter_policy":{"default":false,"description":"Controls whether SNS/SQS dead letter notification policy should be added to IAM role for Lambda Function"},"attach_network_policy":{"default":false,"description":"Controls whether VPC/network policy should be added to IAM role for Lambda Function"},"attach_policies":{"default":false,"description":"Controls whether list of policies should be added to IAM role for Lambda Function"},"attach_policy":{"default":false,"description":"Controls whether policy should be added to IAM role for Lambda Function"},"attach_policy_json":{"default":false,"description":"Controls whether policy_json should be added to IAM role for Lambda Function"},"attach_policy_jsons":{"default":false,"description":"Controls whether policy_jsons should be added to IAM role for Lambda Function"},"attach_policy_statements":{"default":false,"description":"Controls whether policy_statements should be added to IAM role for Lambda Function"},"attach_tracing_policy":{"default":false,"description":"Controls whether X-Ray tracing policy should be added to IAM role for Lambda Function"},"authorization_type":{"default":"NONE","description":"The type of authentication that the Lambda Function URL uses. Set to 'AWS_IAM' to restrict access to authenticated IAM users only. Set to 'NONE' to bypass IAM authentication and create a public endpoint."},"build_in_docker":{"default":false,"description":"Whether to build dependencies in Docker"},"cloudwatch_logs_kms_key_id":{"default":null,"description":"The ARN of the KMS Key to use when encrypting log data."},"cloudwatch_logs_retention_in_days":{"default":null,"description":"Specifies the number of days you want to retain log events in the specified log group. Possible values are: 1, 3, 5, 7, 14, 30, 60, 90, 120, 150, 180, 365, 400, 545, 731, 1827, and 3653."},"cloudwatch_logs_tags":{"default":{},"description":"A map of tags to assign to the resource."},"code_signing_config_arn":{"default":null,"description":"Amazon Resource Name (ARN) for a Code Signing Configuration"},"compatible_architectures":{"default":null,"description":"A list of Architectures Lambda layer is compatible with. Currently x86_64 and arm64 can be specified."},"compatible_runtimes":{"default":[],"description":"A list of Runtimes this layer is compatible with. Up to 5 runtimes can be specified."},"cors":{"default":{},"description":"CORS settings to be used by the Lambda Function URL"},"create":{"default":true,"description":"Controls whether resources should be created"},"create_async_event_config":{"default":false,"description":"Controls whether async event configuration for Lambda Function/Alias should be created"},"create_current_version_allowed_triggers":{"default":true,"description":"Whether to allow triggers on current version of Lambda Function (this will revoke permissions from previous version because Terraform manages only current resources)"},"create_current_version_async_event_config":{"default":true,"description":"Whether to allow async event configuration on current version of Lambda Function (this will revoke permissions from previous version because Terraform manages only current resources)"},"create_function":{"default":true,"description":"Controls whether Lambda Function resource should be created"},"create_lambda_function_url":{"default":false,"description":"Controls whether the Lambda Function URL resource should be created"},"create_layer":{"default":false,"description":"Controls whether Lambda Layer resource should be created"},"create_package":{"default":true,"description":"Controls whether Lambda package should be created"},"create_role":{"default":true,"description":"Controls whether IAM role for Lambda Function should be created"},"create_unqualified_alias_allowed_triggers":{"default":true,"description":"Whether to allow triggers on unqualified alias pointing to $LATEST version"},"create_unqualified_alias_async_event_config":{"default":true,"description":"Whether to allow async event configuration on unqualified alias pointing to $LATEST version"},"create_unqualified_alias_lambda_function_url":{"default":true,"description":"Whether to use unqualified alias pointing to $LATEST version in Lambda Function URL"},"dead_letter_target_arn":{"default":null,"description":"The ARN of an SNS topic or SQS queue to notify when an invocation fails."},"description":{"default":"","description":"Description of your Lambda Function (or Layer)"},"destination_on_failure":{"default":null,"description":"Amazon Resource Name (ARN) of the destination resource for failed asynchronous invocations"},"destination_on_success":{"default":null,"description":"Amazon Resource Name (ARN) of the destination resource for successful asynchronous invocations"},"docker_additional_options":{"default":[],"description":"Additional options to pass to the docker run command (e.g. to set environment variables, volumes, etc.)"},"docker_build_root":{"default":"","description":"Root dir where to build in Docker"},"docker_entrypoint":{"default":null,"description":"Path to the Docker entrypoint to use"},"docker_file":{"default":"","description":"Path to a Dockerfile when building in Docker"},"docker_image":{"default":"","description":"Docker image to use for the build"},"docker_pip_cache":{"default":null,"description":"Whether to mount a shared pip cache folder into docker environment or not"},"docker_with_ssh_agent":{"default":false,"description":"Whether to pass SSH_AUTH_SOCK into docker environment or not"},"environment_variables":{"default":{},"description":"A map that defines environment variables for the Lambda Function."},"ephemeral_storage_size":{"default":512,"description":"Amount of ephemeral storage (/tmp) in MB your Lambda Function can use at runtime. Valid value between 512 MB to 10,240 MB (10 GB)."},"event_source_mapping":{"default":{},"description":"Map of event source mapping"},"file_system_arn":{"default":null,"description":"The Amazon Resource Name (ARN) of the Amazon EFS Access Point that provides access to the file system."},"file_system_local_mount_path":{"default":null,"description":"The path where the function can access the file system, starting with /mnt/."},"function_name":{"default":"","description":"A unique name for your Lambda Function"},"handler":{"default":"","description":"Lambda Function entrypoint in your code"},"hash_extra":{"default":"","description":"The string to add into hashing function. Useful when building same source path for different functions."},"ignore_source_code_hash":{"default":false,"description":"Whether to ignore changes to the function's source code hash. Set to true if you manage infrastructure and code deployments separately."},"image_config_command":{"default":[],"description":"The CMD for the docker image"},"image_config_entry_point":{"default":[],"description":"The ENTRYPOINT for the docker image"},"image_config_working_directory":{"default":null,"description":"The working directory for the docker image"},"image_uri":{"default":null,"description":"The ECR image URI containing the function's deployment package."},"kms_key_arn":{"default":null,"description":"The ARN of KMS key to use by your Lambda Function"},"lambda_at_edge":{"default":false,"description":"Set this to true if using Lambda@Edge, to enable publishing, limit the timeout, and allow edgelambda.amazonaws.com to invoke the function"},"lambda_role":{"default":"","description":" IAM role ARN attached to the Lambda Function. This governs both who / what can invoke your Lambda Function, as well as what resources our Lambda Function has access to. See Lambda Permission Model for more details."},"layer_name":{"default":"","description":"Name of Lambda Layer to create"},"layer_skip_destroy":{"default":false,"description":"Whether to retain the old version of a previously deployed Lambda Layer."},"layers":{"default":null,"description":"List of Lambda Layer Version ARNs (maximum of 5) to attach to your Lambda Function."},"license_info":{"default":"","description":"License info for your Lambda Layer. Eg, MIT or full url of a license."},"local_existing_package":{"default":null,"description":"The absolute path to an existing zip-file to use"},"maximum_event_age_in_seconds":{"default":null,"description":"Maximum age of a request that Lambda sends to a function for processing in seconds. Valid values between 60 and 21600."},"maximum_retry_attempts":{"default":null,"description":"Maximum number of times to retry when the function returns an error. Valid values between 0 and 2. Defaults to 2."},"memory_size":{"default":128,"description":"Amount of memory in MB your Lambda Function can use at runtime. Valid value between 128 MB to 10,240 MB (10 GB), in 64 MB increments."},"number_of_policies":{"default":0,"description":"Number of policies to attach to IAM role for Lambda Function"},"number_of_policy_jsons":{"default":0,"description":"Number of policies JSON to attach to IAM role for Lambda Function"},"package_type":{"default":"Zip","description":"The Lambda deployment package type. Valid options: Zip or Image"},"policies":{"default":[],"description":"List of policy statements ARN to attach to Lambda Function role"},"policy":{"default":null,"description":"An additional policy document ARN to attach to the Lambda Function role"},"policy_json":{"default":null,"description":"An additional policy document as JSON to attach to the Lambda Function role"},"policy_jsons":{"default":[],"description":"List of additional policy documents as JSON to attach to Lambda Function role"},"policy_name":{"default":null,"description":"IAM policy name. It override the default value, which is the same as role_name"},"policy_path":{"default":null,"description":"Path of policies to that should be added to IAM role for Lambda Function"},"policy_statements":{"default":{},"description":"Map of dynamic policy statements to attach to Lambda Function role"},"provisioned_concurrent_executions":{"default":-1,"description":"Amount of capacity to allocate. Set to 1 or greater to enable, or set to 0 to disable provisioned concurrency."},"publish":{"default":false,"description":"Whether to publish creation/change as new Lambda Function Version."},"putin_khuylo":{"default":true,"description":"Do you agree that Putin doesn't respect Ukrainian sovereignty and territorial integrity? More info: https://en.wikipedia.org/wiki/Putin_khuylo!"},"recreate_missing_package":{"default":true,"description":"Whether to recreate missing Lambda package if it is missing locally or not"},"reserved_concurrent_executions":{"default":-1,"description":"The amount of reserved concurrent executions for this Lambda Function. A value of 0 disables Lambda Function from being triggered and -1 removes any concurrency limitations. Defaults to Unreserved Concurrency Limits -1."},"role_description":{"default":null,"description":"Description of IAM role to use for Lambda Function"},"role_force_detach_policies":{"default":true,"description":"Specifies to force detaching any policies the IAM role has before destroying it."},"role_name":{"default":null,"description":"Name of IAM role to use for Lambda Function"},"role_path":{"default":null,"description":"Path of IAM role to use for Lambda Function"},"role_permissions_boundary":{"default":null,"description":"The ARN of the policy that is used to set the permissions boundary for the IAM role used by Lambda Function"},"role_tags":{"default":{},"description":"A map of tags to assign to IAM role"},"runtime":{"default":"","description":"Lambda Function runtime"},"s3_acl":{"default":"private","description":"The canned ACL to apply. Valid values are private, public-read, public-read-write, aws-exec-read, authenticated-read, bucket-owner-read, and bucket-owner-full-control. Defaults to private."},"s3_bucket":{"default":null,"description":"S3 bucket to store artifacts"},"s3_existing_package":{"default":null,"description":"The S3 bucket object with keys bucket, key, version pointing to an existing zip-file to use"},"s3_object_storage_class":{"default":"ONEZONE_IA","description":"Specifies the desired Storage Class for the artifact uploaded to S3. Can be either STANDARD, REDUCED_REDUNDANCY, ONEZONE_IA, INTELLIGENT_TIERING, or STANDARD_IA."},"s3_object_tags":{"default":{},"description":"A map of tags to assign to S3 bucket object."},"s3_object_tags_only":{"default":false,"description":"Set to true to not merge tags with s3_object_tags. Useful to avoid breaching S3 Object 10 tag limit."},"s3_prefix":{"default":null,"description":"Directory name where artifacts should be stored in the S3 bucket. If unset, the path from `artifacts_dir` is used"},"s3_server_side_encryption":{"default":null,"description":"Specifies server-side encryption of the object in S3. Valid values are \"AES256\" and \"aws:kms\"."},"source_path":{"default":null,"description":"The absolute path to a local file or directory containing your Lambda source code"},"store_on_s3":{"default":false,"description":"Whether to store produced artifacts on S3 or locally."},"tags":{"default":{},"description":"A map of tags to assign to resources."},"timeout":{"default":3,"description":"The amount of time your Lambda Function has to run in seconds."},"tracing_mode":{"default":null,"description":"Tracing mode of the Lambda Function. Valid value can be either PassThrough or Active."},"trusted_entities":{"default":[],"description":"List of additional trusted entities for assuming Lambda Function role (trust relationship)"},"use_existing_cloudwatch_log_group":{"default":false,"description":"Whether to use an existing CloudWatch log group or create new"},"vpc_security_group_ids":{"default":null,"description":"List of security group ids when Lambda Function should run in the VPC."},"vpc_subnet_ids":{"default":null,"description":"List of subnet ids when Lambda Function should run in the VPC. Usually private or intra subnets."}}},"version_constraint":"4.6.0"},"layer10":{"source":"terraform-aws-modules/lambda/aws","expressions":{"compatible_runtimes":{"constant_value":["python3.8"]},"create_layer":{"constant_value":true},"layer_name":{"constant_value":"lambda_layer10"},"runtime":{"constant_value":"python3.8"},"s3_bucket":{"references":["aws_s3_bucket.lambda_code_bucket.id","aws_s3_bucket.lambda_code_bucket"]},"source_path":{"references":["local.layer10_src_path"]},"store_on_s3":{"constant_value":true}},"module":{"outputs":{"lambda_cloudwatch_log_group_arn":{"expression":{"references":["local.log_group_arn"]},"description":"The ARN of the Cloudwatch Log Group"},"lambda_cloudwatch_log_group_name":{"expression":{"references":["local.log_group_name"]},"description":"The name of the Cloudwatch Log Group"},"lambda_event_source_mapping_function_arn":{"expression":{"references":["aws_lambda_event_source_mapping.this"]},"description":"The the ARN of the Lambda function the event source mapping is sending events to"},"lambda_event_source_mapping_state":{"expression":{"references":["aws_lambda_event_source_mapping.this"]},"description":"The state of the event source mapping"},"lambda_event_source_mapping_state_transition_reason":{"expression":{"references":["aws_lambda_event_source_mapping.this"]},"description":"The reason the event source mapping is in its current state"},"lambda_event_source_mapping_uuid":{"expression":{"references":["aws_lambda_event_source_mapping.this"]},"description":"The UUID of the created event source mapping"},"lambda_function_arn":{"expression":{"references":["aws_lambda_function.this[0].arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The ARN of the Lambda Function"},"lambda_function_invoke_arn":{"expression":{"references":["aws_lambda_function.this[0].invoke_arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The Invoke ARN of the Lambda Function"},"lambda_function_kms_key_arn":{"expression":{"references":["aws_lambda_function.this[0].kms_key_arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The ARN for the KMS encryption key of Lambda Function"},"lambda_function_last_modified":{"expression":{"references":["aws_lambda_function.this[0].last_modified","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The date Lambda Function resource was last modified"},"lambda_function_name":{"expression":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The name of the Lambda Function"},"lambda_function_qualified_arn":{"expression":{"references":["aws_lambda_function.this[0].qualified_arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The ARN identifying your Lambda Function Version"},"lambda_function_signing_job_arn":{"expression":{"references":["aws_lambda_function.this[0].signing_job_arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"ARN of the signing job"},"lambda_function_signing_profile_version_arn":{"expression":{"references":["aws_lambda_function.this[0].signing_profile_version_arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"ARN of the signing profile version"},"lambda_function_source_code_hash":{"expression":{"references":["aws_lambda_function.this[0].source_code_hash","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"Base64-encoded representation of raw SHA-256 sum of the zip file"},"lambda_function_source_code_size":{"expression":{"references":["aws_lambda_function.this[0].source_code_size","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The size in bytes of the function .zip file"},"lambda_function_url":{"expression":{"references":["aws_lambda_function_url.this[0].function_url","aws_lambda_function_url.this[0]","aws_lambda_function_url.this"]},"description":"The URL of the Lambda Function URL"},"lambda_function_url_id":{"expression":{"references":["aws_lambda_function_url.this[0].url_id","aws_lambda_function_url.this[0]","aws_lambda_function_url.this"]},"description":"The Lambda Function URL generated id"},"lambda_function_version":{"expression":{"references":["aws_lambda_function.this[0].version","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"Latest published version of Lambda Function"},"lambda_layer_arn":{"expression":{"references":["aws_lambda_layer_version.this[0].arn","aws_lambda_layer_version.this[0]","aws_lambda_layer_version.this"]},"description":"The ARN of the Lambda Layer with version"},"lambda_layer_created_date":{"expression":{"references":["aws_lambda_layer_version.this[0].created_date","aws_lambda_layer_version.this[0]","aws_lambda_layer_version.this"]},"description":"The date Lambda Layer resource was created"},"lambda_layer_layer_arn":{"expression":{"references":["aws_lambda_layer_version.this[0].layer_arn","aws_lambda_layer_version.this[0]","aws_lambda_layer_version.this"]},"description":"The ARN of the Lambda Layer without version"},"lambda_layer_source_code_size":{"expression":{"references":["aws_lambda_layer_version.this[0].source_code_size","aws_lambda_layer_version.this[0]","aws_lambda_layer_version.this"]},"description":"The size in bytes of the Lambda Layer .zip file"},"lambda_layer_version":{"expression":{"references":["aws_lambda_layer_version.this[0].version","aws_lambda_layer_version.this[0]","aws_lambda_layer_version.this"]},"description":"The Lambda Layer version"},"lambda_role_arn":{"expression":{"references":["aws_iam_role.lambda[0].arn","aws_iam_role.lambda[0]","aws_iam_role.lambda"]},"description":"The ARN of the IAM role created for the Lambda Function"},"lambda_role_name":{"expression":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]},"description":"The name of the IAM role created for the Lambda Function"},"lambda_role_unique_id":{"expression":{"references":["aws_iam_role.lambda[0].unique_id","aws_iam_role.lambda[0]","aws_iam_role.lambda"]},"description":"The unique id of the IAM role created for the Lambda Function"},"local_filename":{"expression":{"references":["local.filename"]},"depends_on":["null_resource.archive"],"description":"The filename of zip archive deployed (if deployment was from local)"},"s3_object":{"expression":{"references":["local.s3_bucket","local.s3_key","local.s3_object_version"]},"description":"The map with S3 object data of zip archive deployed (if deployment was from S3)"}},"resources":[{"address":"aws_cloudwatch_log_group.lambda","mode":"managed","type":"aws_cloudwatch_log_group","name":"lambda","provider_config_key":"aws","expressions":{"kms_key_id":{"references":["var.cloudwatch_logs_kms_key_id"]},"name":{"references":["var.lambda_at_edge","var.function_name"]},"retention_in_days":{"references":["var.cloudwatch_logs_retention_in_days"]},"tags":{"references":["var.tags","var.cloudwatch_logs_tags"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_function","var.create_layer","var.use_existing_cloudwatch_log_group"]}},{"address":"aws_iam_policy.additional_inline","mode":"managed","type":"aws_iam_policy","name":"additional_inline","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy_document.additional_inline[0].json","data.aws_iam_policy_document.additional_inline[0]","data.aws_iam_policy_document.additional_inline"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_statements"]}},{"address":"aws_iam_policy.additional_json","mode":"managed","type":"aws_iam_policy","name":"additional_json","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["var.policy_json"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_json"]}},{"address":"aws_iam_policy.additional_jsons","mode":"managed","type":"aws_iam_policy","name":"additional_jsons","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name","count.index"]},"path":{"references":["var.policy_path"]},"policy":{"references":["var.policy_jsons","count.index"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_jsons","var.number_of_policy_jsons"]}},{"address":"aws_iam_policy.async","mode":"managed","type":"aws_iam_policy","name":"async","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy_document.async[0].json","data.aws_iam_policy_document.async[0]","data.aws_iam_policy_document.async"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_async_event_policy"]}},{"address":"aws_iam_policy.dead_letter","mode":"managed","type":"aws_iam_policy","name":"dead_letter","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy_document.dead_letter[0].json","data.aws_iam_policy_document.dead_letter[0]","data.aws_iam_policy_document.dead_letter"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_dead_letter_policy"]}},{"address":"aws_iam_policy.logs","mode":"managed","type":"aws_iam_policy","name":"logs","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy_document.logs[0].json","data.aws_iam_policy_document.logs[0]","data.aws_iam_policy_document.logs"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_cloudwatch_logs_policy"]}},{"address":"aws_iam_policy.tracing","mode":"managed","type":"aws_iam_policy","name":"tracing","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy.tracing[0].policy","data.aws_iam_policy.tracing[0]","data.aws_iam_policy.tracing"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_tracing_policy"]}},{"address":"aws_iam_policy.vpc","mode":"managed","type":"aws_iam_policy","name":"vpc","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy.vpc[0].policy","data.aws_iam_policy.vpc[0]","data.aws_iam_policy.vpc"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_network_policy"]}},{"address":"aws_iam_role.lambda","mode":"managed","type":"aws_iam_role","name":"lambda","provider_config_key":"aws","expressions":{"assume_role_policy":{"references":["data.aws_iam_policy_document.assume_role[0].json","data.aws_iam_policy_document.assume_role[0]","data.aws_iam_policy_document.assume_role"]},"description":{"references":["var.role_description"]},"force_detach_policies":{"references":["var.role_force_detach_policies"]},"name":{"references":["local.role_name"]},"path":{"references":["var.role_path"]},"permissions_boundary":{"references":["var.role_permissions_boundary"]},"tags":{"references":["var.tags","var.role_tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role"]}},{"address":"aws_iam_role_policy_attachment.additional_inline","mode":"managed","type":"aws_iam_role_policy_attachment","name":"additional_inline","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.additional_inline[0].arn","aws_iam_policy.additional_inline[0]","aws_iam_policy.additional_inline"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_statements"]}},{"address":"aws_iam_role_policy_attachment.additional_json","mode":"managed","type":"aws_iam_role_policy_attachment","name":"additional_json","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.additional_json[0].arn","aws_iam_policy.additional_json[0]","aws_iam_policy.additional_json"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_json"]}},{"address":"aws_iam_role_policy_attachment.additional_jsons","mode":"managed","type":"aws_iam_role_policy_attachment","name":"additional_jsons","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.additional_jsons","count.index"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_jsons","var.number_of_policy_jsons"]}},{"address":"aws_iam_role_policy_attachment.additional_many","mode":"managed","type":"aws_iam_role_policy_attachment","name":"additional_many","provider_config_key":"aws","expressions":{"policy_arn":{"references":["var.policies","count.index"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policies","var.number_of_policies"]}},{"address":"aws_iam_role_policy_attachment.additional_one","mode":"managed","type":"aws_iam_role_policy_attachment","name":"additional_one","provider_config_key":"aws","expressions":{"policy_arn":{"references":["var.policy"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy"]}},{"address":"aws_iam_role_policy_attachment.async","mode":"managed","type":"aws_iam_role_policy_attachment","name":"async","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.async[0].arn","aws_iam_policy.async[0]","aws_iam_policy.async"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_async_event_policy"]}},{"address":"aws_iam_role_policy_attachment.dead_letter","mode":"managed","type":"aws_iam_role_policy_attachment","name":"dead_letter","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.dead_letter[0].arn","aws_iam_policy.dead_letter[0]","aws_iam_policy.dead_letter"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_dead_letter_policy"]}},{"address":"aws_iam_role_policy_attachment.logs","mode":"managed","type":"aws_iam_role_policy_attachment","name":"logs","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.logs[0].arn","aws_iam_policy.logs[0]","aws_iam_policy.logs"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_cloudwatch_logs_policy"]}},{"address":"aws_iam_role_policy_attachment.tracing","mode":"managed","type":"aws_iam_role_policy_attachment","name":"tracing","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.tracing[0].arn","aws_iam_policy.tracing[0]","aws_iam_policy.tracing"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_tracing_policy"]}},{"address":"aws_iam_role_policy_attachment.vpc","mode":"managed","type":"aws_iam_role_policy_attachment","name":"vpc","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.vpc[0].arn","aws_iam_policy.vpc[0]","aws_iam_policy.vpc"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_network_policy"]}},{"address":"aws_lambda_event_source_mapping.this","mode":"managed","type":"aws_lambda_event_source_mapping","name":"this","provider_config_key":"aws","expressions":{"batch_size":{"references":["each.value.batch_size","each.value"]},"bisect_batch_on_function_error":{"references":["each.value.bisect_batch_on_function_error","each.value"]},"enabled":{"references":["each.value.enabled","each.value"]},"event_source_arn":{"references":["each.value.event_source_arn","each.value"]},"function_name":{"references":["aws_lambda_function.this[0].arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"function_response_types":{"references":["each.value.function_response_types","each.value"]},"maximum_batching_window_in_seconds":{"references":["each.value.maximum_batching_window_in_seconds","each.value"]},"maximum_record_age_in_seconds":{"references":["each.value.maximum_record_age_in_seconds","each.value"]},"maximum_retry_attempts":{"references":["each.value.maximum_retry_attempts","each.value"]},"parallelization_factor":{"references":["each.value.parallelization_factor","each.value"]},"queues":{"references":["each.value.queues","each.value"]},"starting_position":{"references":["each.value.starting_position","each.value"]},"starting_position_timestamp":{"references":["each.value.starting_position_timestamp","each.value"]},"topics":{"references":["each.value.topics","each.value"]}},"schema_version":0,"for_each_expression":{"references":["var.event_source_mapping","local.create","var.create_function","var.create_layer","var.create_unqualified_alias_allowed_triggers"]}},{"address":"aws_lambda_function.this","mode":"managed","type":"aws_lambda_function","name":"this","provider_config_key":"aws","expressions":{"architectures":{"references":["var.architectures"]},"code_signing_config_arn":{"references":["var.code_signing_config_arn"]},"description":{"references":["var.description"]},"filename":{"references":["local.filename"]},"function_name":{"references":["var.function_name"]},"handler":{"references":["var.package_type","var.handler"]},"image_uri":{"references":["var.image_uri"]},"kms_key_arn":{"references":["var.kms_key_arn"]},"layers":{"references":["var.layers"]},"memory_size":{"references":["var.memory_size"]},"package_type":{"references":["var.package_type"]},"publish":{"references":["var.lambda_at_edge","var.publish"]},"reserved_concurrent_executions":{"references":["var.reserved_concurrent_executions"]},"role":{"references":["var.create_role","aws_iam_role.lambda[0].arn","aws_iam_role.lambda[0]","aws_iam_role.lambda","var.lambda_role"]},"runtime":{"references":["var.package_type","var.runtime"]},"s3_bucket":{"references":["local.s3_bucket"]},"s3_key":{"references":["local.s3_key"]},"s3_object_version":{"references":["local.s3_object_version"]},"source_code_hash":{"references":["var.ignore_source_code_hash","local.filename","local.filename","local.was_missing","local.filename"]},"tags":{"references":["var.tags"]},"timeout":{"references":["var.lambda_at_edge","var.timeout","var.timeout"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_function","var.create_layer"]},"depends_on":["null_resource.archive","aws_s3_object.lambda_package","aws_cloudwatch_log_group.lambda","aws_iam_role_policy_attachment.additional_inline","aws_iam_role_policy_attachment.additional_json","aws_iam_role_policy_attachment.additional_jsons","aws_iam_role_policy_attachment.additional_many","aws_iam_role_policy_attachment.additional_one","aws_iam_role_policy_attachment.async","aws_iam_role_policy_attachment.logs","aws_iam_role_policy_attachment.dead_letter","aws_iam_role_policy_attachment.vpc","aws_iam_role_policy_attachment.tracing"]},{"address":"aws_lambda_function_event_invoke_config.this","mode":"managed","type":"aws_lambda_function_event_invoke_config","name":"this","provider_config_key":"aws","expressions":{"function_name":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"maximum_event_age_in_seconds":{"references":["var.maximum_event_age_in_seconds"]},"maximum_retry_attempts":{"references":["var.maximum_retry_attempts"]},"qualifier":{"references":["each.key","aws_lambda_function.this[0].version","aws_lambda_function.this[0]","aws_lambda_function.this"]}},"schema_version":0,"for_each_expression":{"references":["local.qualifiers","local.create","var.create_function","var.create_layer","var.create_async_event_config"]}},{"address":"aws_lambda_function_url.this","mode":"managed","type":"aws_lambda_function_url","name":"this","provider_config_key":"aws","expressions":{"authorization_type":{"references":["var.authorization_type"]},"function_name":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"qualifier":{"references":["var.create_unqualified_alias_lambda_function_url","aws_lambda_function.this[0].version","aws_lambda_function.this[0]","aws_lambda_function.this"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_function","var.create_layer","var.create_lambda_function_url"]}},{"address":"aws_lambda_layer_version.this","mode":"managed","type":"aws_lambda_layer_version","name":"this","provider_config_key":"aws","expressions":{"compatible_architectures":{"references":["var.compatible_architectures"]},"compatible_runtimes":{"references":["var.compatible_runtimes","var.compatible_runtimes","var.runtime"]},"description":{"references":["var.description"]},"filename":{"references":["local.filename"]},"layer_name":{"references":["var.layer_name"]},"license_info":{"references":["var.license_info"]},"s3_bucket":{"references":["local.s3_bucket"]},"s3_key":{"references":["local.s3_key"]},"s3_object_version":{"references":["local.s3_object_version"]},"skip_destroy":{"references":["var.layer_skip_destroy"]},"source_code_hash":{"references":["var.ignore_source_code_hash","local.filename","local.filename","local.was_missing","local.filename"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_layer"]},"depends_on":["null_resource.archive","aws_s3_object.lambda_package"]},{"address":"aws_lambda_permission.current_version_triggers","mode":"managed","type":"aws_lambda_permission","name":"current_version_triggers","provider_config_key":"aws","expressions":{"action":{"references":["each.value.action","each.value"]},"event_source_token":{"references":["each.value.event_source_token","each.value"]},"function_name":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"principal":{"references":["each.value.principal","each.value","each.value.service","each.value"]},"qualifier":{"references":["aws_lambda_function.this[0].version","aws_lambda_function.this[0]","aws_lambda_function.this"]},"source_account":{"references":["each.value.source_account","each.value"]},"source_arn":{"references":["each.value.source_arn","each.value"]},"statement_id":{"references":["each.value.statement_id","each.value","each.key"]}},"schema_version":0,"for_each_expression":{"references":["var.allowed_triggers","local.create","var.create_function","var.create_layer","var.create_current_version_allowed_triggers"]}},{"address":"aws_lambda_permission.unqualified_alias_triggers","mode":"managed","type":"aws_lambda_permission","name":"unqualified_alias_triggers","provider_config_key":"aws","expressions":{"action":{"references":["each.value.action","each.value"]},"event_source_token":{"references":["each.value.event_source_token","each.value"]},"function_name":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"principal":{"references":["each.value.principal","each.value","each.value.service","each.value"]},"source_account":{"references":["each.value.source_account","each.value"]},"source_arn":{"references":["each.value.source_arn","each.value"]},"statement_id":{"references":["each.value.statement_id","each.value","each.key"]}},"schema_version":0,"for_each_expression":{"references":["var.allowed_triggers","local.create","var.create_function","var.create_layer","var.create_unqualified_alias_allowed_triggers"]}},{"address":"aws_lambda_provisioned_concurrency_config.current_version","mode":"managed","type":"aws_lambda_provisioned_concurrency_config","name":"current_version","provider_config_key":"aws","expressions":{"function_name":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"provisioned_concurrent_executions":{"references":["var.provisioned_concurrent_executions"]},"qualifier":{"references":["aws_lambda_function.this[0].version","aws_lambda_function.this[0]","aws_lambda_function.this"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_function","var.create_layer","var.provisioned_concurrent_executions"]}},{"address":"aws_s3_object.lambda_package","mode":"managed","type":"aws_s3_object","name":"lambda_package","provider_config_key":"aws","expressions":{"acl":{"references":["var.s3_acl"]},"bucket":{"references":["var.s3_bucket"]},"key":{"references":["local.s3_key"]},"server_side_encryption":{"references":["var.s3_server_side_encryption"]},"source":{"references":["data.external.archive_prepare[0].result.filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]},"storage_class":{"references":["var.s3_object_storage_class"]},"tags":{"references":["var.s3_object_tags_only","var.s3_object_tags","var.tags","var.s3_object_tags"]}},"schema_version":0,"count_expression":{"references":["local.create","var.store_on_s3","var.create_package"]},"depends_on":["null_resource.archive"]},{"address":"local_file.archive_plan","mode":"managed","type":"local_file","name":"archive_plan","provider_config_key":"module.layer10:local","expressions":{"content":{"references":["data.external.archive_prepare[0].result.build_plan","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]},"directory_permission":{"constant_value":"0755"},"file_permission":{"constant_value":"0644"},"filename":{"references":["data.external.archive_prepare[0].result.build_plan_filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]}},"schema_version":0,"count_expression":{"references":["var.create","var.create_package"]}},{"address":"null_resource.archive","mode":"managed","type":"null_resource","name":"archive","provider_config_key":"null","provisioners":[{"type":"local-exec","expressions":{"command":{"references":["data.external.archive_prepare[0].result.build_plan_filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]},"interpreter":{"references":["local.python","path.module","data.external.archive_prepare[0].result.timestamp","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]}}}],"expressions":{"triggers":{"references":["data.external.archive_prepare[0].result.filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare","data.external.archive_prepare[0].result.timestamp","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]}},"schema_version":0,"count_expression":{"references":["var.create","var.create_package"]},"depends_on":["local_file.archive_plan"]},{"address":"null_resource.sam_metadata_aws_lambda_function","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_function","provider_config_key":"null","expressions":{"triggers":{"references":["var.source_path","data.external.archive_prepare[0].result.filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_package","var.create_function","var.create_layer"]},"depends_on":["data.external.archive_prepare","null_resource.archive"]},{"address":"null_resource.sam_metadata_aws_lambda_layer_version","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_layer_version","provider_config_key":"null","expressions":{"triggers":{"references":["var.source_path","data.external.archive_prepare[0].result.filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_package","var.create_layer"]},"depends_on":["data.external.archive_prepare","null_resource.archive"]},{"address":"data.aws_arn.log_group_arn","mode":"data","type":"aws_arn","name":"log_group_arn","provider_config_key":"aws","expressions":{"arn":{"references":["local.log_group_arn_regional"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.lambda_at_edge"]}},{"address":"data.aws_cloudwatch_log_group.lambda","mode":"data","type":"aws_cloudwatch_log_group","name":"lambda","provider_config_key":"aws","expressions":{"name":{"references":["var.lambda_at_edge","var.function_name"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_function","var.create_layer","var.use_existing_cloudwatch_log_group"]}},{"address":"data.aws_iam_policy.tracing","mode":"data","type":"aws_iam_policy","name":"tracing","provider_config_key":"aws","expressions":{"arn":{"references":["data.aws_partition.current.partition","data.aws_partition.current"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_tracing_policy"]}},{"address":"data.aws_iam_policy.vpc","mode":"data","type":"aws_iam_policy","name":"vpc","provider_config_key":"aws","expressions":{"arn":{"references":["data.aws_partition.current.partition","data.aws_partition.current"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_network_policy"]}},{"address":"data.aws_iam_policy_document.additional_inline","mode":"data","type":"aws_iam_policy_document","name":"additional_inline","provider_config_key":"aws","schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_statements"]}},{"address":"data.aws_iam_policy_document.assume_role","mode":"data","type":"aws_iam_policy_document","name":"assume_role","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sts:AssumeRole"]},"effect":{"constant_value":"Allow"},"principals":[{"identifiers":{"references":["local.trusted_entities_services"]},"type":{"constant_value":"Service"}}]}]},"schema_version":0,"count_expression":{"references":["local.create_role"]}},{"address":"data.aws_iam_policy_document.async","mode":"data","type":"aws_iam_policy_document","name":"async","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sns:Publish","sqs:SendMessage","events:PutEvents","lambda:InvokeFunction"]},"effect":{"constant_value":"Allow"},"resources":{"references":["var.destination_on_failure","var.destination_on_success"]}}]},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_async_event_policy"]}},{"address":"data.aws_iam_policy_document.dead_letter","mode":"data","type":"aws_iam_policy_document","name":"dead_letter","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sns:Publish","sqs:SendMessage"]},"effect":{"constant_value":"Allow"},"resources":{"references":["var.dead_letter_target_arn"]}}]},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_dead_letter_policy"]}},{"address":"data.aws_iam_policy_document.logs","mode":"data","type":"aws_iam_policy_document","name":"logs","provider_config_key":"aws","expressions":{"statement":[{"actions":{"references":["var.use_existing_cloudwatch_log_group"]},"effect":{"constant_value":"Allow"},"resources":{"references":["local.log_group_arn"]}}]},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_cloudwatch_logs_policy"]}},{"address":"data.aws_partition.current","mode":"data","type":"aws_partition","name":"current","provider_config_key":"aws","schema_version":0},{"address":"data.external.archive_prepare","mode":"data","type":"external","name":"archive_prepare","provider_config_key":"module.layer10:external","expressions":{"program":{"references":["local.python","path.module"]},"query":{"references":["path.module","path.root","path.cwd","var.build_in_docker","var.docker_pip_cache","var.docker_build_root","var.docker_file","var.docker_image","var.docker_with_ssh_agent","var.docker_additional_options","var.docker_entrypoint","var.artifacts_dir","var.runtime","var.source_path","var.hash_extra","var.recreate_missing_package"]}},"schema_version":0,"count_expression":{"references":["var.create","var.create_package"]}}],"variables":{"allowed_triggers":{"default":{},"description":"Map of allowed triggers to create Lambda permissions"},"architectures":{"default":null,"description":"Instruction set architecture for your Lambda function. Valid values are [\"x86_64\"] and [\"arm64\"]."},"artifacts_dir":{"default":"builds","description":"Directory name where artifacts should be stored"},"assume_role_policy_statements":{"default":{},"description":"Map of dynamic policy statements for assuming Lambda Function role (trust relationship)"},"attach_async_event_policy":{"default":false,"description":"Controls whether async event policy should be added to IAM role for Lambda Function"},"attach_cloudwatch_logs_policy":{"default":true,"description":"Controls whether CloudWatch Logs policy should be added to IAM role for Lambda Function"},"attach_dead_letter_policy":{"default":false,"description":"Controls whether SNS/SQS dead letter notification policy should be added to IAM role for Lambda Function"},"attach_network_policy":{"default":false,"description":"Controls whether VPC/network policy should be added to IAM role for Lambda Function"},"attach_policies":{"default":false,"description":"Controls whether list of policies should be added to IAM role for Lambda Function"},"attach_policy":{"default":false,"description":"Controls whether policy should be added to IAM role for Lambda Function"},"attach_policy_json":{"default":false,"description":"Controls whether policy_json should be added to IAM role for Lambda Function"},"attach_policy_jsons":{"default":false,"description":"Controls whether policy_jsons should be added to IAM role for Lambda Function"},"attach_policy_statements":{"default":false,"description":"Controls whether policy_statements should be added to IAM role for Lambda Function"},"attach_tracing_policy":{"default":false,"description":"Controls whether X-Ray tracing policy should be added to IAM role for Lambda Function"},"authorization_type":{"default":"NONE","description":"The type of authentication that the Lambda Function URL uses. Set to 'AWS_IAM' to restrict access to authenticated IAM users only. Set to 'NONE' to bypass IAM authentication and create a public endpoint."},"build_in_docker":{"default":false,"description":"Whether to build dependencies in Docker"},"cloudwatch_logs_kms_key_id":{"default":null,"description":"The ARN of the KMS Key to use when encrypting log data."},"cloudwatch_logs_retention_in_days":{"default":null,"description":"Specifies the number of days you want to retain log events in the specified log group. Possible values are: 1, 3, 5, 7, 14, 30, 60, 90, 120, 150, 180, 365, 400, 545, 731, 1827, and 3653."},"cloudwatch_logs_tags":{"default":{},"description":"A map of tags to assign to the resource."},"code_signing_config_arn":{"default":null,"description":"Amazon Resource Name (ARN) for a Code Signing Configuration"},"compatible_architectures":{"default":null,"description":"A list of Architectures Lambda layer is compatible with. Currently x86_64 and arm64 can be specified."},"compatible_runtimes":{"default":[],"description":"A list of Runtimes this layer is compatible with. Up to 5 runtimes can be specified."},"cors":{"default":{},"description":"CORS settings to be used by the Lambda Function URL"},"create":{"default":true,"description":"Controls whether resources should be created"},"create_async_event_config":{"default":false,"description":"Controls whether async event configuration for Lambda Function/Alias should be created"},"create_current_version_allowed_triggers":{"default":true,"description":"Whether to allow triggers on current version of Lambda Function (this will revoke permissions from previous version because Terraform manages only current resources)"},"create_current_version_async_event_config":{"default":true,"description":"Whether to allow async event configuration on current version of Lambda Function (this will revoke permissions from previous version because Terraform manages only current resources)"},"create_function":{"default":true,"description":"Controls whether Lambda Function resource should be created"},"create_lambda_function_url":{"default":false,"description":"Controls whether the Lambda Function URL resource should be created"},"create_layer":{"default":false,"description":"Controls whether Lambda Layer resource should be created"},"create_package":{"default":true,"description":"Controls whether Lambda package should be created"},"create_role":{"default":true,"description":"Controls whether IAM role for Lambda Function should be created"},"create_unqualified_alias_allowed_triggers":{"default":true,"description":"Whether to allow triggers on unqualified alias pointing to $LATEST version"},"create_unqualified_alias_async_event_config":{"default":true,"description":"Whether to allow async event configuration on unqualified alias pointing to $LATEST version"},"create_unqualified_alias_lambda_function_url":{"default":true,"description":"Whether to use unqualified alias pointing to $LATEST version in Lambda Function URL"},"dead_letter_target_arn":{"default":null,"description":"The ARN of an SNS topic or SQS queue to notify when an invocation fails."},"description":{"default":"","description":"Description of your Lambda Function (or Layer)"},"destination_on_failure":{"default":null,"description":"Amazon Resource Name (ARN) of the destination resource for failed asynchronous invocations"},"destination_on_success":{"default":null,"description":"Amazon Resource Name (ARN) of the destination resource for successful asynchronous invocations"},"docker_additional_options":{"default":[],"description":"Additional options to pass to the docker run command (e.g. to set environment variables, volumes, etc.)"},"docker_build_root":{"default":"","description":"Root dir where to build in Docker"},"docker_entrypoint":{"default":null,"description":"Path to the Docker entrypoint to use"},"docker_file":{"default":"","description":"Path to a Dockerfile when building in Docker"},"docker_image":{"default":"","description":"Docker image to use for the build"},"docker_pip_cache":{"default":null,"description":"Whether to mount a shared pip cache folder into docker environment or not"},"docker_with_ssh_agent":{"default":false,"description":"Whether to pass SSH_AUTH_SOCK into docker environment or not"},"environment_variables":{"default":{},"description":"A map that defines environment variables for the Lambda Function."},"ephemeral_storage_size":{"default":512,"description":"Amount of ephemeral storage (/tmp) in MB your Lambda Function can use at runtime. Valid value between 512 MB to 10,240 MB (10 GB)."},"event_source_mapping":{"default":{},"description":"Map of event source mapping"},"file_system_arn":{"default":null,"description":"The Amazon Resource Name (ARN) of the Amazon EFS Access Point that provides access to the file system."},"file_system_local_mount_path":{"default":null,"description":"The path where the function can access the file system, starting with /mnt/."},"function_name":{"default":"","description":"A unique name for your Lambda Function"},"handler":{"default":"","description":"Lambda Function entrypoint in your code"},"hash_extra":{"default":"","description":"The string to add into hashing function. Useful when building same source path for different functions."},"ignore_source_code_hash":{"default":false,"description":"Whether to ignore changes to the function's source code hash. Set to true if you manage infrastructure and code deployments separately."},"image_config_command":{"default":[],"description":"The CMD for the docker image"},"image_config_entry_point":{"default":[],"description":"The ENTRYPOINT for the docker image"},"image_config_working_directory":{"default":null,"description":"The working directory for the docker image"},"image_uri":{"default":null,"description":"The ECR image URI containing the function's deployment package."},"kms_key_arn":{"default":null,"description":"The ARN of KMS key to use by your Lambda Function"},"lambda_at_edge":{"default":false,"description":"Set this to true if using Lambda@Edge, to enable publishing, limit the timeout, and allow edgelambda.amazonaws.com to invoke the function"},"lambda_role":{"default":"","description":" IAM role ARN attached to the Lambda Function. This governs both who / what can invoke your Lambda Function, as well as what resources our Lambda Function has access to. See Lambda Permission Model for more details."},"layer_name":{"default":"","description":"Name of Lambda Layer to create"},"layer_skip_destroy":{"default":false,"description":"Whether to retain the old version of a previously deployed Lambda Layer."},"layers":{"default":null,"description":"List of Lambda Layer Version ARNs (maximum of 5) to attach to your Lambda Function."},"license_info":{"default":"","description":"License info for your Lambda Layer. Eg, MIT or full url of a license."},"local_existing_package":{"default":null,"description":"The absolute path to an existing zip-file to use"},"maximum_event_age_in_seconds":{"default":null,"description":"Maximum age of a request that Lambda sends to a function for processing in seconds. Valid values between 60 and 21600."},"maximum_retry_attempts":{"default":null,"description":"Maximum number of times to retry when the function returns an error. Valid values between 0 and 2. Defaults to 2."},"memory_size":{"default":128,"description":"Amount of memory in MB your Lambda Function can use at runtime. Valid value between 128 MB to 10,240 MB (10 GB), in 64 MB increments."},"number_of_policies":{"default":0,"description":"Number of policies to attach to IAM role for Lambda Function"},"number_of_policy_jsons":{"default":0,"description":"Number of policies JSON to attach to IAM role for Lambda Function"},"package_type":{"default":"Zip","description":"The Lambda deployment package type. Valid options: Zip or Image"},"policies":{"default":[],"description":"List of policy statements ARN to attach to Lambda Function role"},"policy":{"default":null,"description":"An additional policy document ARN to attach to the Lambda Function role"},"policy_json":{"default":null,"description":"An additional policy document as JSON to attach to the Lambda Function role"},"policy_jsons":{"default":[],"description":"List of additional policy documents as JSON to attach to Lambda Function role"},"policy_name":{"default":null,"description":"IAM policy name. It override the default value, which is the same as role_name"},"policy_path":{"default":null,"description":"Path of policies to that should be added to IAM role for Lambda Function"},"policy_statements":{"default":{},"description":"Map of dynamic policy statements to attach to Lambda Function role"},"provisioned_concurrent_executions":{"default":-1,"description":"Amount of capacity to allocate. Set to 1 or greater to enable, or set to 0 to disable provisioned concurrency."},"publish":{"default":false,"description":"Whether to publish creation/change as new Lambda Function Version."},"putin_khuylo":{"default":true,"description":"Do you agree that Putin doesn't respect Ukrainian sovereignty and territorial integrity? More info: https://en.wikipedia.org/wiki/Putin_khuylo!"},"recreate_missing_package":{"default":true,"description":"Whether to recreate missing Lambda package if it is missing locally or not"},"reserved_concurrent_executions":{"default":-1,"description":"The amount of reserved concurrent executions for this Lambda Function. A value of 0 disables Lambda Function from being triggered and -1 removes any concurrency limitations. Defaults to Unreserved Concurrency Limits -1."},"role_description":{"default":null,"description":"Description of IAM role to use for Lambda Function"},"role_force_detach_policies":{"default":true,"description":"Specifies to force detaching any policies the IAM role has before destroying it."},"role_name":{"default":null,"description":"Name of IAM role to use for Lambda Function"},"role_path":{"default":null,"description":"Path of IAM role to use for Lambda Function"},"role_permissions_boundary":{"default":null,"description":"The ARN of the policy that is used to set the permissions boundary for the IAM role used by Lambda Function"},"role_tags":{"default":{},"description":"A map of tags to assign to IAM role"},"runtime":{"default":"","description":"Lambda Function runtime"},"s3_acl":{"default":"private","description":"The canned ACL to apply. Valid values are private, public-read, public-read-write, aws-exec-read, authenticated-read, bucket-owner-read, and bucket-owner-full-control. Defaults to private."},"s3_bucket":{"default":null,"description":"S3 bucket to store artifacts"},"s3_existing_package":{"default":null,"description":"The S3 bucket object with keys bucket, key, version pointing to an existing zip-file to use"},"s3_object_storage_class":{"default":"ONEZONE_IA","description":"Specifies the desired Storage Class for the artifact uploaded to S3. Can be either STANDARD, REDUCED_REDUNDANCY, ONEZONE_IA, INTELLIGENT_TIERING, or STANDARD_IA."},"s3_object_tags":{"default":{},"description":"A map of tags to assign to S3 bucket object."},"s3_object_tags_only":{"default":false,"description":"Set to true to not merge tags with s3_object_tags. Useful to avoid breaching S3 Object 10 tag limit."},"s3_prefix":{"default":null,"description":"Directory name where artifacts should be stored in the S3 bucket. If unset, the path from `artifacts_dir` is used"},"s3_server_side_encryption":{"default":null,"description":"Specifies server-side encryption of the object in S3. Valid values are \"AES256\" and \"aws:kms\"."},"source_path":{"default":null,"description":"The absolute path to a local file or directory containing your Lambda source code"},"store_on_s3":{"default":false,"description":"Whether to store produced artifacts on S3 or locally."},"tags":{"default":{},"description":"A map of tags to assign to resources."},"timeout":{"default":3,"description":"The amount of time your Lambda Function has to run in seconds."},"tracing_mode":{"default":null,"description":"Tracing mode of the Lambda Function. Valid value can be either PassThrough or Active."},"trusted_entities":{"default":[],"description":"List of additional trusted entities for assuming Lambda Function role (trust relationship)"},"use_existing_cloudwatch_log_group":{"default":false,"description":"Whether to use an existing CloudWatch log group or create new"},"vpc_security_group_ids":{"default":null,"description":"List of security group ids when Lambda Function should run in the VPC."},"vpc_subnet_ids":{"default":null,"description":"List of subnet ids when Lambda Function should run in the VPC. Usually private or intra subnets."}}},"version_constraint":"4.6.0"},"layer11":{"source":"terraform-aws-modules/lambda/aws","expressions":{"compatible_runtimes":{"constant_value":["python3.8"]},"create_layer":{"constant_value":true},"layer_name":{"constant_value":"lambda_layer11"},"runtime":{"constant_value":"python3.8"},"source_path":{"references":["local.layer11_src_path"]}},"module":{"outputs":{"lambda_cloudwatch_log_group_arn":{"expression":{"references":["local.log_group_arn"]},"description":"The ARN of the Cloudwatch Log Group"},"lambda_cloudwatch_log_group_name":{"expression":{"references":["local.log_group_name"]},"description":"The name of the Cloudwatch Log Group"},"lambda_event_source_mapping_function_arn":{"expression":{"references":["aws_lambda_event_source_mapping.this"]},"description":"The the ARN of the Lambda function the event source mapping is sending events to"},"lambda_event_source_mapping_state":{"expression":{"references":["aws_lambda_event_source_mapping.this"]},"description":"The state of the event source mapping"},"lambda_event_source_mapping_state_transition_reason":{"expression":{"references":["aws_lambda_event_source_mapping.this"]},"description":"The reason the event source mapping is in its current state"},"lambda_event_source_mapping_uuid":{"expression":{"references":["aws_lambda_event_source_mapping.this"]},"description":"The UUID of the created event source mapping"},"lambda_function_arn":{"expression":{"references":["aws_lambda_function.this[0].arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The ARN of the Lambda Function"},"lambda_function_invoke_arn":{"expression":{"references":["aws_lambda_function.this[0].invoke_arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The Invoke ARN of the Lambda Function"},"lambda_function_kms_key_arn":{"expression":{"references":["aws_lambda_function.this[0].kms_key_arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The ARN for the KMS encryption key of Lambda Function"},"lambda_function_last_modified":{"expression":{"references":["aws_lambda_function.this[0].last_modified","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The date Lambda Function resource was last modified"},"lambda_function_name":{"expression":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The name of the Lambda Function"},"lambda_function_qualified_arn":{"expression":{"references":["aws_lambda_function.this[0].qualified_arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The ARN identifying your Lambda Function Version"},"lambda_function_signing_job_arn":{"expression":{"references":["aws_lambda_function.this[0].signing_job_arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"ARN of the signing job"},"lambda_function_signing_profile_version_arn":{"expression":{"references":["aws_lambda_function.this[0].signing_profile_version_arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"ARN of the signing profile version"},"lambda_function_source_code_hash":{"expression":{"references":["aws_lambda_function.this[0].source_code_hash","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"Base64-encoded representation of raw SHA-256 sum of the zip file"},"lambda_function_source_code_size":{"expression":{"references":["aws_lambda_function.this[0].source_code_size","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The size in bytes of the function .zip file"},"lambda_function_url":{"expression":{"references":["aws_lambda_function_url.this[0].function_url","aws_lambda_function_url.this[0]","aws_lambda_function_url.this"]},"description":"The URL of the Lambda Function URL"},"lambda_function_url_id":{"expression":{"references":["aws_lambda_function_url.this[0].url_id","aws_lambda_function_url.this[0]","aws_lambda_function_url.this"]},"description":"The Lambda Function URL generated id"},"lambda_function_version":{"expression":{"references":["aws_lambda_function.this[0].version","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"Latest published version of Lambda Function"},"lambda_layer_arn":{"expression":{"references":["aws_lambda_layer_version.this[0].arn","aws_lambda_layer_version.this[0]","aws_lambda_layer_version.this"]},"description":"The ARN of the Lambda Layer with version"},"lambda_layer_created_date":{"expression":{"references":["aws_lambda_layer_version.this[0].created_date","aws_lambda_layer_version.this[0]","aws_lambda_layer_version.this"]},"description":"The date Lambda Layer resource was created"},"lambda_layer_layer_arn":{"expression":{"references":["aws_lambda_layer_version.this[0].layer_arn","aws_lambda_layer_version.this[0]","aws_lambda_layer_version.this"]},"description":"The ARN of the Lambda Layer without version"},"lambda_layer_source_code_size":{"expression":{"references":["aws_lambda_layer_version.this[0].source_code_size","aws_lambda_layer_version.this[0]","aws_lambda_layer_version.this"]},"description":"The size in bytes of the Lambda Layer .zip file"},"lambda_layer_version":{"expression":{"references":["aws_lambda_layer_version.this[0].version","aws_lambda_layer_version.this[0]","aws_lambda_layer_version.this"]},"description":"The Lambda Layer version"},"lambda_role_arn":{"expression":{"references":["aws_iam_role.lambda[0].arn","aws_iam_role.lambda[0]","aws_iam_role.lambda"]},"description":"The ARN of the IAM role created for the Lambda Function"},"lambda_role_name":{"expression":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]},"description":"The name of the IAM role created for the Lambda Function"},"lambda_role_unique_id":{"expression":{"references":["aws_iam_role.lambda[0].unique_id","aws_iam_role.lambda[0]","aws_iam_role.lambda"]},"description":"The unique id of the IAM role created for the Lambda Function"},"local_filename":{"expression":{"references":["local.filename"]},"depends_on":["null_resource.archive"],"description":"The filename of zip archive deployed (if deployment was from local)"},"s3_object":{"expression":{"references":["local.s3_bucket","local.s3_key","local.s3_object_version"]},"description":"The map with S3 object data of zip archive deployed (if deployment was from S3)"}},"resources":[{"address":"aws_cloudwatch_log_group.lambda","mode":"managed","type":"aws_cloudwatch_log_group","name":"lambda","provider_config_key":"aws","expressions":{"kms_key_id":{"references":["var.cloudwatch_logs_kms_key_id"]},"name":{"references":["var.lambda_at_edge","var.function_name"]},"retention_in_days":{"references":["var.cloudwatch_logs_retention_in_days"]},"tags":{"references":["var.tags","var.cloudwatch_logs_tags"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_function","var.create_layer","var.use_existing_cloudwatch_log_group"]}},{"address":"aws_iam_policy.additional_inline","mode":"managed","type":"aws_iam_policy","name":"additional_inline","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy_document.additional_inline[0].json","data.aws_iam_policy_document.additional_inline[0]","data.aws_iam_policy_document.additional_inline"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_statements"]}},{"address":"aws_iam_policy.additional_json","mode":"managed","type":"aws_iam_policy","name":"additional_json","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["var.policy_json"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_json"]}},{"address":"aws_iam_policy.additional_jsons","mode":"managed","type":"aws_iam_policy","name":"additional_jsons","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name","count.index"]},"path":{"references":["var.policy_path"]},"policy":{"references":["var.policy_jsons","count.index"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_jsons","var.number_of_policy_jsons"]}},{"address":"aws_iam_policy.async","mode":"managed","type":"aws_iam_policy","name":"async","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy_document.async[0].json","data.aws_iam_policy_document.async[0]","data.aws_iam_policy_document.async"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_async_event_policy"]}},{"address":"aws_iam_policy.dead_letter","mode":"managed","type":"aws_iam_policy","name":"dead_letter","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy_document.dead_letter[0].json","data.aws_iam_policy_document.dead_letter[0]","data.aws_iam_policy_document.dead_letter"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_dead_letter_policy"]}},{"address":"aws_iam_policy.logs","mode":"managed","type":"aws_iam_policy","name":"logs","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy_document.logs[0].json","data.aws_iam_policy_document.logs[0]","data.aws_iam_policy_document.logs"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_cloudwatch_logs_policy"]}},{"address":"aws_iam_policy.tracing","mode":"managed","type":"aws_iam_policy","name":"tracing","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy.tracing[0].policy","data.aws_iam_policy.tracing[0]","data.aws_iam_policy.tracing"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_tracing_policy"]}},{"address":"aws_iam_policy.vpc","mode":"managed","type":"aws_iam_policy","name":"vpc","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy.vpc[0].policy","data.aws_iam_policy.vpc[0]","data.aws_iam_policy.vpc"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_network_policy"]}},{"address":"aws_iam_role.lambda","mode":"managed","type":"aws_iam_role","name":"lambda","provider_config_key":"aws","expressions":{"assume_role_policy":{"references":["data.aws_iam_policy_document.assume_role[0].json","data.aws_iam_policy_document.assume_role[0]","data.aws_iam_policy_document.assume_role"]},"description":{"references":["var.role_description"]},"force_detach_policies":{"references":["var.role_force_detach_policies"]},"name":{"references":["local.role_name"]},"path":{"references":["var.role_path"]},"permissions_boundary":{"references":["var.role_permissions_boundary"]},"tags":{"references":["var.tags","var.role_tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role"]}},{"address":"aws_iam_role_policy_attachment.additional_inline","mode":"managed","type":"aws_iam_role_policy_attachment","name":"additional_inline","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.additional_inline[0].arn","aws_iam_policy.additional_inline[0]","aws_iam_policy.additional_inline"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_statements"]}},{"address":"aws_iam_role_policy_attachment.additional_json","mode":"managed","type":"aws_iam_role_policy_attachment","name":"additional_json","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.additional_json[0].arn","aws_iam_policy.additional_json[0]","aws_iam_policy.additional_json"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_json"]}},{"address":"aws_iam_role_policy_attachment.additional_jsons","mode":"managed","type":"aws_iam_role_policy_attachment","name":"additional_jsons","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.additional_jsons","count.index"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_jsons","var.number_of_policy_jsons"]}},{"address":"aws_iam_role_policy_attachment.additional_many","mode":"managed","type":"aws_iam_role_policy_attachment","name":"additional_many","provider_config_key":"aws","expressions":{"policy_arn":{"references":["var.policies","count.index"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policies","var.number_of_policies"]}},{"address":"aws_iam_role_policy_attachment.additional_one","mode":"managed","type":"aws_iam_role_policy_attachment","name":"additional_one","provider_config_key":"aws","expressions":{"policy_arn":{"references":["var.policy"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy"]}},{"address":"aws_iam_role_policy_attachment.async","mode":"managed","type":"aws_iam_role_policy_attachment","name":"async","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.async[0].arn","aws_iam_policy.async[0]","aws_iam_policy.async"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_async_event_policy"]}},{"address":"aws_iam_role_policy_attachment.dead_letter","mode":"managed","type":"aws_iam_role_policy_attachment","name":"dead_letter","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.dead_letter[0].arn","aws_iam_policy.dead_letter[0]","aws_iam_policy.dead_letter"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_dead_letter_policy"]}},{"address":"aws_iam_role_policy_attachment.logs","mode":"managed","type":"aws_iam_role_policy_attachment","name":"logs","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.logs[0].arn","aws_iam_policy.logs[0]","aws_iam_policy.logs"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_cloudwatch_logs_policy"]}},{"address":"aws_iam_role_policy_attachment.tracing","mode":"managed","type":"aws_iam_role_policy_attachment","name":"tracing","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.tracing[0].arn","aws_iam_policy.tracing[0]","aws_iam_policy.tracing"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_tracing_policy"]}},{"address":"aws_iam_role_policy_attachment.vpc","mode":"managed","type":"aws_iam_role_policy_attachment","name":"vpc","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.vpc[0].arn","aws_iam_policy.vpc[0]","aws_iam_policy.vpc"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_network_policy"]}},{"address":"aws_lambda_event_source_mapping.this","mode":"managed","type":"aws_lambda_event_source_mapping","name":"this","provider_config_key":"aws","expressions":{"batch_size":{"references":["each.value.batch_size","each.value"]},"bisect_batch_on_function_error":{"references":["each.value.bisect_batch_on_function_error","each.value"]},"enabled":{"references":["each.value.enabled","each.value"]},"event_source_arn":{"references":["each.value.event_source_arn","each.value"]},"function_name":{"references":["aws_lambda_function.this[0].arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"function_response_types":{"references":["each.value.function_response_types","each.value"]},"maximum_batching_window_in_seconds":{"references":["each.value.maximum_batching_window_in_seconds","each.value"]},"maximum_record_age_in_seconds":{"references":["each.value.maximum_record_age_in_seconds","each.value"]},"maximum_retry_attempts":{"references":["each.value.maximum_retry_attempts","each.value"]},"parallelization_factor":{"references":["each.value.parallelization_factor","each.value"]},"queues":{"references":["each.value.queues","each.value"]},"starting_position":{"references":["each.value.starting_position","each.value"]},"starting_position_timestamp":{"references":["each.value.starting_position_timestamp","each.value"]},"topics":{"references":["each.value.topics","each.value"]}},"schema_version":0,"for_each_expression":{"references":["var.event_source_mapping","local.create","var.create_function","var.create_layer","var.create_unqualified_alias_allowed_triggers"]}},{"address":"aws_lambda_function.this","mode":"managed","type":"aws_lambda_function","name":"this","provider_config_key":"aws","expressions":{"architectures":{"references":["var.architectures"]},"code_signing_config_arn":{"references":["var.code_signing_config_arn"]},"description":{"references":["var.description"]},"filename":{"references":["local.filename"]},"function_name":{"references":["var.function_name"]},"handler":{"references":["var.package_type","var.handler"]},"image_uri":{"references":["var.image_uri"]},"kms_key_arn":{"references":["var.kms_key_arn"]},"layers":{"references":["var.layers"]},"memory_size":{"references":["var.memory_size"]},"package_type":{"references":["var.package_type"]},"publish":{"references":["var.lambda_at_edge","var.publish"]},"reserved_concurrent_executions":{"references":["var.reserved_concurrent_executions"]},"role":{"references":["var.create_role","aws_iam_role.lambda[0].arn","aws_iam_role.lambda[0]","aws_iam_role.lambda","var.lambda_role"]},"runtime":{"references":["var.package_type","var.runtime"]},"s3_bucket":{"references":["local.s3_bucket"]},"s3_key":{"references":["local.s3_key"]},"s3_object_version":{"references":["local.s3_object_version"]},"source_code_hash":{"references":["var.ignore_source_code_hash","local.filename","local.filename","local.was_missing","local.filename"]},"tags":{"references":["var.tags"]},"timeout":{"references":["var.lambda_at_edge","var.timeout","var.timeout"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_function","var.create_layer"]},"depends_on":["null_resource.archive","aws_s3_object.lambda_package","aws_cloudwatch_log_group.lambda","aws_iam_role_policy_attachment.additional_inline","aws_iam_role_policy_attachment.additional_json","aws_iam_role_policy_attachment.additional_jsons","aws_iam_role_policy_attachment.additional_many","aws_iam_role_policy_attachment.additional_one","aws_iam_role_policy_attachment.async","aws_iam_role_policy_attachment.logs","aws_iam_role_policy_attachment.dead_letter","aws_iam_role_policy_attachment.vpc","aws_iam_role_policy_attachment.tracing"]},{"address":"aws_lambda_function_event_invoke_config.this","mode":"managed","type":"aws_lambda_function_event_invoke_config","name":"this","provider_config_key":"aws","expressions":{"function_name":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"maximum_event_age_in_seconds":{"references":["var.maximum_event_age_in_seconds"]},"maximum_retry_attempts":{"references":["var.maximum_retry_attempts"]},"qualifier":{"references":["each.key","aws_lambda_function.this[0].version","aws_lambda_function.this[0]","aws_lambda_function.this"]}},"schema_version":0,"for_each_expression":{"references":["local.qualifiers","local.create","var.create_function","var.create_layer","var.create_async_event_config"]}},{"address":"aws_lambda_function_url.this","mode":"managed","type":"aws_lambda_function_url","name":"this","provider_config_key":"aws","expressions":{"authorization_type":{"references":["var.authorization_type"]},"function_name":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"qualifier":{"references":["var.create_unqualified_alias_lambda_function_url","aws_lambda_function.this[0].version","aws_lambda_function.this[0]","aws_lambda_function.this"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_function","var.create_layer","var.create_lambda_function_url"]}},{"address":"aws_lambda_layer_version.this","mode":"managed","type":"aws_lambda_layer_version","name":"this","provider_config_key":"aws","expressions":{"compatible_architectures":{"references":["var.compatible_architectures"]},"compatible_runtimes":{"references":["var.compatible_runtimes","var.compatible_runtimes","var.runtime"]},"description":{"references":["var.description"]},"filename":{"references":["local.filename"]},"layer_name":{"references":["var.layer_name"]},"license_info":{"references":["var.license_info"]},"s3_bucket":{"references":["local.s3_bucket"]},"s3_key":{"references":["local.s3_key"]},"s3_object_version":{"references":["local.s3_object_version"]},"skip_destroy":{"references":["var.layer_skip_destroy"]},"source_code_hash":{"references":["var.ignore_source_code_hash","local.filename","local.filename","local.was_missing","local.filename"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_layer"]},"depends_on":["null_resource.archive","aws_s3_object.lambda_package"]},{"address":"aws_lambda_permission.current_version_triggers","mode":"managed","type":"aws_lambda_permission","name":"current_version_triggers","provider_config_key":"aws","expressions":{"action":{"references":["each.value.action","each.value"]},"event_source_token":{"references":["each.value.event_source_token","each.value"]},"function_name":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"principal":{"references":["each.value.principal","each.value","each.value.service","each.value"]},"qualifier":{"references":["aws_lambda_function.this[0].version","aws_lambda_function.this[0]","aws_lambda_function.this"]},"source_account":{"references":["each.value.source_account","each.value"]},"source_arn":{"references":["each.value.source_arn","each.value"]},"statement_id":{"references":["each.value.statement_id","each.value","each.key"]}},"schema_version":0,"for_each_expression":{"references":["var.allowed_triggers","local.create","var.create_function","var.create_layer","var.create_current_version_allowed_triggers"]}},{"address":"aws_lambda_permission.unqualified_alias_triggers","mode":"managed","type":"aws_lambda_permission","name":"unqualified_alias_triggers","provider_config_key":"aws","expressions":{"action":{"references":["each.value.action","each.value"]},"event_source_token":{"references":["each.value.event_source_token","each.value"]},"function_name":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"principal":{"references":["each.value.principal","each.value","each.value.service","each.value"]},"source_account":{"references":["each.value.source_account","each.value"]},"source_arn":{"references":["each.value.source_arn","each.value"]},"statement_id":{"references":["each.value.statement_id","each.value","each.key"]}},"schema_version":0,"for_each_expression":{"references":["var.allowed_triggers","local.create","var.create_function","var.create_layer","var.create_unqualified_alias_allowed_triggers"]}},{"address":"aws_lambda_provisioned_concurrency_config.current_version","mode":"managed","type":"aws_lambda_provisioned_concurrency_config","name":"current_version","provider_config_key":"aws","expressions":{"function_name":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"provisioned_concurrent_executions":{"references":["var.provisioned_concurrent_executions"]},"qualifier":{"references":["aws_lambda_function.this[0].version","aws_lambda_function.this[0]","aws_lambda_function.this"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_function","var.create_layer","var.provisioned_concurrent_executions"]}},{"address":"aws_s3_object.lambda_package","mode":"managed","type":"aws_s3_object","name":"lambda_package","provider_config_key":"aws","expressions":{"acl":{"references":["var.s3_acl"]},"bucket":{"references":["var.s3_bucket"]},"key":{"references":["local.s3_key"]},"server_side_encryption":{"references":["var.s3_server_side_encryption"]},"source":{"references":["data.external.archive_prepare[0].result.filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]},"storage_class":{"references":["var.s3_object_storage_class"]},"tags":{"references":["var.s3_object_tags_only","var.s3_object_tags","var.tags","var.s3_object_tags"]}},"schema_version":0,"count_expression":{"references":["local.create","var.store_on_s3","var.create_package"]},"depends_on":["null_resource.archive"]},{"address":"local_file.archive_plan","mode":"managed","type":"local_file","name":"archive_plan","provider_config_key":"module.layer11:local","expressions":{"content":{"references":["data.external.archive_prepare[0].result.build_plan","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]},"directory_permission":{"constant_value":"0755"},"file_permission":{"constant_value":"0644"},"filename":{"references":["data.external.archive_prepare[0].result.build_plan_filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]}},"schema_version":0,"count_expression":{"references":["var.create","var.create_package"]}},{"address":"null_resource.archive","mode":"managed","type":"null_resource","name":"archive","provider_config_key":"null","provisioners":[{"type":"local-exec","expressions":{"command":{"references":["data.external.archive_prepare[0].result.build_plan_filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]},"interpreter":{"references":["local.python","path.module","data.external.archive_prepare[0].result.timestamp","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]}}}],"expressions":{"triggers":{"references":["data.external.archive_prepare[0].result.filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare","data.external.archive_prepare[0].result.timestamp","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]}},"schema_version":0,"count_expression":{"references":["var.create","var.create_package"]},"depends_on":["local_file.archive_plan"]},{"address":"null_resource.sam_metadata_aws_lambda_function","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_function","provider_config_key":"null","expressions":{"triggers":{"references":["var.source_path","data.external.archive_prepare[0].result.filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_package","var.create_function","var.create_layer"]},"depends_on":["data.external.archive_prepare","null_resource.archive"]},{"address":"null_resource.sam_metadata_aws_lambda_layer_version","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_layer_version","provider_config_key":"null","expressions":{"triggers":{"references":["var.source_path","data.external.archive_prepare[0].result.filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_package","var.create_layer"]},"depends_on":["data.external.archive_prepare","null_resource.archive"]},{"address":"data.aws_arn.log_group_arn","mode":"data","type":"aws_arn","name":"log_group_arn","provider_config_key":"aws","expressions":{"arn":{"references":["local.log_group_arn_regional"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.lambda_at_edge"]}},{"address":"data.aws_cloudwatch_log_group.lambda","mode":"data","type":"aws_cloudwatch_log_group","name":"lambda","provider_config_key":"aws","expressions":{"name":{"references":["var.lambda_at_edge","var.function_name"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_function","var.create_layer","var.use_existing_cloudwatch_log_group"]}},{"address":"data.aws_iam_policy.tracing","mode":"data","type":"aws_iam_policy","name":"tracing","provider_config_key":"aws","expressions":{"arn":{"references":["data.aws_partition.current.partition","data.aws_partition.current"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_tracing_policy"]}},{"address":"data.aws_iam_policy.vpc","mode":"data","type":"aws_iam_policy","name":"vpc","provider_config_key":"aws","expressions":{"arn":{"references":["data.aws_partition.current.partition","data.aws_partition.current"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_network_policy"]}},{"address":"data.aws_iam_policy_document.additional_inline","mode":"data","type":"aws_iam_policy_document","name":"additional_inline","provider_config_key":"aws","schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_statements"]}},{"address":"data.aws_iam_policy_document.assume_role","mode":"data","type":"aws_iam_policy_document","name":"assume_role","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sts:AssumeRole"]},"effect":{"constant_value":"Allow"},"principals":[{"identifiers":{"references":["local.trusted_entities_services"]},"type":{"constant_value":"Service"}}]}]},"schema_version":0,"count_expression":{"references":["local.create_role"]}},{"address":"data.aws_iam_policy_document.async","mode":"data","type":"aws_iam_policy_document","name":"async","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sns:Publish","sqs:SendMessage","events:PutEvents","lambda:InvokeFunction"]},"effect":{"constant_value":"Allow"},"resources":{"references":["var.destination_on_failure","var.destination_on_success"]}}]},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_async_event_policy"]}},{"address":"data.aws_iam_policy_document.dead_letter","mode":"data","type":"aws_iam_policy_document","name":"dead_letter","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sns:Publish","sqs:SendMessage"]},"effect":{"constant_value":"Allow"},"resources":{"references":["var.dead_letter_target_arn"]}}]},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_dead_letter_policy"]}},{"address":"data.aws_iam_policy_document.logs","mode":"data","type":"aws_iam_policy_document","name":"logs","provider_config_key":"aws","expressions":{"statement":[{"actions":{"references":["var.use_existing_cloudwatch_log_group"]},"effect":{"constant_value":"Allow"},"resources":{"references":["local.log_group_arn"]}}]},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_cloudwatch_logs_policy"]}},{"address":"data.aws_partition.current","mode":"data","type":"aws_partition","name":"current","provider_config_key":"aws","schema_version":0},{"address":"data.external.archive_prepare","mode":"data","type":"external","name":"archive_prepare","provider_config_key":"module.layer11:external","expressions":{"program":{"references":["local.python","path.module"]},"query":{"references":["path.module","path.root","path.cwd","var.build_in_docker","var.docker_pip_cache","var.docker_build_root","var.docker_file","var.docker_image","var.docker_with_ssh_agent","var.docker_additional_options","var.docker_entrypoint","var.artifacts_dir","var.runtime","var.source_path","var.hash_extra","var.recreate_missing_package"]}},"schema_version":0,"count_expression":{"references":["var.create","var.create_package"]}}],"variables":{"allowed_triggers":{"default":{},"description":"Map of allowed triggers to create Lambda permissions"},"architectures":{"default":null,"description":"Instruction set architecture for your Lambda function. Valid values are [\"x86_64\"] and [\"arm64\"]."},"artifacts_dir":{"default":"builds","description":"Directory name where artifacts should be stored"},"assume_role_policy_statements":{"default":{},"description":"Map of dynamic policy statements for assuming Lambda Function role (trust relationship)"},"attach_async_event_policy":{"default":false,"description":"Controls whether async event policy should be added to IAM role for Lambda Function"},"attach_cloudwatch_logs_policy":{"default":true,"description":"Controls whether CloudWatch Logs policy should be added to IAM role for Lambda Function"},"attach_dead_letter_policy":{"default":false,"description":"Controls whether SNS/SQS dead letter notification policy should be added to IAM role for Lambda Function"},"attach_network_policy":{"default":false,"description":"Controls whether VPC/network policy should be added to IAM role for Lambda Function"},"attach_policies":{"default":false,"description":"Controls whether list of policies should be added to IAM role for Lambda Function"},"attach_policy":{"default":false,"description":"Controls whether policy should be added to IAM role for Lambda Function"},"attach_policy_json":{"default":false,"description":"Controls whether policy_json should be added to IAM role for Lambda Function"},"attach_policy_jsons":{"default":false,"description":"Controls whether policy_jsons should be added to IAM role for Lambda Function"},"attach_policy_statements":{"default":false,"description":"Controls whether policy_statements should be added to IAM role for Lambda Function"},"attach_tracing_policy":{"default":false,"description":"Controls whether X-Ray tracing policy should be added to IAM role for Lambda Function"},"authorization_type":{"default":"NONE","description":"The type of authentication that the Lambda Function URL uses. Set to 'AWS_IAM' to restrict access to authenticated IAM users only. Set to 'NONE' to bypass IAM authentication and create a public endpoint."},"build_in_docker":{"default":false,"description":"Whether to build dependencies in Docker"},"cloudwatch_logs_kms_key_id":{"default":null,"description":"The ARN of the KMS Key to use when encrypting log data."},"cloudwatch_logs_retention_in_days":{"default":null,"description":"Specifies the number of days you want to retain log events in the specified log group. Possible values are: 1, 3, 5, 7, 14, 30, 60, 90, 120, 150, 180, 365, 400, 545, 731, 1827, and 3653."},"cloudwatch_logs_tags":{"default":{},"description":"A map of tags to assign to the resource."},"code_signing_config_arn":{"default":null,"description":"Amazon Resource Name (ARN) for a Code Signing Configuration"},"compatible_architectures":{"default":null,"description":"A list of Architectures Lambda layer is compatible with. Currently x86_64 and arm64 can be specified."},"compatible_runtimes":{"default":[],"description":"A list of Runtimes this layer is compatible with. Up to 5 runtimes can be specified."},"cors":{"default":{},"description":"CORS settings to be used by the Lambda Function URL"},"create":{"default":true,"description":"Controls whether resources should be created"},"create_async_event_config":{"default":false,"description":"Controls whether async event configuration for Lambda Function/Alias should be created"},"create_current_version_allowed_triggers":{"default":true,"description":"Whether to allow triggers on current version of Lambda Function (this will revoke permissions from previous version because Terraform manages only current resources)"},"create_current_version_async_event_config":{"default":true,"description":"Whether to allow async event configuration on current version of Lambda Function (this will revoke permissions from previous version because Terraform manages only current resources)"},"create_function":{"default":true,"description":"Controls whether Lambda Function resource should be created"},"create_lambda_function_url":{"default":false,"description":"Controls whether the Lambda Function URL resource should be created"},"create_layer":{"default":false,"description":"Controls whether Lambda Layer resource should be created"},"create_package":{"default":true,"description":"Controls whether Lambda package should be created"},"create_role":{"default":true,"description":"Controls whether IAM role for Lambda Function should be created"},"create_unqualified_alias_allowed_triggers":{"default":true,"description":"Whether to allow triggers on unqualified alias pointing to $LATEST version"},"create_unqualified_alias_async_event_config":{"default":true,"description":"Whether to allow async event configuration on unqualified alias pointing to $LATEST version"},"create_unqualified_alias_lambda_function_url":{"default":true,"description":"Whether to use unqualified alias pointing to $LATEST version in Lambda Function URL"},"dead_letter_target_arn":{"default":null,"description":"The ARN of an SNS topic or SQS queue to notify when an invocation fails."},"description":{"default":"","description":"Description of your Lambda Function (or Layer)"},"destination_on_failure":{"default":null,"description":"Amazon Resource Name (ARN) of the destination resource for failed asynchronous invocations"},"destination_on_success":{"default":null,"description":"Amazon Resource Name (ARN) of the destination resource for successful asynchronous invocations"},"docker_additional_options":{"default":[],"description":"Additional options to pass to the docker run command (e.g. to set environment variables, volumes, etc.)"},"docker_build_root":{"default":"","description":"Root dir where to build in Docker"},"docker_entrypoint":{"default":null,"description":"Path to the Docker entrypoint to use"},"docker_file":{"default":"","description":"Path to a Dockerfile when building in Docker"},"docker_image":{"default":"","description":"Docker image to use for the build"},"docker_pip_cache":{"default":null,"description":"Whether to mount a shared pip cache folder into docker environment or not"},"docker_with_ssh_agent":{"default":false,"description":"Whether to pass SSH_AUTH_SOCK into docker environment or not"},"environment_variables":{"default":{},"description":"A map that defines environment variables for the Lambda Function."},"ephemeral_storage_size":{"default":512,"description":"Amount of ephemeral storage (/tmp) in MB your Lambda Function can use at runtime. Valid value between 512 MB to 10,240 MB (10 GB)."},"event_source_mapping":{"default":{},"description":"Map of event source mapping"},"file_system_arn":{"default":null,"description":"The Amazon Resource Name (ARN) of the Amazon EFS Access Point that provides access to the file system."},"file_system_local_mount_path":{"default":null,"description":"The path where the function can access the file system, starting with /mnt/."},"function_name":{"default":"","description":"A unique name for your Lambda Function"},"handler":{"default":"","description":"Lambda Function entrypoint in your code"},"hash_extra":{"default":"","description":"The string to add into hashing function. Useful when building same source path for different functions."},"ignore_source_code_hash":{"default":false,"description":"Whether to ignore changes to the function's source code hash. Set to true if you manage infrastructure and code deployments separately."},"image_config_command":{"default":[],"description":"The CMD for the docker image"},"image_config_entry_point":{"default":[],"description":"The ENTRYPOINT for the docker image"},"image_config_working_directory":{"default":null,"description":"The working directory for the docker image"},"image_uri":{"default":null,"description":"The ECR image URI containing the function's deployment package."},"kms_key_arn":{"default":null,"description":"The ARN of KMS key to use by your Lambda Function"},"lambda_at_edge":{"default":false,"description":"Set this to true if using Lambda@Edge, to enable publishing, limit the timeout, and allow edgelambda.amazonaws.com to invoke the function"},"lambda_role":{"default":"","description":" IAM role ARN attached to the Lambda Function. This governs both who / what can invoke your Lambda Function, as well as what resources our Lambda Function has access to. See Lambda Permission Model for more details."},"layer_name":{"default":"","description":"Name of Lambda Layer to create"},"layer_skip_destroy":{"default":false,"description":"Whether to retain the old version of a previously deployed Lambda Layer."},"layers":{"default":null,"description":"List of Lambda Layer Version ARNs (maximum of 5) to attach to your Lambda Function."},"license_info":{"default":"","description":"License info for your Lambda Layer. Eg, MIT or full url of a license."},"local_existing_package":{"default":null,"description":"The absolute path to an existing zip-file to use"},"maximum_event_age_in_seconds":{"default":null,"description":"Maximum age of a request that Lambda sends to a function for processing in seconds. Valid values between 60 and 21600."},"maximum_retry_attempts":{"default":null,"description":"Maximum number of times to retry when the function returns an error. Valid values between 0 and 2. Defaults to 2."},"memory_size":{"default":128,"description":"Amount of memory in MB your Lambda Function can use at runtime. Valid value between 128 MB to 10,240 MB (10 GB), in 64 MB increments."},"number_of_policies":{"default":0,"description":"Number of policies to attach to IAM role for Lambda Function"},"number_of_policy_jsons":{"default":0,"description":"Number of policies JSON to attach to IAM role for Lambda Function"},"package_type":{"default":"Zip","description":"The Lambda deployment package type. Valid options: Zip or Image"},"policies":{"default":[],"description":"List of policy statements ARN to attach to Lambda Function role"},"policy":{"default":null,"description":"An additional policy document ARN to attach to the Lambda Function role"},"policy_json":{"default":null,"description":"An additional policy document as JSON to attach to the Lambda Function role"},"policy_jsons":{"default":[],"description":"List of additional policy documents as JSON to attach to Lambda Function role"},"policy_name":{"default":null,"description":"IAM policy name. It override the default value, which is the same as role_name"},"policy_path":{"default":null,"description":"Path of policies to that should be added to IAM role for Lambda Function"},"policy_statements":{"default":{},"description":"Map of dynamic policy statements to attach to Lambda Function role"},"provisioned_concurrent_executions":{"default":-1,"description":"Amount of capacity to allocate. Set to 1 or greater to enable, or set to 0 to disable provisioned concurrency."},"publish":{"default":false,"description":"Whether to publish creation/change as new Lambda Function Version."},"putin_khuylo":{"default":true,"description":"Do you agree that Putin doesn't respect Ukrainian sovereignty and territorial integrity? More info: https://en.wikipedia.org/wiki/Putin_khuylo!"},"recreate_missing_package":{"default":true,"description":"Whether to recreate missing Lambda package if it is missing locally or not"},"reserved_concurrent_executions":{"default":-1,"description":"The amount of reserved concurrent executions for this Lambda Function. A value of 0 disables Lambda Function from being triggered and -1 removes any concurrency limitations. Defaults to Unreserved Concurrency Limits -1."},"role_description":{"default":null,"description":"Description of IAM role to use for Lambda Function"},"role_force_detach_policies":{"default":true,"description":"Specifies to force detaching any policies the IAM role has before destroying it."},"role_name":{"default":null,"description":"Name of IAM role to use for Lambda Function"},"role_path":{"default":null,"description":"Path of IAM role to use for Lambda Function"},"role_permissions_boundary":{"default":null,"description":"The ARN of the policy that is used to set the permissions boundary for the IAM role used by Lambda Function"},"role_tags":{"default":{},"description":"A map of tags to assign to IAM role"},"runtime":{"default":"","description":"Lambda Function runtime"},"s3_acl":{"default":"private","description":"The canned ACL to apply. Valid values are private, public-read, public-read-write, aws-exec-read, authenticated-read, bucket-owner-read, and bucket-owner-full-control. Defaults to private."},"s3_bucket":{"default":null,"description":"S3 bucket to store artifacts"},"s3_existing_package":{"default":null,"description":"The S3 bucket object with keys bucket, key, version pointing to an existing zip-file to use"},"s3_object_storage_class":{"default":"ONEZONE_IA","description":"Specifies the desired Storage Class for the artifact uploaded to S3. Can be either STANDARD, REDUCED_REDUNDANCY, ONEZONE_IA, INTELLIGENT_TIERING, or STANDARD_IA."},"s3_object_tags":{"default":{},"description":"A map of tags to assign to S3 bucket object."},"s3_object_tags_only":{"default":false,"description":"Set to true to not merge tags with s3_object_tags. Useful to avoid breaching S3 Object 10 tag limit."},"s3_prefix":{"default":null,"description":"Directory name where artifacts should be stored in the S3 bucket. If unset, the path from `artifacts_dir` is used"},"s3_server_side_encryption":{"default":null,"description":"Specifies server-side encryption of the object in S3. Valid values are \"AES256\" and \"aws:kms\"."},"source_path":{"default":null,"description":"The absolute path to a local file or directory containing your Lambda source code"},"store_on_s3":{"default":false,"description":"Whether to store produced artifacts on S3 or locally."},"tags":{"default":{},"description":"A map of tags to assign to resources."},"timeout":{"default":3,"description":"The amount of time your Lambda Function has to run in seconds."},"tracing_mode":{"default":null,"description":"Tracing mode of the Lambda Function. Valid value can be either PassThrough or Active."},"trusted_entities":{"default":[],"description":"List of additional trusted entities for assuming Lambda Function role (trust relationship)"},"use_existing_cloudwatch_log_group":{"default":false,"description":"Whether to use an existing CloudWatch log group or create new"},"vpc_security_group_ids":{"default":null,"description":"List of security group ids when Lambda Function should run in the VPC."},"vpc_subnet_ids":{"default":null,"description":"List of subnet ids when Lambda Function should run in the VPC. Usually private or intra subnets."}}},"version_constraint":"4.6.0"},"layer2":{"source":"./lambda_layer","expressions":{"name":{"constant_value":"lambda_layer2"},"source_code":{"references":["local.building_path","local.layer2_artifact_file_name"]}},"module":{"outputs":{"arn":{"expression":{"references":["aws_lambda_layer_version.layer.arn","aws_lambda_layer_version.layer"]}}},"resources":[{"address":"aws_lambda_layer_version.layer","mode":"managed","type":"aws_lambda_layer_version","name":"layer","provider_config_key":"aws","expressions":{"compatible_runtimes":{"constant_value":["python3.8"]},"filename":{"references":["var.source_code"]},"layer_name":{"references":["var.name"]}},"schema_version":0}],"variables":{"name":{},"source_code":{}}},"depends_on":["null_resource.build_layer2_version"]},"layer7":{"source":"terraform-aws-modules/lambda/aws","expressions":{"compatible_runtimes":{"constant_value":["python3.8"]},"create_layer":{"constant_value":true},"layer_name":{"constant_value":"lambda_layer7"},"runtime":{"constant_value":"python3.8"},"source_path":{"references":["local.layer7_src_path"]}},"module":{"outputs":{"lambda_cloudwatch_log_group_arn":{"expression":{"references":["local.log_group_arn"]},"description":"The ARN of the Cloudwatch Log Group"},"lambda_cloudwatch_log_group_name":{"expression":{"references":["local.log_group_name"]},"description":"The name of the Cloudwatch Log Group"},"lambda_event_source_mapping_function_arn":{"expression":{"references":["aws_lambda_event_source_mapping.this"]},"description":"The the ARN of the Lambda function the event source mapping is sending events to"},"lambda_event_source_mapping_state":{"expression":{"references":["aws_lambda_event_source_mapping.this"]},"description":"The state of the event source mapping"},"lambda_event_source_mapping_state_transition_reason":{"expression":{"references":["aws_lambda_event_source_mapping.this"]},"description":"The reason the event source mapping is in its current state"},"lambda_event_source_mapping_uuid":{"expression":{"references":["aws_lambda_event_source_mapping.this"]},"description":"The UUID of the created event source mapping"},"lambda_function_arn":{"expression":{"references":["aws_lambda_function.this[0].arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The ARN of the Lambda Function"},"lambda_function_invoke_arn":{"expression":{"references":["aws_lambda_function.this[0].invoke_arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The Invoke ARN of the Lambda Function"},"lambda_function_kms_key_arn":{"expression":{"references":["aws_lambda_function.this[0].kms_key_arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The ARN for the KMS encryption key of Lambda Function"},"lambda_function_last_modified":{"expression":{"references":["aws_lambda_function.this[0].last_modified","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The date Lambda Function resource was last modified"},"lambda_function_name":{"expression":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The name of the Lambda Function"},"lambda_function_qualified_arn":{"expression":{"references":["aws_lambda_function.this[0].qualified_arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The ARN identifying your Lambda Function Version"},"lambda_function_signing_job_arn":{"expression":{"references":["aws_lambda_function.this[0].signing_job_arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"ARN of the signing job"},"lambda_function_signing_profile_version_arn":{"expression":{"references":["aws_lambda_function.this[0].signing_profile_version_arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"ARN of the signing profile version"},"lambda_function_source_code_hash":{"expression":{"references":["aws_lambda_function.this[0].source_code_hash","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"Base64-encoded representation of raw SHA-256 sum of the zip file"},"lambda_function_source_code_size":{"expression":{"references":["aws_lambda_function.this[0].source_code_size","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The size in bytes of the function .zip file"},"lambda_function_url":{"expression":{"references":["aws_lambda_function_url.this[0].function_url","aws_lambda_function_url.this[0]","aws_lambda_function_url.this"]},"description":"The URL of the Lambda Function URL"},"lambda_function_url_id":{"expression":{"references":["aws_lambda_function_url.this[0].url_id","aws_lambda_function_url.this[0]","aws_lambda_function_url.this"]},"description":"The Lambda Function URL generated id"},"lambda_function_version":{"expression":{"references":["aws_lambda_function.this[0].version","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"Latest published version of Lambda Function"},"lambda_layer_arn":{"expression":{"references":["aws_lambda_layer_version.this[0].arn","aws_lambda_layer_version.this[0]","aws_lambda_layer_version.this"]},"description":"The ARN of the Lambda Layer with version"},"lambda_layer_created_date":{"expression":{"references":["aws_lambda_layer_version.this[0].created_date","aws_lambda_layer_version.this[0]","aws_lambda_layer_version.this"]},"description":"The date Lambda Layer resource was created"},"lambda_layer_layer_arn":{"expression":{"references":["aws_lambda_layer_version.this[0].layer_arn","aws_lambda_layer_version.this[0]","aws_lambda_layer_version.this"]},"description":"The ARN of the Lambda Layer without version"},"lambda_layer_source_code_size":{"expression":{"references":["aws_lambda_layer_version.this[0].source_code_size","aws_lambda_layer_version.this[0]","aws_lambda_layer_version.this"]},"description":"The size in bytes of the Lambda Layer .zip file"},"lambda_layer_version":{"expression":{"references":["aws_lambda_layer_version.this[0].version","aws_lambda_layer_version.this[0]","aws_lambda_layer_version.this"]},"description":"The Lambda Layer version"},"lambda_role_arn":{"expression":{"references":["aws_iam_role.lambda[0].arn","aws_iam_role.lambda[0]","aws_iam_role.lambda"]},"description":"The ARN of the IAM role created for the Lambda Function"},"lambda_role_name":{"expression":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]},"description":"The name of the IAM role created for the Lambda Function"},"lambda_role_unique_id":{"expression":{"references":["aws_iam_role.lambda[0].unique_id","aws_iam_role.lambda[0]","aws_iam_role.lambda"]},"description":"The unique id of the IAM role created for the Lambda Function"},"local_filename":{"expression":{"references":["local.filename"]},"depends_on":["null_resource.archive"],"description":"The filename of zip archive deployed (if deployment was from local)"},"s3_object":{"expression":{"references":["local.s3_bucket","local.s3_key","local.s3_object_version"]},"description":"The map with S3 object data of zip archive deployed (if deployment was from S3)"}},"resources":[{"address":"aws_cloudwatch_log_group.lambda","mode":"managed","type":"aws_cloudwatch_log_group","name":"lambda","provider_config_key":"aws","expressions":{"kms_key_id":{"references":["var.cloudwatch_logs_kms_key_id"]},"name":{"references":["var.lambda_at_edge","var.function_name"]},"retention_in_days":{"references":["var.cloudwatch_logs_retention_in_days"]},"tags":{"references":["var.tags","var.cloudwatch_logs_tags"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_function","var.create_layer","var.use_existing_cloudwatch_log_group"]}},{"address":"aws_iam_policy.additional_inline","mode":"managed","type":"aws_iam_policy","name":"additional_inline","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy_document.additional_inline[0].json","data.aws_iam_policy_document.additional_inline[0]","data.aws_iam_policy_document.additional_inline"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_statements"]}},{"address":"aws_iam_policy.additional_json","mode":"managed","type":"aws_iam_policy","name":"additional_json","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["var.policy_json"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_json"]}},{"address":"aws_iam_policy.additional_jsons","mode":"managed","type":"aws_iam_policy","name":"additional_jsons","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name","count.index"]},"path":{"references":["var.policy_path"]},"policy":{"references":["var.policy_jsons","count.index"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_jsons","var.number_of_policy_jsons"]}},{"address":"aws_iam_policy.async","mode":"managed","type":"aws_iam_policy","name":"async","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy_document.async[0].json","data.aws_iam_policy_document.async[0]","data.aws_iam_policy_document.async"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_async_event_policy"]}},{"address":"aws_iam_policy.dead_letter","mode":"managed","type":"aws_iam_policy","name":"dead_letter","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy_document.dead_letter[0].json","data.aws_iam_policy_document.dead_letter[0]","data.aws_iam_policy_document.dead_letter"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_dead_letter_policy"]}},{"address":"aws_iam_policy.logs","mode":"managed","type":"aws_iam_policy","name":"logs","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy_document.logs[0].json","data.aws_iam_policy_document.logs[0]","data.aws_iam_policy_document.logs"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_cloudwatch_logs_policy"]}},{"address":"aws_iam_policy.tracing","mode":"managed","type":"aws_iam_policy","name":"tracing","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy.tracing[0].policy","data.aws_iam_policy.tracing[0]","data.aws_iam_policy.tracing"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_tracing_policy"]}},{"address":"aws_iam_policy.vpc","mode":"managed","type":"aws_iam_policy","name":"vpc","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy.vpc[0].policy","data.aws_iam_policy.vpc[0]","data.aws_iam_policy.vpc"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_network_policy"]}},{"address":"aws_iam_role.lambda","mode":"managed","type":"aws_iam_role","name":"lambda","provider_config_key":"aws","expressions":{"assume_role_policy":{"references":["data.aws_iam_policy_document.assume_role[0].json","data.aws_iam_policy_document.assume_role[0]","data.aws_iam_policy_document.assume_role"]},"description":{"references":["var.role_description"]},"force_detach_policies":{"references":["var.role_force_detach_policies"]},"name":{"references":["local.role_name"]},"path":{"references":["var.role_path"]},"permissions_boundary":{"references":["var.role_permissions_boundary"]},"tags":{"references":["var.tags","var.role_tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role"]}},{"address":"aws_iam_role_policy_attachment.additional_inline","mode":"managed","type":"aws_iam_role_policy_attachment","name":"additional_inline","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.additional_inline[0].arn","aws_iam_policy.additional_inline[0]","aws_iam_policy.additional_inline"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_statements"]}},{"address":"aws_iam_role_policy_attachment.additional_json","mode":"managed","type":"aws_iam_role_policy_attachment","name":"additional_json","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.additional_json[0].arn","aws_iam_policy.additional_json[0]","aws_iam_policy.additional_json"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_json"]}},{"address":"aws_iam_role_policy_attachment.additional_jsons","mode":"managed","type":"aws_iam_role_policy_attachment","name":"additional_jsons","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.additional_jsons","count.index"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_jsons","var.number_of_policy_jsons"]}},{"address":"aws_iam_role_policy_attachment.additional_many","mode":"managed","type":"aws_iam_role_policy_attachment","name":"additional_many","provider_config_key":"aws","expressions":{"policy_arn":{"references":["var.policies","count.index"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policies","var.number_of_policies"]}},{"address":"aws_iam_role_policy_attachment.additional_one","mode":"managed","type":"aws_iam_role_policy_attachment","name":"additional_one","provider_config_key":"aws","expressions":{"policy_arn":{"references":["var.policy"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy"]}},{"address":"aws_iam_role_policy_attachment.async","mode":"managed","type":"aws_iam_role_policy_attachment","name":"async","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.async[0].arn","aws_iam_policy.async[0]","aws_iam_policy.async"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_async_event_policy"]}},{"address":"aws_iam_role_policy_attachment.dead_letter","mode":"managed","type":"aws_iam_role_policy_attachment","name":"dead_letter","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.dead_letter[0].arn","aws_iam_policy.dead_letter[0]","aws_iam_policy.dead_letter"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_dead_letter_policy"]}},{"address":"aws_iam_role_policy_attachment.logs","mode":"managed","type":"aws_iam_role_policy_attachment","name":"logs","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.logs[0].arn","aws_iam_policy.logs[0]","aws_iam_policy.logs"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_cloudwatch_logs_policy"]}},{"address":"aws_iam_role_policy_attachment.tracing","mode":"managed","type":"aws_iam_role_policy_attachment","name":"tracing","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.tracing[0].arn","aws_iam_policy.tracing[0]","aws_iam_policy.tracing"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_tracing_policy"]}},{"address":"aws_iam_role_policy_attachment.vpc","mode":"managed","type":"aws_iam_role_policy_attachment","name":"vpc","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.vpc[0].arn","aws_iam_policy.vpc[0]","aws_iam_policy.vpc"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_network_policy"]}},{"address":"aws_lambda_event_source_mapping.this","mode":"managed","type":"aws_lambda_event_source_mapping","name":"this","provider_config_key":"aws","expressions":{"batch_size":{"references":["each.value.batch_size","each.value"]},"bisect_batch_on_function_error":{"references":["each.value.bisect_batch_on_function_error","each.value"]},"enabled":{"references":["each.value.enabled","each.value"]},"event_source_arn":{"references":["each.value.event_source_arn","each.value"]},"function_name":{"references":["aws_lambda_function.this[0].arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"function_response_types":{"references":["each.value.function_response_types","each.value"]},"maximum_batching_window_in_seconds":{"references":["each.value.maximum_batching_window_in_seconds","each.value"]},"maximum_record_age_in_seconds":{"references":["each.value.maximum_record_age_in_seconds","each.value"]},"maximum_retry_attempts":{"references":["each.value.maximum_retry_attempts","each.value"]},"parallelization_factor":{"references":["each.value.parallelization_factor","each.value"]},"queues":{"references":["each.value.queues","each.value"]},"starting_position":{"references":["each.value.starting_position","each.value"]},"starting_position_timestamp":{"references":["each.value.starting_position_timestamp","each.value"]},"topics":{"references":["each.value.topics","each.value"]}},"schema_version":0,"for_each_expression":{"references":["var.event_source_mapping","local.create","var.create_function","var.create_layer","var.create_unqualified_alias_allowed_triggers"]}},{"address":"aws_lambda_function.this","mode":"managed","type":"aws_lambda_function","name":"this","provider_config_key":"aws","expressions":{"architectures":{"references":["var.architectures"]},"code_signing_config_arn":{"references":["var.code_signing_config_arn"]},"description":{"references":["var.description"]},"filename":{"references":["local.filename"]},"function_name":{"references":["var.function_name"]},"handler":{"references":["var.package_type","var.handler"]},"image_uri":{"references":["var.image_uri"]},"kms_key_arn":{"references":["var.kms_key_arn"]},"layers":{"references":["var.layers"]},"memory_size":{"references":["var.memory_size"]},"package_type":{"references":["var.package_type"]},"publish":{"references":["var.lambda_at_edge","var.publish"]},"reserved_concurrent_executions":{"references":["var.reserved_concurrent_executions"]},"role":{"references":["var.create_role","aws_iam_role.lambda[0].arn","aws_iam_role.lambda[0]","aws_iam_role.lambda","var.lambda_role"]},"runtime":{"references":["var.package_type","var.runtime"]},"s3_bucket":{"references":["local.s3_bucket"]},"s3_key":{"references":["local.s3_key"]},"s3_object_version":{"references":["local.s3_object_version"]},"source_code_hash":{"references":["var.ignore_source_code_hash","local.filename","local.filename","local.was_missing","local.filename"]},"tags":{"references":["var.tags"]},"timeout":{"references":["var.lambda_at_edge","var.timeout","var.timeout"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_function","var.create_layer"]},"depends_on":["null_resource.archive","aws_s3_object.lambda_package","aws_cloudwatch_log_group.lambda","aws_iam_role_policy_attachment.additional_inline","aws_iam_role_policy_attachment.additional_json","aws_iam_role_policy_attachment.additional_jsons","aws_iam_role_policy_attachment.additional_many","aws_iam_role_policy_attachment.additional_one","aws_iam_role_policy_attachment.async","aws_iam_role_policy_attachment.logs","aws_iam_role_policy_attachment.dead_letter","aws_iam_role_policy_attachment.vpc","aws_iam_role_policy_attachment.tracing"]},{"address":"aws_lambda_function_event_invoke_config.this","mode":"managed","type":"aws_lambda_function_event_invoke_config","name":"this","provider_config_key":"aws","expressions":{"function_name":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"maximum_event_age_in_seconds":{"references":["var.maximum_event_age_in_seconds"]},"maximum_retry_attempts":{"references":["var.maximum_retry_attempts"]},"qualifier":{"references":["each.key","aws_lambda_function.this[0].version","aws_lambda_function.this[0]","aws_lambda_function.this"]}},"schema_version":0,"for_each_expression":{"references":["local.qualifiers","local.create","var.create_function","var.create_layer","var.create_async_event_config"]}},{"address":"aws_lambda_function_url.this","mode":"managed","type":"aws_lambda_function_url","name":"this","provider_config_key":"aws","expressions":{"authorization_type":{"references":["var.authorization_type"]},"function_name":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"qualifier":{"references":["var.create_unqualified_alias_lambda_function_url","aws_lambda_function.this[0].version","aws_lambda_function.this[0]","aws_lambda_function.this"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_function","var.create_layer","var.create_lambda_function_url"]}},{"address":"aws_lambda_layer_version.this","mode":"managed","type":"aws_lambda_layer_version","name":"this","provider_config_key":"aws","expressions":{"compatible_architectures":{"references":["var.compatible_architectures"]},"compatible_runtimes":{"references":["var.compatible_runtimes","var.compatible_runtimes","var.runtime"]},"description":{"references":["var.description"]},"filename":{"references":["local.filename"]},"layer_name":{"references":["var.layer_name"]},"license_info":{"references":["var.license_info"]},"s3_bucket":{"references":["local.s3_bucket"]},"s3_key":{"references":["local.s3_key"]},"s3_object_version":{"references":["local.s3_object_version"]},"skip_destroy":{"references":["var.layer_skip_destroy"]},"source_code_hash":{"references":["var.ignore_source_code_hash","local.filename","local.filename","local.was_missing","local.filename"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_layer"]},"depends_on":["null_resource.archive","aws_s3_object.lambda_package"]},{"address":"aws_lambda_permission.current_version_triggers","mode":"managed","type":"aws_lambda_permission","name":"current_version_triggers","provider_config_key":"aws","expressions":{"action":{"references":["each.value.action","each.value"]},"event_source_token":{"references":["each.value.event_source_token","each.value"]},"function_name":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"principal":{"references":["each.value.principal","each.value","each.value.service","each.value"]},"qualifier":{"references":["aws_lambda_function.this[0].version","aws_lambda_function.this[0]","aws_lambda_function.this"]},"source_account":{"references":["each.value.source_account","each.value"]},"source_arn":{"references":["each.value.source_arn","each.value"]},"statement_id":{"references":["each.value.statement_id","each.value","each.key"]}},"schema_version":0,"for_each_expression":{"references":["var.allowed_triggers","local.create","var.create_function","var.create_layer","var.create_current_version_allowed_triggers"]}},{"address":"aws_lambda_permission.unqualified_alias_triggers","mode":"managed","type":"aws_lambda_permission","name":"unqualified_alias_triggers","provider_config_key":"aws","expressions":{"action":{"references":["each.value.action","each.value"]},"event_source_token":{"references":["each.value.event_source_token","each.value"]},"function_name":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"principal":{"references":["each.value.principal","each.value","each.value.service","each.value"]},"source_account":{"references":["each.value.source_account","each.value"]},"source_arn":{"references":["each.value.source_arn","each.value"]},"statement_id":{"references":["each.value.statement_id","each.value","each.key"]}},"schema_version":0,"for_each_expression":{"references":["var.allowed_triggers","local.create","var.create_function","var.create_layer","var.create_unqualified_alias_allowed_triggers"]}},{"address":"aws_lambda_provisioned_concurrency_config.current_version","mode":"managed","type":"aws_lambda_provisioned_concurrency_config","name":"current_version","provider_config_key":"aws","expressions":{"function_name":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"provisioned_concurrent_executions":{"references":["var.provisioned_concurrent_executions"]},"qualifier":{"references":["aws_lambda_function.this[0].version","aws_lambda_function.this[0]","aws_lambda_function.this"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_function","var.create_layer","var.provisioned_concurrent_executions"]}},{"address":"aws_s3_object.lambda_package","mode":"managed","type":"aws_s3_object","name":"lambda_package","provider_config_key":"aws","expressions":{"acl":{"references":["var.s3_acl"]},"bucket":{"references":["var.s3_bucket"]},"key":{"references":["local.s3_key"]},"server_side_encryption":{"references":["var.s3_server_side_encryption"]},"source":{"references":["data.external.archive_prepare[0].result.filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]},"storage_class":{"references":["var.s3_object_storage_class"]},"tags":{"references":["var.s3_object_tags_only","var.s3_object_tags","var.tags","var.s3_object_tags"]}},"schema_version":0,"count_expression":{"references":["local.create","var.store_on_s3","var.create_package"]},"depends_on":["null_resource.archive"]},{"address":"local_file.archive_plan","mode":"managed","type":"local_file","name":"archive_plan","provider_config_key":"module.layer7:local","expressions":{"content":{"references":["data.external.archive_prepare[0].result.build_plan","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]},"directory_permission":{"constant_value":"0755"},"file_permission":{"constant_value":"0644"},"filename":{"references":["data.external.archive_prepare[0].result.build_plan_filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]}},"schema_version":0,"count_expression":{"references":["var.create","var.create_package"]}},{"address":"null_resource.archive","mode":"managed","type":"null_resource","name":"archive","provider_config_key":"null","provisioners":[{"type":"local-exec","expressions":{"command":{"references":["data.external.archive_prepare[0].result.build_plan_filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]},"interpreter":{"references":["local.python","path.module","data.external.archive_prepare[0].result.timestamp","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]}}}],"expressions":{"triggers":{"references":["data.external.archive_prepare[0].result.filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare","data.external.archive_prepare[0].result.timestamp","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]}},"schema_version":0,"count_expression":{"references":["var.create","var.create_package"]},"depends_on":["local_file.archive_plan"]},{"address":"null_resource.sam_metadata_aws_lambda_function","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_function","provider_config_key":"null","expressions":{"triggers":{"references":["var.source_path","data.external.archive_prepare[0].result.filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_package","var.create_function","var.create_layer"]},"depends_on":["data.external.archive_prepare","null_resource.archive"]},{"address":"null_resource.sam_metadata_aws_lambda_layer_version","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_layer_version","provider_config_key":"null","expressions":{"triggers":{"references":["var.source_path","data.external.archive_prepare[0].result.filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_package","var.create_layer"]},"depends_on":["data.external.archive_prepare","null_resource.archive"]},{"address":"data.aws_arn.log_group_arn","mode":"data","type":"aws_arn","name":"log_group_arn","provider_config_key":"aws","expressions":{"arn":{"references":["local.log_group_arn_regional"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.lambda_at_edge"]}},{"address":"data.aws_cloudwatch_log_group.lambda","mode":"data","type":"aws_cloudwatch_log_group","name":"lambda","provider_config_key":"aws","expressions":{"name":{"references":["var.lambda_at_edge","var.function_name"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_function","var.create_layer","var.use_existing_cloudwatch_log_group"]}},{"address":"data.aws_iam_policy.tracing","mode":"data","type":"aws_iam_policy","name":"tracing","provider_config_key":"aws","expressions":{"arn":{"references":["data.aws_partition.current.partition","data.aws_partition.current"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_tracing_policy"]}},{"address":"data.aws_iam_policy.vpc","mode":"data","type":"aws_iam_policy","name":"vpc","provider_config_key":"aws","expressions":{"arn":{"references":["data.aws_partition.current.partition","data.aws_partition.current"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_network_policy"]}},{"address":"data.aws_iam_policy_document.additional_inline","mode":"data","type":"aws_iam_policy_document","name":"additional_inline","provider_config_key":"aws","schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_statements"]}},{"address":"data.aws_iam_policy_document.assume_role","mode":"data","type":"aws_iam_policy_document","name":"assume_role","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sts:AssumeRole"]},"effect":{"constant_value":"Allow"},"principals":[{"identifiers":{"references":["local.trusted_entities_services"]},"type":{"constant_value":"Service"}}]}]},"schema_version":0,"count_expression":{"references":["local.create_role"]}},{"address":"data.aws_iam_policy_document.async","mode":"data","type":"aws_iam_policy_document","name":"async","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sns:Publish","sqs:SendMessage","events:PutEvents","lambda:InvokeFunction"]},"effect":{"constant_value":"Allow"},"resources":{"references":["var.destination_on_failure","var.destination_on_success"]}}]},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_async_event_policy"]}},{"address":"data.aws_iam_policy_document.dead_letter","mode":"data","type":"aws_iam_policy_document","name":"dead_letter","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sns:Publish","sqs:SendMessage"]},"effect":{"constant_value":"Allow"},"resources":{"references":["var.dead_letter_target_arn"]}}]},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_dead_letter_policy"]}},{"address":"data.aws_iam_policy_document.logs","mode":"data","type":"aws_iam_policy_document","name":"logs","provider_config_key":"aws","expressions":{"statement":[{"actions":{"references":["var.use_existing_cloudwatch_log_group"]},"effect":{"constant_value":"Allow"},"resources":{"references":["local.log_group_arn"]}}]},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_cloudwatch_logs_policy"]}},{"address":"data.aws_partition.current","mode":"data","type":"aws_partition","name":"current","provider_config_key":"aws","schema_version":0},{"address":"data.external.archive_prepare","mode":"data","type":"external","name":"archive_prepare","provider_config_key":"module.layer7:external","expressions":{"program":{"references":["local.python","path.module"]},"query":{"references":["path.module","path.root","path.cwd","var.build_in_docker","var.docker_pip_cache","var.docker_build_root","var.docker_file","var.docker_image","var.docker_with_ssh_agent","var.docker_additional_options","var.docker_entrypoint","var.artifacts_dir","var.runtime","var.source_path","var.hash_extra","var.recreate_missing_package"]}},"schema_version":0,"count_expression":{"references":["var.create","var.create_package"]}}],"variables":{"allowed_triggers":{"default":{},"description":"Map of allowed triggers to create Lambda permissions"},"architectures":{"default":null,"description":"Instruction set architecture for your Lambda function. Valid values are [\"x86_64\"] and [\"arm64\"]."},"artifacts_dir":{"default":"builds","description":"Directory name where artifacts should be stored"},"assume_role_policy_statements":{"default":{},"description":"Map of dynamic policy statements for assuming Lambda Function role (trust relationship)"},"attach_async_event_policy":{"default":false,"description":"Controls whether async event policy should be added to IAM role for Lambda Function"},"attach_cloudwatch_logs_policy":{"default":true,"description":"Controls whether CloudWatch Logs policy should be added to IAM role for Lambda Function"},"attach_dead_letter_policy":{"default":false,"description":"Controls whether SNS/SQS dead letter notification policy should be added to IAM role for Lambda Function"},"attach_network_policy":{"default":false,"description":"Controls whether VPC/network policy should be added to IAM role for Lambda Function"},"attach_policies":{"default":false,"description":"Controls whether list of policies should be added to IAM role for Lambda Function"},"attach_policy":{"default":false,"description":"Controls whether policy should be added to IAM role for Lambda Function"},"attach_policy_json":{"default":false,"description":"Controls whether policy_json should be added to IAM role for Lambda Function"},"attach_policy_jsons":{"default":false,"description":"Controls whether policy_jsons should be added to IAM role for Lambda Function"},"attach_policy_statements":{"default":false,"description":"Controls whether policy_statements should be added to IAM role for Lambda Function"},"attach_tracing_policy":{"default":false,"description":"Controls whether X-Ray tracing policy should be added to IAM role for Lambda Function"},"authorization_type":{"default":"NONE","description":"The type of authentication that the Lambda Function URL uses. Set to 'AWS_IAM' to restrict access to authenticated IAM users only. Set to 'NONE' to bypass IAM authentication and create a public endpoint."},"build_in_docker":{"default":false,"description":"Whether to build dependencies in Docker"},"cloudwatch_logs_kms_key_id":{"default":null,"description":"The ARN of the KMS Key to use when encrypting log data."},"cloudwatch_logs_retention_in_days":{"default":null,"description":"Specifies the number of days you want to retain log events in the specified log group. Possible values are: 1, 3, 5, 7, 14, 30, 60, 90, 120, 150, 180, 365, 400, 545, 731, 1827, and 3653."},"cloudwatch_logs_tags":{"default":{},"description":"A map of tags to assign to the resource."},"code_signing_config_arn":{"default":null,"description":"Amazon Resource Name (ARN) for a Code Signing Configuration"},"compatible_architectures":{"default":null,"description":"A list of Architectures Lambda layer is compatible with. Currently x86_64 and arm64 can be specified."},"compatible_runtimes":{"default":[],"description":"A list of Runtimes this layer is compatible with. Up to 5 runtimes can be specified."},"cors":{"default":{},"description":"CORS settings to be used by the Lambda Function URL"},"create":{"default":true,"description":"Controls whether resources should be created"},"create_async_event_config":{"default":false,"description":"Controls whether async event configuration for Lambda Function/Alias should be created"},"create_current_version_allowed_triggers":{"default":true,"description":"Whether to allow triggers on current version of Lambda Function (this will revoke permissions from previous version because Terraform manages only current resources)"},"create_current_version_async_event_config":{"default":true,"description":"Whether to allow async event configuration on current version of Lambda Function (this will revoke permissions from previous version because Terraform manages only current resources)"},"create_function":{"default":true,"description":"Controls whether Lambda Function resource should be created"},"create_lambda_function_url":{"default":false,"description":"Controls whether the Lambda Function URL resource should be created"},"create_layer":{"default":false,"description":"Controls whether Lambda Layer resource should be created"},"create_package":{"default":true,"description":"Controls whether Lambda package should be created"},"create_role":{"default":true,"description":"Controls whether IAM role for Lambda Function should be created"},"create_unqualified_alias_allowed_triggers":{"default":true,"description":"Whether to allow triggers on unqualified alias pointing to $LATEST version"},"create_unqualified_alias_async_event_config":{"default":true,"description":"Whether to allow async event configuration on unqualified alias pointing to $LATEST version"},"create_unqualified_alias_lambda_function_url":{"default":true,"description":"Whether to use unqualified alias pointing to $LATEST version in Lambda Function URL"},"dead_letter_target_arn":{"default":null,"description":"The ARN of an SNS topic or SQS queue to notify when an invocation fails."},"description":{"default":"","description":"Description of your Lambda Function (or Layer)"},"destination_on_failure":{"default":null,"description":"Amazon Resource Name (ARN) of the destination resource for failed asynchronous invocations"},"destination_on_success":{"default":null,"description":"Amazon Resource Name (ARN) of the destination resource for successful asynchronous invocations"},"docker_additional_options":{"default":[],"description":"Additional options to pass to the docker run command (e.g. to set environment variables, volumes, etc.)"},"docker_build_root":{"default":"","description":"Root dir where to build in Docker"},"docker_entrypoint":{"default":null,"description":"Path to the Docker entrypoint to use"},"docker_file":{"default":"","description":"Path to a Dockerfile when building in Docker"},"docker_image":{"default":"","description":"Docker image to use for the build"},"docker_pip_cache":{"default":null,"description":"Whether to mount a shared pip cache folder into docker environment or not"},"docker_with_ssh_agent":{"default":false,"description":"Whether to pass SSH_AUTH_SOCK into docker environment or not"},"environment_variables":{"default":{},"description":"A map that defines environment variables for the Lambda Function."},"ephemeral_storage_size":{"default":512,"description":"Amount of ephemeral storage (/tmp) in MB your Lambda Function can use at runtime. Valid value between 512 MB to 10,240 MB (10 GB)."},"event_source_mapping":{"default":{},"description":"Map of event source mapping"},"file_system_arn":{"default":null,"description":"The Amazon Resource Name (ARN) of the Amazon EFS Access Point that provides access to the file system."},"file_system_local_mount_path":{"default":null,"description":"The path where the function can access the file system, starting with /mnt/."},"function_name":{"default":"","description":"A unique name for your Lambda Function"},"handler":{"default":"","description":"Lambda Function entrypoint in your code"},"hash_extra":{"default":"","description":"The string to add into hashing function. Useful when building same source path for different functions."},"ignore_source_code_hash":{"default":false,"description":"Whether to ignore changes to the function's source code hash. Set to true if you manage infrastructure and code deployments separately."},"image_config_command":{"default":[],"description":"The CMD for the docker image"},"image_config_entry_point":{"default":[],"description":"The ENTRYPOINT for the docker image"},"image_config_working_directory":{"default":null,"description":"The working directory for the docker image"},"image_uri":{"default":null,"description":"The ECR image URI containing the function's deployment package."},"kms_key_arn":{"default":null,"description":"The ARN of KMS key to use by your Lambda Function"},"lambda_at_edge":{"default":false,"description":"Set this to true if using Lambda@Edge, to enable publishing, limit the timeout, and allow edgelambda.amazonaws.com to invoke the function"},"lambda_role":{"default":"","description":" IAM role ARN attached to the Lambda Function. This governs both who / what can invoke your Lambda Function, as well as what resources our Lambda Function has access to. See Lambda Permission Model for more details."},"layer_name":{"default":"","description":"Name of Lambda Layer to create"},"layer_skip_destroy":{"default":false,"description":"Whether to retain the old version of a previously deployed Lambda Layer."},"layers":{"default":null,"description":"List of Lambda Layer Version ARNs (maximum of 5) to attach to your Lambda Function."},"license_info":{"default":"","description":"License info for your Lambda Layer. Eg, MIT or full url of a license."},"local_existing_package":{"default":null,"description":"The absolute path to an existing zip-file to use"},"maximum_event_age_in_seconds":{"default":null,"description":"Maximum age of a request that Lambda sends to a function for processing in seconds. Valid values between 60 and 21600."},"maximum_retry_attempts":{"default":null,"description":"Maximum number of times to retry when the function returns an error. Valid values between 0 and 2. Defaults to 2."},"memory_size":{"default":128,"description":"Amount of memory in MB your Lambda Function can use at runtime. Valid value between 128 MB to 10,240 MB (10 GB), in 64 MB increments."},"number_of_policies":{"default":0,"description":"Number of policies to attach to IAM role for Lambda Function"},"number_of_policy_jsons":{"default":0,"description":"Number of policies JSON to attach to IAM role for Lambda Function"},"package_type":{"default":"Zip","description":"The Lambda deployment package type. Valid options: Zip or Image"},"policies":{"default":[],"description":"List of policy statements ARN to attach to Lambda Function role"},"policy":{"default":null,"description":"An additional policy document ARN to attach to the Lambda Function role"},"policy_json":{"default":null,"description":"An additional policy document as JSON to attach to the Lambda Function role"},"policy_jsons":{"default":[],"description":"List of additional policy documents as JSON to attach to Lambda Function role"},"policy_name":{"default":null,"description":"IAM policy name. It override the default value, which is the same as role_name"},"policy_path":{"default":null,"description":"Path of policies to that should be added to IAM role for Lambda Function"},"policy_statements":{"default":{},"description":"Map of dynamic policy statements to attach to Lambda Function role"},"provisioned_concurrent_executions":{"default":-1,"description":"Amount of capacity to allocate. Set to 1 or greater to enable, or set to 0 to disable provisioned concurrency."},"publish":{"default":false,"description":"Whether to publish creation/change as new Lambda Function Version."},"putin_khuylo":{"default":true,"description":"Do you agree that Putin doesn't respect Ukrainian sovereignty and territorial integrity? More info: https://en.wikipedia.org/wiki/Putin_khuylo!"},"recreate_missing_package":{"default":true,"description":"Whether to recreate missing Lambda package if it is missing locally or not"},"reserved_concurrent_executions":{"default":-1,"description":"The amount of reserved concurrent executions for this Lambda Function. A value of 0 disables Lambda Function from being triggered and -1 removes any concurrency limitations. Defaults to Unreserved Concurrency Limits -1."},"role_description":{"default":null,"description":"Description of IAM role to use for Lambda Function"},"role_force_detach_policies":{"default":true,"description":"Specifies to force detaching any policies the IAM role has before destroying it."},"role_name":{"default":null,"description":"Name of IAM role to use for Lambda Function"},"role_path":{"default":null,"description":"Path of IAM role to use for Lambda Function"},"role_permissions_boundary":{"default":null,"description":"The ARN of the policy that is used to set the permissions boundary for the IAM role used by Lambda Function"},"role_tags":{"default":{},"description":"A map of tags to assign to IAM role"},"runtime":{"default":"","description":"Lambda Function runtime"},"s3_acl":{"default":"private","description":"The canned ACL to apply. Valid values are private, public-read, public-read-write, aws-exec-read, authenticated-read, bucket-owner-read, and bucket-owner-full-control. Defaults to private."},"s3_bucket":{"default":null,"description":"S3 bucket to store artifacts"},"s3_existing_package":{"default":null,"description":"The S3 bucket object with keys bucket, key, version pointing to an existing zip-file to use"},"s3_object_storage_class":{"default":"ONEZONE_IA","description":"Specifies the desired Storage Class for the artifact uploaded to S3. Can be either STANDARD, REDUCED_REDUNDANCY, ONEZONE_IA, INTELLIGENT_TIERING, or STANDARD_IA."},"s3_object_tags":{"default":{},"description":"A map of tags to assign to S3 bucket object."},"s3_object_tags_only":{"default":false,"description":"Set to true to not merge tags with s3_object_tags. Useful to avoid breaching S3 Object 10 tag limit."},"s3_prefix":{"default":null,"description":"Directory name where artifacts should be stored in the S3 bucket. If unset, the path from `artifacts_dir` is used"},"s3_server_side_encryption":{"default":null,"description":"Specifies server-side encryption of the object in S3. Valid values are \"AES256\" and \"aws:kms\"."},"source_path":{"default":null,"description":"The absolute path to a local file or directory containing your Lambda source code"},"store_on_s3":{"default":false,"description":"Whether to store produced artifacts on S3 or locally."},"tags":{"default":{},"description":"A map of tags to assign to resources."},"timeout":{"default":3,"description":"The amount of time your Lambda Function has to run in seconds."},"tracing_mode":{"default":null,"description":"Tracing mode of the Lambda Function. Valid value can be either PassThrough or Active."},"trusted_entities":{"default":[],"description":"List of additional trusted entities for assuming Lambda Function role (trust relationship)"},"use_existing_cloudwatch_log_group":{"default":false,"description":"Whether to use an existing CloudWatch log group or create new"},"vpc_security_group_ids":{"default":null,"description":"List of security group ids when Lambda Function should run in the VPC."},"vpc_subnet_ids":{"default":null,"description":"List of subnet ids when Lambda Function should run in the VPC. Usually private or intra subnets."}}},"version_constraint":"4.6.0"},"layer8":{"source":"terraform-aws-modules/lambda/aws","expressions":{"compatible_runtimes":{"constant_value":["python3.8"]},"create_layer":{"constant_value":true},"layer_name":{"constant_value":"lambda_layer8"},"runtime":{"constant_value":"python3.8"},"s3_bucket":{"constant_value":"existing_s3_bucket"},"source_path":{"references":["local.layer8_src_path"]},"store_on_s3":{"constant_value":true}},"module":{"outputs":{"lambda_cloudwatch_log_group_arn":{"expression":{"references":["local.log_group_arn"]},"description":"The ARN of the Cloudwatch Log Group"},"lambda_cloudwatch_log_group_name":{"expression":{"references":["local.log_group_name"]},"description":"The name of the Cloudwatch Log Group"},"lambda_event_source_mapping_function_arn":{"expression":{"references":["aws_lambda_event_source_mapping.this"]},"description":"The the ARN of the Lambda function the event source mapping is sending events to"},"lambda_event_source_mapping_state":{"expression":{"references":["aws_lambda_event_source_mapping.this"]},"description":"The state of the event source mapping"},"lambda_event_source_mapping_state_transition_reason":{"expression":{"references":["aws_lambda_event_source_mapping.this"]},"description":"The reason the event source mapping is in its current state"},"lambda_event_source_mapping_uuid":{"expression":{"references":["aws_lambda_event_source_mapping.this"]},"description":"The UUID of the created event source mapping"},"lambda_function_arn":{"expression":{"references":["aws_lambda_function.this[0].arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The ARN of the Lambda Function"},"lambda_function_invoke_arn":{"expression":{"references":["aws_lambda_function.this[0].invoke_arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The Invoke ARN of the Lambda Function"},"lambda_function_kms_key_arn":{"expression":{"references":["aws_lambda_function.this[0].kms_key_arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The ARN for the KMS encryption key of Lambda Function"},"lambda_function_last_modified":{"expression":{"references":["aws_lambda_function.this[0].last_modified","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The date Lambda Function resource was last modified"},"lambda_function_name":{"expression":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The name of the Lambda Function"},"lambda_function_qualified_arn":{"expression":{"references":["aws_lambda_function.this[0].qualified_arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The ARN identifying your Lambda Function Version"},"lambda_function_signing_job_arn":{"expression":{"references":["aws_lambda_function.this[0].signing_job_arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"ARN of the signing job"},"lambda_function_signing_profile_version_arn":{"expression":{"references":["aws_lambda_function.this[0].signing_profile_version_arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"ARN of the signing profile version"},"lambda_function_source_code_hash":{"expression":{"references":["aws_lambda_function.this[0].source_code_hash","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"Base64-encoded representation of raw SHA-256 sum of the zip file"},"lambda_function_source_code_size":{"expression":{"references":["aws_lambda_function.this[0].source_code_size","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The size in bytes of the function .zip file"},"lambda_function_url":{"expression":{"references":["aws_lambda_function_url.this[0].function_url","aws_lambda_function_url.this[0]","aws_lambda_function_url.this"]},"description":"The URL of the Lambda Function URL"},"lambda_function_url_id":{"expression":{"references":["aws_lambda_function_url.this[0].url_id","aws_lambda_function_url.this[0]","aws_lambda_function_url.this"]},"description":"The Lambda Function URL generated id"},"lambda_function_version":{"expression":{"references":["aws_lambda_function.this[0].version","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"Latest published version of Lambda Function"},"lambda_layer_arn":{"expression":{"references":["aws_lambda_layer_version.this[0].arn","aws_lambda_layer_version.this[0]","aws_lambda_layer_version.this"]},"description":"The ARN of the Lambda Layer with version"},"lambda_layer_created_date":{"expression":{"references":["aws_lambda_layer_version.this[0].created_date","aws_lambda_layer_version.this[0]","aws_lambda_layer_version.this"]},"description":"The date Lambda Layer resource was created"},"lambda_layer_layer_arn":{"expression":{"references":["aws_lambda_layer_version.this[0].layer_arn","aws_lambda_layer_version.this[0]","aws_lambda_layer_version.this"]},"description":"The ARN of the Lambda Layer without version"},"lambda_layer_source_code_size":{"expression":{"references":["aws_lambda_layer_version.this[0].source_code_size","aws_lambda_layer_version.this[0]","aws_lambda_layer_version.this"]},"description":"The size in bytes of the Lambda Layer .zip file"},"lambda_layer_version":{"expression":{"references":["aws_lambda_layer_version.this[0].version","aws_lambda_layer_version.this[0]","aws_lambda_layer_version.this"]},"description":"The Lambda Layer version"},"lambda_role_arn":{"expression":{"references":["aws_iam_role.lambda[0].arn","aws_iam_role.lambda[0]","aws_iam_role.lambda"]},"description":"The ARN of the IAM role created for the Lambda Function"},"lambda_role_name":{"expression":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]},"description":"The name of the IAM role created for the Lambda Function"},"lambda_role_unique_id":{"expression":{"references":["aws_iam_role.lambda[0].unique_id","aws_iam_role.lambda[0]","aws_iam_role.lambda"]},"description":"The unique id of the IAM role created for the Lambda Function"},"local_filename":{"expression":{"references":["local.filename"]},"depends_on":["null_resource.archive"],"description":"The filename of zip archive deployed (if deployment was from local)"},"s3_object":{"expression":{"references":["local.s3_bucket","local.s3_key","local.s3_object_version"]},"description":"The map with S3 object data of zip archive deployed (if deployment was from S3)"}},"resources":[{"address":"aws_cloudwatch_log_group.lambda","mode":"managed","type":"aws_cloudwatch_log_group","name":"lambda","provider_config_key":"aws","expressions":{"kms_key_id":{"references":["var.cloudwatch_logs_kms_key_id"]},"name":{"references":["var.lambda_at_edge","var.function_name"]},"retention_in_days":{"references":["var.cloudwatch_logs_retention_in_days"]},"tags":{"references":["var.tags","var.cloudwatch_logs_tags"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_function","var.create_layer","var.use_existing_cloudwatch_log_group"]}},{"address":"aws_iam_policy.additional_inline","mode":"managed","type":"aws_iam_policy","name":"additional_inline","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy_document.additional_inline[0].json","data.aws_iam_policy_document.additional_inline[0]","data.aws_iam_policy_document.additional_inline"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_statements"]}},{"address":"aws_iam_policy.additional_json","mode":"managed","type":"aws_iam_policy","name":"additional_json","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["var.policy_json"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_json"]}},{"address":"aws_iam_policy.additional_jsons","mode":"managed","type":"aws_iam_policy","name":"additional_jsons","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name","count.index"]},"path":{"references":["var.policy_path"]},"policy":{"references":["var.policy_jsons","count.index"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_jsons","var.number_of_policy_jsons"]}},{"address":"aws_iam_policy.async","mode":"managed","type":"aws_iam_policy","name":"async","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy_document.async[0].json","data.aws_iam_policy_document.async[0]","data.aws_iam_policy_document.async"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_async_event_policy"]}},{"address":"aws_iam_policy.dead_letter","mode":"managed","type":"aws_iam_policy","name":"dead_letter","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy_document.dead_letter[0].json","data.aws_iam_policy_document.dead_letter[0]","data.aws_iam_policy_document.dead_letter"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_dead_letter_policy"]}},{"address":"aws_iam_policy.logs","mode":"managed","type":"aws_iam_policy","name":"logs","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy_document.logs[0].json","data.aws_iam_policy_document.logs[0]","data.aws_iam_policy_document.logs"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_cloudwatch_logs_policy"]}},{"address":"aws_iam_policy.tracing","mode":"managed","type":"aws_iam_policy","name":"tracing","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy.tracing[0].policy","data.aws_iam_policy.tracing[0]","data.aws_iam_policy.tracing"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_tracing_policy"]}},{"address":"aws_iam_policy.vpc","mode":"managed","type":"aws_iam_policy","name":"vpc","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy.vpc[0].policy","data.aws_iam_policy.vpc[0]","data.aws_iam_policy.vpc"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_network_policy"]}},{"address":"aws_iam_role.lambda","mode":"managed","type":"aws_iam_role","name":"lambda","provider_config_key":"aws","expressions":{"assume_role_policy":{"references":["data.aws_iam_policy_document.assume_role[0].json","data.aws_iam_policy_document.assume_role[0]","data.aws_iam_policy_document.assume_role"]},"description":{"references":["var.role_description"]},"force_detach_policies":{"references":["var.role_force_detach_policies"]},"name":{"references":["local.role_name"]},"path":{"references":["var.role_path"]},"permissions_boundary":{"references":["var.role_permissions_boundary"]},"tags":{"references":["var.tags","var.role_tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role"]}},{"address":"aws_iam_role_policy_attachment.additional_inline","mode":"managed","type":"aws_iam_role_policy_attachment","name":"additional_inline","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.additional_inline[0].arn","aws_iam_policy.additional_inline[0]","aws_iam_policy.additional_inline"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_statements"]}},{"address":"aws_iam_role_policy_attachment.additional_json","mode":"managed","type":"aws_iam_role_policy_attachment","name":"additional_json","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.additional_json[0].arn","aws_iam_policy.additional_json[0]","aws_iam_policy.additional_json"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_json"]}},{"address":"aws_iam_role_policy_attachment.additional_jsons","mode":"managed","type":"aws_iam_role_policy_attachment","name":"additional_jsons","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.additional_jsons","count.index"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_jsons","var.number_of_policy_jsons"]}},{"address":"aws_iam_role_policy_attachment.additional_many","mode":"managed","type":"aws_iam_role_policy_attachment","name":"additional_many","provider_config_key":"aws","expressions":{"policy_arn":{"references":["var.policies","count.index"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policies","var.number_of_policies"]}},{"address":"aws_iam_role_policy_attachment.additional_one","mode":"managed","type":"aws_iam_role_policy_attachment","name":"additional_one","provider_config_key":"aws","expressions":{"policy_arn":{"references":["var.policy"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy"]}},{"address":"aws_iam_role_policy_attachment.async","mode":"managed","type":"aws_iam_role_policy_attachment","name":"async","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.async[0].arn","aws_iam_policy.async[0]","aws_iam_policy.async"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_async_event_policy"]}},{"address":"aws_iam_role_policy_attachment.dead_letter","mode":"managed","type":"aws_iam_role_policy_attachment","name":"dead_letter","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.dead_letter[0].arn","aws_iam_policy.dead_letter[0]","aws_iam_policy.dead_letter"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_dead_letter_policy"]}},{"address":"aws_iam_role_policy_attachment.logs","mode":"managed","type":"aws_iam_role_policy_attachment","name":"logs","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.logs[0].arn","aws_iam_policy.logs[0]","aws_iam_policy.logs"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_cloudwatch_logs_policy"]}},{"address":"aws_iam_role_policy_attachment.tracing","mode":"managed","type":"aws_iam_role_policy_attachment","name":"tracing","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.tracing[0].arn","aws_iam_policy.tracing[0]","aws_iam_policy.tracing"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_tracing_policy"]}},{"address":"aws_iam_role_policy_attachment.vpc","mode":"managed","type":"aws_iam_role_policy_attachment","name":"vpc","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.vpc[0].arn","aws_iam_policy.vpc[0]","aws_iam_policy.vpc"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_network_policy"]}},{"address":"aws_lambda_event_source_mapping.this","mode":"managed","type":"aws_lambda_event_source_mapping","name":"this","provider_config_key":"aws","expressions":{"batch_size":{"references":["each.value.batch_size","each.value"]},"bisect_batch_on_function_error":{"references":["each.value.bisect_batch_on_function_error","each.value"]},"enabled":{"references":["each.value.enabled","each.value"]},"event_source_arn":{"references":["each.value.event_source_arn","each.value"]},"function_name":{"references":["aws_lambda_function.this[0].arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"function_response_types":{"references":["each.value.function_response_types","each.value"]},"maximum_batching_window_in_seconds":{"references":["each.value.maximum_batching_window_in_seconds","each.value"]},"maximum_record_age_in_seconds":{"references":["each.value.maximum_record_age_in_seconds","each.value"]},"maximum_retry_attempts":{"references":["each.value.maximum_retry_attempts","each.value"]},"parallelization_factor":{"references":["each.value.parallelization_factor","each.value"]},"queues":{"references":["each.value.queues","each.value"]},"starting_position":{"references":["each.value.starting_position","each.value"]},"starting_position_timestamp":{"references":["each.value.starting_position_timestamp","each.value"]},"topics":{"references":["each.value.topics","each.value"]}},"schema_version":0,"for_each_expression":{"references":["var.event_source_mapping","local.create","var.create_function","var.create_layer","var.create_unqualified_alias_allowed_triggers"]}},{"address":"aws_lambda_function.this","mode":"managed","type":"aws_lambda_function","name":"this","provider_config_key":"aws","expressions":{"architectures":{"references":["var.architectures"]},"code_signing_config_arn":{"references":["var.code_signing_config_arn"]},"description":{"references":["var.description"]},"filename":{"references":["local.filename"]},"function_name":{"references":["var.function_name"]},"handler":{"references":["var.package_type","var.handler"]},"image_uri":{"references":["var.image_uri"]},"kms_key_arn":{"references":["var.kms_key_arn"]},"layers":{"references":["var.layers"]},"memory_size":{"references":["var.memory_size"]},"package_type":{"references":["var.package_type"]},"publish":{"references":["var.lambda_at_edge","var.publish"]},"reserved_concurrent_executions":{"references":["var.reserved_concurrent_executions"]},"role":{"references":["var.create_role","aws_iam_role.lambda[0].arn","aws_iam_role.lambda[0]","aws_iam_role.lambda","var.lambda_role"]},"runtime":{"references":["var.package_type","var.runtime"]},"s3_bucket":{"references":["local.s3_bucket"]},"s3_key":{"references":["local.s3_key"]},"s3_object_version":{"references":["local.s3_object_version"]},"source_code_hash":{"references":["var.ignore_source_code_hash","local.filename","local.filename","local.was_missing","local.filename"]},"tags":{"references":["var.tags"]},"timeout":{"references":["var.lambda_at_edge","var.timeout","var.timeout"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_function","var.create_layer"]},"depends_on":["null_resource.archive","aws_s3_object.lambda_package","aws_cloudwatch_log_group.lambda","aws_iam_role_policy_attachment.additional_inline","aws_iam_role_policy_attachment.additional_json","aws_iam_role_policy_attachment.additional_jsons","aws_iam_role_policy_attachment.additional_many","aws_iam_role_policy_attachment.additional_one","aws_iam_role_policy_attachment.async","aws_iam_role_policy_attachment.logs","aws_iam_role_policy_attachment.dead_letter","aws_iam_role_policy_attachment.vpc","aws_iam_role_policy_attachment.tracing"]},{"address":"aws_lambda_function_event_invoke_config.this","mode":"managed","type":"aws_lambda_function_event_invoke_config","name":"this","provider_config_key":"aws","expressions":{"function_name":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"maximum_event_age_in_seconds":{"references":["var.maximum_event_age_in_seconds"]},"maximum_retry_attempts":{"references":["var.maximum_retry_attempts"]},"qualifier":{"references":["each.key","aws_lambda_function.this[0].version","aws_lambda_function.this[0]","aws_lambda_function.this"]}},"schema_version":0,"for_each_expression":{"references":["local.qualifiers","local.create","var.create_function","var.create_layer","var.create_async_event_config"]}},{"address":"aws_lambda_function_url.this","mode":"managed","type":"aws_lambda_function_url","name":"this","provider_config_key":"aws","expressions":{"authorization_type":{"references":["var.authorization_type"]},"function_name":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"qualifier":{"references":["var.create_unqualified_alias_lambda_function_url","aws_lambda_function.this[0].version","aws_lambda_function.this[0]","aws_lambda_function.this"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_function","var.create_layer","var.create_lambda_function_url"]}},{"address":"aws_lambda_layer_version.this","mode":"managed","type":"aws_lambda_layer_version","name":"this","provider_config_key":"aws","expressions":{"compatible_architectures":{"references":["var.compatible_architectures"]},"compatible_runtimes":{"references":["var.compatible_runtimes","var.compatible_runtimes","var.runtime"]},"description":{"references":["var.description"]},"filename":{"references":["local.filename"]},"layer_name":{"references":["var.layer_name"]},"license_info":{"references":["var.license_info"]},"s3_bucket":{"references":["local.s3_bucket"]},"s3_key":{"references":["local.s3_key"]},"s3_object_version":{"references":["local.s3_object_version"]},"skip_destroy":{"references":["var.layer_skip_destroy"]},"source_code_hash":{"references":["var.ignore_source_code_hash","local.filename","local.filename","local.was_missing","local.filename"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_layer"]},"depends_on":["null_resource.archive","aws_s3_object.lambda_package"]},{"address":"aws_lambda_permission.current_version_triggers","mode":"managed","type":"aws_lambda_permission","name":"current_version_triggers","provider_config_key":"aws","expressions":{"action":{"references":["each.value.action","each.value"]},"event_source_token":{"references":["each.value.event_source_token","each.value"]},"function_name":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"principal":{"references":["each.value.principal","each.value","each.value.service","each.value"]},"qualifier":{"references":["aws_lambda_function.this[0].version","aws_lambda_function.this[0]","aws_lambda_function.this"]},"source_account":{"references":["each.value.source_account","each.value"]},"source_arn":{"references":["each.value.source_arn","each.value"]},"statement_id":{"references":["each.value.statement_id","each.value","each.key"]}},"schema_version":0,"for_each_expression":{"references":["var.allowed_triggers","local.create","var.create_function","var.create_layer","var.create_current_version_allowed_triggers"]}},{"address":"aws_lambda_permission.unqualified_alias_triggers","mode":"managed","type":"aws_lambda_permission","name":"unqualified_alias_triggers","provider_config_key":"aws","expressions":{"action":{"references":["each.value.action","each.value"]},"event_source_token":{"references":["each.value.event_source_token","each.value"]},"function_name":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"principal":{"references":["each.value.principal","each.value","each.value.service","each.value"]},"source_account":{"references":["each.value.source_account","each.value"]},"source_arn":{"references":["each.value.source_arn","each.value"]},"statement_id":{"references":["each.value.statement_id","each.value","each.key"]}},"schema_version":0,"for_each_expression":{"references":["var.allowed_triggers","local.create","var.create_function","var.create_layer","var.create_unqualified_alias_allowed_triggers"]}},{"address":"aws_lambda_provisioned_concurrency_config.current_version","mode":"managed","type":"aws_lambda_provisioned_concurrency_config","name":"current_version","provider_config_key":"aws","expressions":{"function_name":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"provisioned_concurrent_executions":{"references":["var.provisioned_concurrent_executions"]},"qualifier":{"references":["aws_lambda_function.this[0].version","aws_lambda_function.this[0]","aws_lambda_function.this"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_function","var.create_layer","var.provisioned_concurrent_executions"]}},{"address":"aws_s3_object.lambda_package","mode":"managed","type":"aws_s3_object","name":"lambda_package","provider_config_key":"aws","expressions":{"acl":{"references":["var.s3_acl"]},"bucket":{"references":["var.s3_bucket"]},"key":{"references":["local.s3_key"]},"server_side_encryption":{"references":["var.s3_server_side_encryption"]},"source":{"references":["data.external.archive_prepare[0].result.filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]},"storage_class":{"references":["var.s3_object_storage_class"]},"tags":{"references":["var.s3_object_tags_only","var.s3_object_tags","var.tags","var.s3_object_tags"]}},"schema_version":0,"count_expression":{"references":["local.create","var.store_on_s3","var.create_package"]},"depends_on":["null_resource.archive"]},{"address":"local_file.archive_plan","mode":"managed","type":"local_file","name":"archive_plan","provider_config_key":"module.layer8:local","expressions":{"content":{"references":["data.external.archive_prepare[0].result.build_plan","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]},"directory_permission":{"constant_value":"0755"},"file_permission":{"constant_value":"0644"},"filename":{"references":["data.external.archive_prepare[0].result.build_plan_filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]}},"schema_version":0,"count_expression":{"references":["var.create","var.create_package"]}},{"address":"null_resource.archive","mode":"managed","type":"null_resource","name":"archive","provider_config_key":"null","provisioners":[{"type":"local-exec","expressions":{"command":{"references":["data.external.archive_prepare[0].result.build_plan_filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]},"interpreter":{"references":["local.python","path.module","data.external.archive_prepare[0].result.timestamp","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]}}}],"expressions":{"triggers":{"references":["data.external.archive_prepare[0].result.filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare","data.external.archive_prepare[0].result.timestamp","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]}},"schema_version":0,"count_expression":{"references":["var.create","var.create_package"]},"depends_on":["local_file.archive_plan"]},{"address":"null_resource.sam_metadata_aws_lambda_function","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_function","provider_config_key":"null","expressions":{"triggers":{"references":["var.source_path","data.external.archive_prepare[0].result.filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_package","var.create_function","var.create_layer"]},"depends_on":["data.external.archive_prepare","null_resource.archive"]},{"address":"null_resource.sam_metadata_aws_lambda_layer_version","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_layer_version","provider_config_key":"null","expressions":{"triggers":{"references":["var.source_path","data.external.archive_prepare[0].result.filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_package","var.create_layer"]},"depends_on":["data.external.archive_prepare","null_resource.archive"]},{"address":"data.aws_arn.log_group_arn","mode":"data","type":"aws_arn","name":"log_group_arn","provider_config_key":"aws","expressions":{"arn":{"references":["local.log_group_arn_regional"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.lambda_at_edge"]}},{"address":"data.aws_cloudwatch_log_group.lambda","mode":"data","type":"aws_cloudwatch_log_group","name":"lambda","provider_config_key":"aws","expressions":{"name":{"references":["var.lambda_at_edge","var.function_name"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_function","var.create_layer","var.use_existing_cloudwatch_log_group"]}},{"address":"data.aws_iam_policy.tracing","mode":"data","type":"aws_iam_policy","name":"tracing","provider_config_key":"aws","expressions":{"arn":{"references":["data.aws_partition.current.partition","data.aws_partition.current"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_tracing_policy"]}},{"address":"data.aws_iam_policy.vpc","mode":"data","type":"aws_iam_policy","name":"vpc","provider_config_key":"aws","expressions":{"arn":{"references":["data.aws_partition.current.partition","data.aws_partition.current"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_network_policy"]}},{"address":"data.aws_iam_policy_document.additional_inline","mode":"data","type":"aws_iam_policy_document","name":"additional_inline","provider_config_key":"aws","schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_statements"]}},{"address":"data.aws_iam_policy_document.assume_role","mode":"data","type":"aws_iam_policy_document","name":"assume_role","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sts:AssumeRole"]},"effect":{"constant_value":"Allow"},"principals":[{"identifiers":{"references":["local.trusted_entities_services"]},"type":{"constant_value":"Service"}}]}]},"schema_version":0,"count_expression":{"references":["local.create_role"]}},{"address":"data.aws_iam_policy_document.async","mode":"data","type":"aws_iam_policy_document","name":"async","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sns:Publish","sqs:SendMessage","events:PutEvents","lambda:InvokeFunction"]},"effect":{"constant_value":"Allow"},"resources":{"references":["var.destination_on_failure","var.destination_on_success"]}}]},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_async_event_policy"]}},{"address":"data.aws_iam_policy_document.dead_letter","mode":"data","type":"aws_iam_policy_document","name":"dead_letter","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sns:Publish","sqs:SendMessage"]},"effect":{"constant_value":"Allow"},"resources":{"references":["var.dead_letter_target_arn"]}}]},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_dead_letter_policy"]}},{"address":"data.aws_iam_policy_document.logs","mode":"data","type":"aws_iam_policy_document","name":"logs","provider_config_key":"aws","expressions":{"statement":[{"actions":{"references":["var.use_existing_cloudwatch_log_group"]},"effect":{"constant_value":"Allow"},"resources":{"references":["local.log_group_arn"]}}]},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_cloudwatch_logs_policy"]}},{"address":"data.aws_partition.current","mode":"data","type":"aws_partition","name":"current","provider_config_key":"aws","schema_version":0},{"address":"data.external.archive_prepare","mode":"data","type":"external","name":"archive_prepare","provider_config_key":"module.layer8:external","expressions":{"program":{"references":["local.python","path.module"]},"query":{"references":["path.module","path.root","path.cwd","var.build_in_docker","var.docker_pip_cache","var.docker_build_root","var.docker_file","var.docker_image","var.docker_with_ssh_agent","var.docker_additional_options","var.docker_entrypoint","var.artifacts_dir","var.runtime","var.source_path","var.hash_extra","var.recreate_missing_package"]}},"schema_version":0,"count_expression":{"references":["var.create","var.create_package"]}}],"variables":{"allowed_triggers":{"default":{},"description":"Map of allowed triggers to create Lambda permissions"},"architectures":{"default":null,"description":"Instruction set architecture for your Lambda function. Valid values are [\"x86_64\"] and [\"arm64\"]."},"artifacts_dir":{"default":"builds","description":"Directory name where artifacts should be stored"},"assume_role_policy_statements":{"default":{},"description":"Map of dynamic policy statements for assuming Lambda Function role (trust relationship)"},"attach_async_event_policy":{"default":false,"description":"Controls whether async event policy should be added to IAM role for Lambda Function"},"attach_cloudwatch_logs_policy":{"default":true,"description":"Controls whether CloudWatch Logs policy should be added to IAM role for Lambda Function"},"attach_dead_letter_policy":{"default":false,"description":"Controls whether SNS/SQS dead letter notification policy should be added to IAM role for Lambda Function"},"attach_network_policy":{"default":false,"description":"Controls whether VPC/network policy should be added to IAM role for Lambda Function"},"attach_policies":{"default":false,"description":"Controls whether list of policies should be added to IAM role for Lambda Function"},"attach_policy":{"default":false,"description":"Controls whether policy should be added to IAM role for Lambda Function"},"attach_policy_json":{"default":false,"description":"Controls whether policy_json should be added to IAM role for Lambda Function"},"attach_policy_jsons":{"default":false,"description":"Controls whether policy_jsons should be added to IAM role for Lambda Function"},"attach_policy_statements":{"default":false,"description":"Controls whether policy_statements should be added to IAM role for Lambda Function"},"attach_tracing_policy":{"default":false,"description":"Controls whether X-Ray tracing policy should be added to IAM role for Lambda Function"},"authorization_type":{"default":"NONE","description":"The type of authentication that the Lambda Function URL uses. Set to 'AWS_IAM' to restrict access to authenticated IAM users only. Set to 'NONE' to bypass IAM authentication and create a public endpoint."},"build_in_docker":{"default":false,"description":"Whether to build dependencies in Docker"},"cloudwatch_logs_kms_key_id":{"default":null,"description":"The ARN of the KMS Key to use when encrypting log data."},"cloudwatch_logs_retention_in_days":{"default":null,"description":"Specifies the number of days you want to retain log events in the specified log group. Possible values are: 1, 3, 5, 7, 14, 30, 60, 90, 120, 150, 180, 365, 400, 545, 731, 1827, and 3653."},"cloudwatch_logs_tags":{"default":{},"description":"A map of tags to assign to the resource."},"code_signing_config_arn":{"default":null,"description":"Amazon Resource Name (ARN) for a Code Signing Configuration"},"compatible_architectures":{"default":null,"description":"A list of Architectures Lambda layer is compatible with. Currently x86_64 and arm64 can be specified."},"compatible_runtimes":{"default":[],"description":"A list of Runtimes this layer is compatible with. Up to 5 runtimes can be specified."},"cors":{"default":{},"description":"CORS settings to be used by the Lambda Function URL"},"create":{"default":true,"description":"Controls whether resources should be created"},"create_async_event_config":{"default":false,"description":"Controls whether async event configuration for Lambda Function/Alias should be created"},"create_current_version_allowed_triggers":{"default":true,"description":"Whether to allow triggers on current version of Lambda Function (this will revoke permissions from previous version because Terraform manages only current resources)"},"create_current_version_async_event_config":{"default":true,"description":"Whether to allow async event configuration on current version of Lambda Function (this will revoke permissions from previous version because Terraform manages only current resources)"},"create_function":{"default":true,"description":"Controls whether Lambda Function resource should be created"},"create_lambda_function_url":{"default":false,"description":"Controls whether the Lambda Function URL resource should be created"},"create_layer":{"default":false,"description":"Controls whether Lambda Layer resource should be created"},"create_package":{"default":true,"description":"Controls whether Lambda package should be created"},"create_role":{"default":true,"description":"Controls whether IAM role for Lambda Function should be created"},"create_unqualified_alias_allowed_triggers":{"default":true,"description":"Whether to allow triggers on unqualified alias pointing to $LATEST version"},"create_unqualified_alias_async_event_config":{"default":true,"description":"Whether to allow async event configuration on unqualified alias pointing to $LATEST version"},"create_unqualified_alias_lambda_function_url":{"default":true,"description":"Whether to use unqualified alias pointing to $LATEST version in Lambda Function URL"},"dead_letter_target_arn":{"default":null,"description":"The ARN of an SNS topic or SQS queue to notify when an invocation fails."},"description":{"default":"","description":"Description of your Lambda Function (or Layer)"},"destination_on_failure":{"default":null,"description":"Amazon Resource Name (ARN) of the destination resource for failed asynchronous invocations"},"destination_on_success":{"default":null,"description":"Amazon Resource Name (ARN) of the destination resource for successful asynchronous invocations"},"docker_additional_options":{"default":[],"description":"Additional options to pass to the docker run command (e.g. to set environment variables, volumes, etc.)"},"docker_build_root":{"default":"","description":"Root dir where to build in Docker"},"docker_entrypoint":{"default":null,"description":"Path to the Docker entrypoint to use"},"docker_file":{"default":"","description":"Path to a Dockerfile when building in Docker"},"docker_image":{"default":"","description":"Docker image to use for the build"},"docker_pip_cache":{"default":null,"description":"Whether to mount a shared pip cache folder into docker environment or not"},"docker_with_ssh_agent":{"default":false,"description":"Whether to pass SSH_AUTH_SOCK into docker environment or not"},"environment_variables":{"default":{},"description":"A map that defines environment variables for the Lambda Function."},"ephemeral_storage_size":{"default":512,"description":"Amount of ephemeral storage (/tmp) in MB your Lambda Function can use at runtime. Valid value between 512 MB to 10,240 MB (10 GB)."},"event_source_mapping":{"default":{},"description":"Map of event source mapping"},"file_system_arn":{"default":null,"description":"The Amazon Resource Name (ARN) of the Amazon EFS Access Point that provides access to the file system."},"file_system_local_mount_path":{"default":null,"description":"The path where the function can access the file system, starting with /mnt/."},"function_name":{"default":"","description":"A unique name for your Lambda Function"},"handler":{"default":"","description":"Lambda Function entrypoint in your code"},"hash_extra":{"default":"","description":"The string to add into hashing function. Useful when building same source path for different functions."},"ignore_source_code_hash":{"default":false,"description":"Whether to ignore changes to the function's source code hash. Set to true if you manage infrastructure and code deployments separately."},"image_config_command":{"default":[],"description":"The CMD for the docker image"},"image_config_entry_point":{"default":[],"description":"The ENTRYPOINT for the docker image"},"image_config_working_directory":{"default":null,"description":"The working directory for the docker image"},"image_uri":{"default":null,"description":"The ECR image URI containing the function's deployment package."},"kms_key_arn":{"default":null,"description":"The ARN of KMS key to use by your Lambda Function"},"lambda_at_edge":{"default":false,"description":"Set this to true if using Lambda@Edge, to enable publishing, limit the timeout, and allow edgelambda.amazonaws.com to invoke the function"},"lambda_role":{"default":"","description":" IAM role ARN attached to the Lambda Function. This governs both who / what can invoke your Lambda Function, as well as what resources our Lambda Function has access to. See Lambda Permission Model for more details."},"layer_name":{"default":"","description":"Name of Lambda Layer to create"},"layer_skip_destroy":{"default":false,"description":"Whether to retain the old version of a previously deployed Lambda Layer."},"layers":{"default":null,"description":"List of Lambda Layer Version ARNs (maximum of 5) to attach to your Lambda Function."},"license_info":{"default":"","description":"License info for your Lambda Layer. Eg, MIT or full url of a license."},"local_existing_package":{"default":null,"description":"The absolute path to an existing zip-file to use"},"maximum_event_age_in_seconds":{"default":null,"description":"Maximum age of a request that Lambda sends to a function for processing in seconds. Valid values between 60 and 21600."},"maximum_retry_attempts":{"default":null,"description":"Maximum number of times to retry when the function returns an error. Valid values between 0 and 2. Defaults to 2."},"memory_size":{"default":128,"description":"Amount of memory in MB your Lambda Function can use at runtime. Valid value between 128 MB to 10,240 MB (10 GB), in 64 MB increments."},"number_of_policies":{"default":0,"description":"Number of policies to attach to IAM role for Lambda Function"},"number_of_policy_jsons":{"default":0,"description":"Number of policies JSON to attach to IAM role for Lambda Function"},"package_type":{"default":"Zip","description":"The Lambda deployment package type. Valid options: Zip or Image"},"policies":{"default":[],"description":"List of policy statements ARN to attach to Lambda Function role"},"policy":{"default":null,"description":"An additional policy document ARN to attach to the Lambda Function role"},"policy_json":{"default":null,"description":"An additional policy document as JSON to attach to the Lambda Function role"},"policy_jsons":{"default":[],"description":"List of additional policy documents as JSON to attach to Lambda Function role"},"policy_name":{"default":null,"description":"IAM policy name. It override the default value, which is the same as role_name"},"policy_path":{"default":null,"description":"Path of policies to that should be added to IAM role for Lambda Function"},"policy_statements":{"default":{},"description":"Map of dynamic policy statements to attach to Lambda Function role"},"provisioned_concurrent_executions":{"default":-1,"description":"Amount of capacity to allocate. Set to 1 or greater to enable, or set to 0 to disable provisioned concurrency."},"publish":{"default":false,"description":"Whether to publish creation/change as new Lambda Function Version."},"putin_khuylo":{"default":true,"description":"Do you agree that Putin doesn't respect Ukrainian sovereignty and territorial integrity? More info: https://en.wikipedia.org/wiki/Putin_khuylo!"},"recreate_missing_package":{"default":true,"description":"Whether to recreate missing Lambda package if it is missing locally or not"},"reserved_concurrent_executions":{"default":-1,"description":"The amount of reserved concurrent executions for this Lambda Function. A value of 0 disables Lambda Function from being triggered and -1 removes any concurrency limitations. Defaults to Unreserved Concurrency Limits -1."},"role_description":{"default":null,"description":"Description of IAM role to use for Lambda Function"},"role_force_detach_policies":{"default":true,"description":"Specifies to force detaching any policies the IAM role has before destroying it."},"role_name":{"default":null,"description":"Name of IAM role to use for Lambda Function"},"role_path":{"default":null,"description":"Path of IAM role to use for Lambda Function"},"role_permissions_boundary":{"default":null,"description":"The ARN of the policy that is used to set the permissions boundary for the IAM role used by Lambda Function"},"role_tags":{"default":{},"description":"A map of tags to assign to IAM role"},"runtime":{"default":"","description":"Lambda Function runtime"},"s3_acl":{"default":"private","description":"The canned ACL to apply. Valid values are private, public-read, public-read-write, aws-exec-read, authenticated-read, bucket-owner-read, and bucket-owner-full-control. Defaults to private."},"s3_bucket":{"default":null,"description":"S3 bucket to store artifacts"},"s3_existing_package":{"default":null,"description":"The S3 bucket object with keys bucket, key, version pointing to an existing zip-file to use"},"s3_object_storage_class":{"default":"ONEZONE_IA","description":"Specifies the desired Storage Class for the artifact uploaded to S3. Can be either STANDARD, REDUCED_REDUNDANCY, ONEZONE_IA, INTELLIGENT_TIERING, or STANDARD_IA."},"s3_object_tags":{"default":{},"description":"A map of tags to assign to S3 bucket object."},"s3_object_tags_only":{"default":false,"description":"Set to true to not merge tags with s3_object_tags. Useful to avoid breaching S3 Object 10 tag limit."},"s3_prefix":{"default":null,"description":"Directory name where artifacts should be stored in the S3 bucket. If unset, the path from `artifacts_dir` is used"},"s3_server_side_encryption":{"default":null,"description":"Specifies server-side encryption of the object in S3. Valid values are \"AES256\" and \"aws:kms\"."},"source_path":{"default":null,"description":"The absolute path to a local file or directory containing your Lambda source code"},"store_on_s3":{"default":false,"description":"Whether to store produced artifacts on S3 or locally."},"tags":{"default":{},"description":"A map of tags to assign to resources."},"timeout":{"default":3,"description":"The amount of time your Lambda Function has to run in seconds."},"tracing_mode":{"default":null,"description":"Tracing mode of the Lambda Function. Valid value can be either PassThrough or Active."},"trusted_entities":{"default":[],"description":"List of additional trusted entities for assuming Lambda Function role (trust relationship)"},"use_existing_cloudwatch_log_group":{"default":false,"description":"Whether to use an existing CloudWatch log group or create new"},"vpc_security_group_ids":{"default":null,"description":"List of security group ids when Lambda Function should run in the VPC."},"vpc_subnet_ids":{"default":null,"description":"List of subnet ids when Lambda Function should run in the VPC. Usually private or intra subnets."}}},"version_constraint":"4.6.0"},"layer9":{"source":"terraform-aws-modules/lambda/aws","expressions":{"compatible_runtimes":{"constant_value":["python3.8"]},"create_layer":{"constant_value":true},"create_package":{"constant_value":false},"layer_name":{"constant_value":"lambda_layer9"},"local_existing_package":{"references":["local.building_path","local.layer9_artifact_file_name"]},"runtime":{"constant_value":"python3.8"},"s3_bucket":{"constant_value":"existing_s3_bucket"}},"module":{"outputs":{"lambda_cloudwatch_log_group_arn":{"expression":{"references":["local.log_group_arn"]},"description":"The ARN of the Cloudwatch Log Group"},"lambda_cloudwatch_log_group_name":{"expression":{"references":["local.log_group_name"]},"description":"The name of the Cloudwatch Log Group"},"lambda_event_source_mapping_function_arn":{"expression":{"references":["aws_lambda_event_source_mapping.this"]},"description":"The the ARN of the Lambda function the event source mapping is sending events to"},"lambda_event_source_mapping_state":{"expression":{"references":["aws_lambda_event_source_mapping.this"]},"description":"The state of the event source mapping"},"lambda_event_source_mapping_state_transition_reason":{"expression":{"references":["aws_lambda_event_source_mapping.this"]},"description":"The reason the event source mapping is in its current state"},"lambda_event_source_mapping_uuid":{"expression":{"references":["aws_lambda_event_source_mapping.this"]},"description":"The UUID of the created event source mapping"},"lambda_function_arn":{"expression":{"references":["aws_lambda_function.this[0].arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The ARN of the Lambda Function"},"lambda_function_invoke_arn":{"expression":{"references":["aws_lambda_function.this[0].invoke_arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The Invoke ARN of the Lambda Function"},"lambda_function_kms_key_arn":{"expression":{"references":["aws_lambda_function.this[0].kms_key_arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The ARN for the KMS encryption key of Lambda Function"},"lambda_function_last_modified":{"expression":{"references":["aws_lambda_function.this[0].last_modified","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The date Lambda Function resource was last modified"},"lambda_function_name":{"expression":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The name of the Lambda Function"},"lambda_function_qualified_arn":{"expression":{"references":["aws_lambda_function.this[0].qualified_arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The ARN identifying your Lambda Function Version"},"lambda_function_signing_job_arn":{"expression":{"references":["aws_lambda_function.this[0].signing_job_arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"ARN of the signing job"},"lambda_function_signing_profile_version_arn":{"expression":{"references":["aws_lambda_function.this[0].signing_profile_version_arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"ARN of the signing profile version"},"lambda_function_source_code_hash":{"expression":{"references":["aws_lambda_function.this[0].source_code_hash","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"Base64-encoded representation of raw SHA-256 sum of the zip file"},"lambda_function_source_code_size":{"expression":{"references":["aws_lambda_function.this[0].source_code_size","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"The size in bytes of the function .zip file"},"lambda_function_url":{"expression":{"references":["aws_lambda_function_url.this[0].function_url","aws_lambda_function_url.this[0]","aws_lambda_function_url.this"]},"description":"The URL of the Lambda Function URL"},"lambda_function_url_id":{"expression":{"references":["aws_lambda_function_url.this[0].url_id","aws_lambda_function_url.this[0]","aws_lambda_function_url.this"]},"description":"The Lambda Function URL generated id"},"lambda_function_version":{"expression":{"references":["aws_lambda_function.this[0].version","aws_lambda_function.this[0]","aws_lambda_function.this"]},"description":"Latest published version of Lambda Function"},"lambda_layer_arn":{"expression":{"references":["aws_lambda_layer_version.this[0].arn","aws_lambda_layer_version.this[0]","aws_lambda_layer_version.this"]},"description":"The ARN of the Lambda Layer with version"},"lambda_layer_created_date":{"expression":{"references":["aws_lambda_layer_version.this[0].created_date","aws_lambda_layer_version.this[0]","aws_lambda_layer_version.this"]},"description":"The date Lambda Layer resource was created"},"lambda_layer_layer_arn":{"expression":{"references":["aws_lambda_layer_version.this[0].layer_arn","aws_lambda_layer_version.this[0]","aws_lambda_layer_version.this"]},"description":"The ARN of the Lambda Layer without version"},"lambda_layer_source_code_size":{"expression":{"references":["aws_lambda_layer_version.this[0].source_code_size","aws_lambda_layer_version.this[0]","aws_lambda_layer_version.this"]},"description":"The size in bytes of the Lambda Layer .zip file"},"lambda_layer_version":{"expression":{"references":["aws_lambda_layer_version.this[0].version","aws_lambda_layer_version.this[0]","aws_lambda_layer_version.this"]},"description":"The Lambda Layer version"},"lambda_role_arn":{"expression":{"references":["aws_iam_role.lambda[0].arn","aws_iam_role.lambda[0]","aws_iam_role.lambda"]},"description":"The ARN of the IAM role created for the Lambda Function"},"lambda_role_name":{"expression":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]},"description":"The name of the IAM role created for the Lambda Function"},"lambda_role_unique_id":{"expression":{"references":["aws_iam_role.lambda[0].unique_id","aws_iam_role.lambda[0]","aws_iam_role.lambda"]},"description":"The unique id of the IAM role created for the Lambda Function"},"local_filename":{"expression":{"references":["local.filename"]},"depends_on":["null_resource.archive"],"description":"The filename of zip archive deployed (if deployment was from local)"},"s3_object":{"expression":{"references":["local.s3_bucket","local.s3_key","local.s3_object_version"]},"description":"The map with S3 object data of zip archive deployed (if deployment was from S3)"}},"resources":[{"address":"aws_cloudwatch_log_group.lambda","mode":"managed","type":"aws_cloudwatch_log_group","name":"lambda","provider_config_key":"aws","expressions":{"kms_key_id":{"references":["var.cloudwatch_logs_kms_key_id"]},"name":{"references":["var.lambda_at_edge","var.function_name"]},"retention_in_days":{"references":["var.cloudwatch_logs_retention_in_days"]},"tags":{"references":["var.tags","var.cloudwatch_logs_tags"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_function","var.create_layer","var.use_existing_cloudwatch_log_group"]}},{"address":"aws_iam_policy.additional_inline","mode":"managed","type":"aws_iam_policy","name":"additional_inline","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy_document.additional_inline[0].json","data.aws_iam_policy_document.additional_inline[0]","data.aws_iam_policy_document.additional_inline"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_statements"]}},{"address":"aws_iam_policy.additional_json","mode":"managed","type":"aws_iam_policy","name":"additional_json","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["var.policy_json"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_json"]}},{"address":"aws_iam_policy.additional_jsons","mode":"managed","type":"aws_iam_policy","name":"additional_jsons","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name","count.index"]},"path":{"references":["var.policy_path"]},"policy":{"references":["var.policy_jsons","count.index"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_jsons","var.number_of_policy_jsons"]}},{"address":"aws_iam_policy.async","mode":"managed","type":"aws_iam_policy","name":"async","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy_document.async[0].json","data.aws_iam_policy_document.async[0]","data.aws_iam_policy_document.async"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_async_event_policy"]}},{"address":"aws_iam_policy.dead_letter","mode":"managed","type":"aws_iam_policy","name":"dead_letter","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy_document.dead_letter[0].json","data.aws_iam_policy_document.dead_letter[0]","data.aws_iam_policy_document.dead_letter"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_dead_letter_policy"]}},{"address":"aws_iam_policy.logs","mode":"managed","type":"aws_iam_policy","name":"logs","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy_document.logs[0].json","data.aws_iam_policy_document.logs[0]","data.aws_iam_policy_document.logs"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_cloudwatch_logs_policy"]}},{"address":"aws_iam_policy.tracing","mode":"managed","type":"aws_iam_policy","name":"tracing","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy.tracing[0].policy","data.aws_iam_policy.tracing[0]","data.aws_iam_policy.tracing"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_tracing_policy"]}},{"address":"aws_iam_policy.vpc","mode":"managed","type":"aws_iam_policy","name":"vpc","provider_config_key":"aws","expressions":{"name":{"references":["local.policy_name"]},"path":{"references":["var.policy_path"]},"policy":{"references":["data.aws_iam_policy.vpc[0].policy","data.aws_iam_policy.vpc[0]","data.aws_iam_policy.vpc"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_network_policy"]}},{"address":"aws_iam_role.lambda","mode":"managed","type":"aws_iam_role","name":"lambda","provider_config_key":"aws","expressions":{"assume_role_policy":{"references":["data.aws_iam_policy_document.assume_role[0].json","data.aws_iam_policy_document.assume_role[0]","data.aws_iam_policy_document.assume_role"]},"description":{"references":["var.role_description"]},"force_detach_policies":{"references":["var.role_force_detach_policies"]},"name":{"references":["local.role_name"]},"path":{"references":["var.role_path"]},"permissions_boundary":{"references":["var.role_permissions_boundary"]},"tags":{"references":["var.tags","var.role_tags"]}},"schema_version":0,"count_expression":{"references":["local.create_role"]}},{"address":"aws_iam_role_policy_attachment.additional_inline","mode":"managed","type":"aws_iam_role_policy_attachment","name":"additional_inline","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.additional_inline[0].arn","aws_iam_policy.additional_inline[0]","aws_iam_policy.additional_inline"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_statements"]}},{"address":"aws_iam_role_policy_attachment.additional_json","mode":"managed","type":"aws_iam_role_policy_attachment","name":"additional_json","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.additional_json[0].arn","aws_iam_policy.additional_json[0]","aws_iam_policy.additional_json"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_json"]}},{"address":"aws_iam_role_policy_attachment.additional_jsons","mode":"managed","type":"aws_iam_role_policy_attachment","name":"additional_jsons","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.additional_jsons","count.index"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_jsons","var.number_of_policy_jsons"]}},{"address":"aws_iam_role_policy_attachment.additional_many","mode":"managed","type":"aws_iam_role_policy_attachment","name":"additional_many","provider_config_key":"aws","expressions":{"policy_arn":{"references":["var.policies","count.index"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policies","var.number_of_policies"]}},{"address":"aws_iam_role_policy_attachment.additional_one","mode":"managed","type":"aws_iam_role_policy_attachment","name":"additional_one","provider_config_key":"aws","expressions":{"policy_arn":{"references":["var.policy"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy"]}},{"address":"aws_iam_role_policy_attachment.async","mode":"managed","type":"aws_iam_role_policy_attachment","name":"async","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.async[0].arn","aws_iam_policy.async[0]","aws_iam_policy.async"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_async_event_policy"]}},{"address":"aws_iam_role_policy_attachment.dead_letter","mode":"managed","type":"aws_iam_role_policy_attachment","name":"dead_letter","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.dead_letter[0].arn","aws_iam_policy.dead_letter[0]","aws_iam_policy.dead_letter"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_dead_letter_policy"]}},{"address":"aws_iam_role_policy_attachment.logs","mode":"managed","type":"aws_iam_role_policy_attachment","name":"logs","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.logs[0].arn","aws_iam_policy.logs[0]","aws_iam_policy.logs"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_cloudwatch_logs_policy"]}},{"address":"aws_iam_role_policy_attachment.tracing","mode":"managed","type":"aws_iam_role_policy_attachment","name":"tracing","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.tracing[0].arn","aws_iam_policy.tracing[0]","aws_iam_policy.tracing"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_tracing_policy"]}},{"address":"aws_iam_role_policy_attachment.vpc","mode":"managed","type":"aws_iam_role_policy_attachment","name":"vpc","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.vpc[0].arn","aws_iam_policy.vpc[0]","aws_iam_policy.vpc"]},"role":{"references":["aws_iam_role.lambda[0].name","aws_iam_role.lambda[0]","aws_iam_role.lambda"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_network_policy"]}},{"address":"aws_lambda_event_source_mapping.this","mode":"managed","type":"aws_lambda_event_source_mapping","name":"this","provider_config_key":"aws","expressions":{"batch_size":{"references":["each.value.batch_size","each.value"]},"bisect_batch_on_function_error":{"references":["each.value.bisect_batch_on_function_error","each.value"]},"enabled":{"references":["each.value.enabled","each.value"]},"event_source_arn":{"references":["each.value.event_source_arn","each.value"]},"function_name":{"references":["aws_lambda_function.this[0].arn","aws_lambda_function.this[0]","aws_lambda_function.this"]},"function_response_types":{"references":["each.value.function_response_types","each.value"]},"maximum_batching_window_in_seconds":{"references":["each.value.maximum_batching_window_in_seconds","each.value"]},"maximum_record_age_in_seconds":{"references":["each.value.maximum_record_age_in_seconds","each.value"]},"maximum_retry_attempts":{"references":["each.value.maximum_retry_attempts","each.value"]},"parallelization_factor":{"references":["each.value.parallelization_factor","each.value"]},"queues":{"references":["each.value.queues","each.value"]},"starting_position":{"references":["each.value.starting_position","each.value"]},"starting_position_timestamp":{"references":["each.value.starting_position_timestamp","each.value"]},"topics":{"references":["each.value.topics","each.value"]}},"schema_version":0,"for_each_expression":{"references":["var.event_source_mapping","local.create","var.create_function","var.create_layer","var.create_unqualified_alias_allowed_triggers"]}},{"address":"aws_lambda_function.this","mode":"managed","type":"aws_lambda_function","name":"this","provider_config_key":"aws","expressions":{"architectures":{"references":["var.architectures"]},"code_signing_config_arn":{"references":["var.code_signing_config_arn"]},"description":{"references":["var.description"]},"filename":{"references":["local.filename"]},"function_name":{"references":["var.function_name"]},"handler":{"references":["var.package_type","var.handler"]},"image_uri":{"references":["var.image_uri"]},"kms_key_arn":{"references":["var.kms_key_arn"]},"layers":{"references":["var.layers"]},"memory_size":{"references":["var.memory_size"]},"package_type":{"references":["var.package_type"]},"publish":{"references":["var.lambda_at_edge","var.publish"]},"reserved_concurrent_executions":{"references":["var.reserved_concurrent_executions"]},"role":{"references":["var.create_role","aws_iam_role.lambda[0].arn","aws_iam_role.lambda[0]","aws_iam_role.lambda","var.lambda_role"]},"runtime":{"references":["var.package_type","var.runtime"]},"s3_bucket":{"references":["local.s3_bucket"]},"s3_key":{"references":["local.s3_key"]},"s3_object_version":{"references":["local.s3_object_version"]},"source_code_hash":{"references":["var.ignore_source_code_hash","local.filename","local.filename","local.was_missing","local.filename"]},"tags":{"references":["var.tags"]},"timeout":{"references":["var.lambda_at_edge","var.timeout","var.timeout"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_function","var.create_layer"]},"depends_on":["null_resource.archive","aws_s3_object.lambda_package","aws_cloudwatch_log_group.lambda","aws_iam_role_policy_attachment.additional_inline","aws_iam_role_policy_attachment.additional_json","aws_iam_role_policy_attachment.additional_jsons","aws_iam_role_policy_attachment.additional_many","aws_iam_role_policy_attachment.additional_one","aws_iam_role_policy_attachment.async","aws_iam_role_policy_attachment.logs","aws_iam_role_policy_attachment.dead_letter","aws_iam_role_policy_attachment.vpc","aws_iam_role_policy_attachment.tracing"]},{"address":"aws_lambda_function_event_invoke_config.this","mode":"managed","type":"aws_lambda_function_event_invoke_config","name":"this","provider_config_key":"aws","expressions":{"function_name":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"maximum_event_age_in_seconds":{"references":["var.maximum_event_age_in_seconds"]},"maximum_retry_attempts":{"references":["var.maximum_retry_attempts"]},"qualifier":{"references":["each.key","aws_lambda_function.this[0].version","aws_lambda_function.this[0]","aws_lambda_function.this"]}},"schema_version":0,"for_each_expression":{"references":["local.qualifiers","local.create","var.create_function","var.create_layer","var.create_async_event_config"]}},{"address":"aws_lambda_function_url.this","mode":"managed","type":"aws_lambda_function_url","name":"this","provider_config_key":"aws","expressions":{"authorization_type":{"references":["var.authorization_type"]},"function_name":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"qualifier":{"references":["var.create_unqualified_alias_lambda_function_url","aws_lambda_function.this[0].version","aws_lambda_function.this[0]","aws_lambda_function.this"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_function","var.create_layer","var.create_lambda_function_url"]}},{"address":"aws_lambda_layer_version.this","mode":"managed","type":"aws_lambda_layer_version","name":"this","provider_config_key":"aws","expressions":{"compatible_architectures":{"references":["var.compatible_architectures"]},"compatible_runtimes":{"references":["var.compatible_runtimes","var.compatible_runtimes","var.runtime"]},"description":{"references":["var.description"]},"filename":{"references":["local.filename"]},"layer_name":{"references":["var.layer_name"]},"license_info":{"references":["var.license_info"]},"s3_bucket":{"references":["local.s3_bucket"]},"s3_key":{"references":["local.s3_key"]},"s3_object_version":{"references":["local.s3_object_version"]},"skip_destroy":{"references":["var.layer_skip_destroy"]},"source_code_hash":{"references":["var.ignore_source_code_hash","local.filename","local.filename","local.was_missing","local.filename"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_layer"]},"depends_on":["null_resource.archive","aws_s3_object.lambda_package"]},{"address":"aws_lambda_permission.current_version_triggers","mode":"managed","type":"aws_lambda_permission","name":"current_version_triggers","provider_config_key":"aws","expressions":{"action":{"references":["each.value.action","each.value"]},"event_source_token":{"references":["each.value.event_source_token","each.value"]},"function_name":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"principal":{"references":["each.value.principal","each.value","each.value.service","each.value"]},"qualifier":{"references":["aws_lambda_function.this[0].version","aws_lambda_function.this[0]","aws_lambda_function.this"]},"source_account":{"references":["each.value.source_account","each.value"]},"source_arn":{"references":["each.value.source_arn","each.value"]},"statement_id":{"references":["each.value.statement_id","each.value","each.key"]}},"schema_version":0,"for_each_expression":{"references":["var.allowed_triggers","local.create","var.create_function","var.create_layer","var.create_current_version_allowed_triggers"]}},{"address":"aws_lambda_permission.unqualified_alias_triggers","mode":"managed","type":"aws_lambda_permission","name":"unqualified_alias_triggers","provider_config_key":"aws","expressions":{"action":{"references":["each.value.action","each.value"]},"event_source_token":{"references":["each.value.event_source_token","each.value"]},"function_name":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"principal":{"references":["each.value.principal","each.value","each.value.service","each.value"]},"source_account":{"references":["each.value.source_account","each.value"]},"source_arn":{"references":["each.value.source_arn","each.value"]},"statement_id":{"references":["each.value.statement_id","each.value","each.key"]}},"schema_version":0,"for_each_expression":{"references":["var.allowed_triggers","local.create","var.create_function","var.create_layer","var.create_unqualified_alias_allowed_triggers"]}},{"address":"aws_lambda_provisioned_concurrency_config.current_version","mode":"managed","type":"aws_lambda_provisioned_concurrency_config","name":"current_version","provider_config_key":"aws","expressions":{"function_name":{"references":["aws_lambda_function.this[0].function_name","aws_lambda_function.this[0]","aws_lambda_function.this"]},"provisioned_concurrent_executions":{"references":["var.provisioned_concurrent_executions"]},"qualifier":{"references":["aws_lambda_function.this[0].version","aws_lambda_function.this[0]","aws_lambda_function.this"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_function","var.create_layer","var.provisioned_concurrent_executions"]}},{"address":"aws_s3_object.lambda_package","mode":"managed","type":"aws_s3_object","name":"lambda_package","provider_config_key":"aws","expressions":{"acl":{"references":["var.s3_acl"]},"bucket":{"references":["var.s3_bucket"]},"key":{"references":["local.s3_key"]},"server_side_encryption":{"references":["var.s3_server_side_encryption"]},"source":{"references":["data.external.archive_prepare[0].result.filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]},"storage_class":{"references":["var.s3_object_storage_class"]},"tags":{"references":["var.s3_object_tags_only","var.s3_object_tags","var.tags","var.s3_object_tags"]}},"schema_version":0,"count_expression":{"references":["local.create","var.store_on_s3","var.create_package"]},"depends_on":["null_resource.archive"]},{"address":"local_file.archive_plan","mode":"managed","type":"local_file","name":"archive_plan","provider_config_key":"module.layer9:local","expressions":{"content":{"references":["data.external.archive_prepare[0].result.build_plan","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]},"directory_permission":{"constant_value":"0755"},"file_permission":{"constant_value":"0644"},"filename":{"references":["data.external.archive_prepare[0].result.build_plan_filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]}},"schema_version":0,"count_expression":{"references":["var.create","var.create_package"]}},{"address":"null_resource.archive","mode":"managed","type":"null_resource","name":"archive","provider_config_key":"null","provisioners":[{"type":"local-exec","expressions":{"command":{"references":["data.external.archive_prepare[0].result.build_plan_filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]},"interpreter":{"references":["local.python","path.module","data.external.archive_prepare[0].result.timestamp","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]}}}],"expressions":{"triggers":{"references":["data.external.archive_prepare[0].result.filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare","data.external.archive_prepare[0].result.timestamp","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]}},"schema_version":0,"count_expression":{"references":["var.create","var.create_package"]},"depends_on":["local_file.archive_plan"]},{"address":"null_resource.sam_metadata_aws_lambda_function","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_function","provider_config_key":"null","expressions":{"triggers":{"references":["var.source_path","data.external.archive_prepare[0].result.filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_package","var.create_function","var.create_layer"]},"depends_on":["data.external.archive_prepare","null_resource.archive"]},{"address":"null_resource.sam_metadata_aws_lambda_layer_version","mode":"managed","type":"null_resource","name":"sam_metadata_aws_lambda_layer_version","provider_config_key":"null","expressions":{"triggers":{"references":["var.source_path","data.external.archive_prepare[0].result.filename","data.external.archive_prepare[0].result","data.external.archive_prepare[0]","data.external.archive_prepare"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_package","var.create_layer"]},"depends_on":["data.external.archive_prepare","null_resource.archive"]},{"address":"data.aws_arn.log_group_arn","mode":"data","type":"aws_arn","name":"log_group_arn","provider_config_key":"aws","expressions":{"arn":{"references":["local.log_group_arn_regional"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.lambda_at_edge"]}},{"address":"data.aws_cloudwatch_log_group.lambda","mode":"data","type":"aws_cloudwatch_log_group","name":"lambda","provider_config_key":"aws","expressions":{"name":{"references":["var.lambda_at_edge","var.function_name"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_function","var.create_layer","var.use_existing_cloudwatch_log_group"]}},{"address":"data.aws_iam_policy.tracing","mode":"data","type":"aws_iam_policy","name":"tracing","provider_config_key":"aws","expressions":{"arn":{"references":["data.aws_partition.current.partition","data.aws_partition.current"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_tracing_policy"]}},{"address":"data.aws_iam_policy.vpc","mode":"data","type":"aws_iam_policy","name":"vpc","provider_config_key":"aws","expressions":{"arn":{"references":["data.aws_partition.current.partition","data.aws_partition.current"]}},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_network_policy"]}},{"address":"data.aws_iam_policy_document.additional_inline","mode":"data","type":"aws_iam_policy_document","name":"additional_inline","provider_config_key":"aws","schema_version":0,"count_expression":{"references":["local.create_role","var.attach_policy_statements"]}},{"address":"data.aws_iam_policy_document.assume_role","mode":"data","type":"aws_iam_policy_document","name":"assume_role","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sts:AssumeRole"]},"effect":{"constant_value":"Allow"},"principals":[{"identifiers":{"references":["local.trusted_entities_services"]},"type":{"constant_value":"Service"}}]}]},"schema_version":0,"count_expression":{"references":["local.create_role"]}},{"address":"data.aws_iam_policy_document.async","mode":"data","type":"aws_iam_policy_document","name":"async","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sns:Publish","sqs:SendMessage","events:PutEvents","lambda:InvokeFunction"]},"effect":{"constant_value":"Allow"},"resources":{"references":["var.destination_on_failure","var.destination_on_success"]}}]},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_async_event_policy"]}},{"address":"data.aws_iam_policy_document.dead_letter","mode":"data","type":"aws_iam_policy_document","name":"dead_letter","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sns:Publish","sqs:SendMessage"]},"effect":{"constant_value":"Allow"},"resources":{"references":["var.dead_letter_target_arn"]}}]},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_dead_letter_policy"]}},{"address":"data.aws_iam_policy_document.logs","mode":"data","type":"aws_iam_policy_document","name":"logs","provider_config_key":"aws","expressions":{"statement":[{"actions":{"references":["var.use_existing_cloudwatch_log_group"]},"effect":{"constant_value":"Allow"},"resources":{"references":["local.log_group_arn"]}}]},"schema_version":0,"count_expression":{"references":["local.create_role","var.attach_cloudwatch_logs_policy"]}},{"address":"data.aws_partition.current","mode":"data","type":"aws_partition","name":"current","provider_config_key":"aws","schema_version":0},{"address":"data.external.archive_prepare","mode":"data","type":"external","name":"archive_prepare","provider_config_key":"module.layer9:external","expressions":{"program":{"references":["local.python","path.module"]},"query":{"references":["path.module","path.root","path.cwd","var.build_in_docker","var.docker_pip_cache","var.docker_build_root","var.docker_file","var.docker_image","var.docker_with_ssh_agent","var.docker_additional_options","var.docker_entrypoint","var.artifacts_dir","var.runtime","var.source_path","var.hash_extra","var.recreate_missing_package"]}},"schema_version":0,"count_expression":{"references":["var.create","var.create_package"]}}],"variables":{"allowed_triggers":{"default":{},"description":"Map of allowed triggers to create Lambda permissions"},"architectures":{"default":null,"description":"Instruction set architecture for your Lambda function. Valid values are [\"x86_64\"] and [\"arm64\"]."},"artifacts_dir":{"default":"builds","description":"Directory name where artifacts should be stored"},"assume_role_policy_statements":{"default":{},"description":"Map of dynamic policy statements for assuming Lambda Function role (trust relationship)"},"attach_async_event_policy":{"default":false,"description":"Controls whether async event policy should be added to IAM role for Lambda Function"},"attach_cloudwatch_logs_policy":{"default":true,"description":"Controls whether CloudWatch Logs policy should be added to IAM role for Lambda Function"},"attach_dead_letter_policy":{"default":false,"description":"Controls whether SNS/SQS dead letter notification policy should be added to IAM role for Lambda Function"},"attach_network_policy":{"default":false,"description":"Controls whether VPC/network policy should be added to IAM role for Lambda Function"},"attach_policies":{"default":false,"description":"Controls whether list of policies should be added to IAM role for Lambda Function"},"attach_policy":{"default":false,"description":"Controls whether policy should be added to IAM role for Lambda Function"},"attach_policy_json":{"default":false,"description":"Controls whether policy_json should be added to IAM role for Lambda Function"},"attach_policy_jsons":{"default":false,"description":"Controls whether policy_jsons should be added to IAM role for Lambda Function"},"attach_policy_statements":{"default":false,"description":"Controls whether policy_statements should be added to IAM role for Lambda Function"},"attach_tracing_policy":{"default":false,"description":"Controls whether X-Ray tracing policy should be added to IAM role for Lambda Function"},"authorization_type":{"default":"NONE","description":"The type of authentication that the Lambda Function URL uses. Set to 'AWS_IAM' to restrict access to authenticated IAM users only. Set to 'NONE' to bypass IAM authentication and create a public endpoint."},"build_in_docker":{"default":false,"description":"Whether to build dependencies in Docker"},"cloudwatch_logs_kms_key_id":{"default":null,"description":"The ARN of the KMS Key to use when encrypting log data."},"cloudwatch_logs_retention_in_days":{"default":null,"description":"Specifies the number of days you want to retain log events in the specified log group. Possible values are: 1, 3, 5, 7, 14, 30, 60, 90, 120, 150, 180, 365, 400, 545, 731, 1827, and 3653."},"cloudwatch_logs_tags":{"default":{},"description":"A map of tags to assign to the resource."},"code_signing_config_arn":{"default":null,"description":"Amazon Resource Name (ARN) for a Code Signing Configuration"},"compatible_architectures":{"default":null,"description":"A list of Architectures Lambda layer is compatible with. Currently x86_64 and arm64 can be specified."},"compatible_runtimes":{"default":[],"description":"A list of Runtimes this layer is compatible with. Up to 5 runtimes can be specified."},"cors":{"default":{},"description":"CORS settings to be used by the Lambda Function URL"},"create":{"default":true,"description":"Controls whether resources should be created"},"create_async_event_config":{"default":false,"description":"Controls whether async event configuration for Lambda Function/Alias should be created"},"create_current_version_allowed_triggers":{"default":true,"description":"Whether to allow triggers on current version of Lambda Function (this will revoke permissions from previous version because Terraform manages only current resources)"},"create_current_version_async_event_config":{"default":true,"description":"Whether to allow async event configuration on current version of Lambda Function (this will revoke permissions from previous version because Terraform manages only current resources)"},"create_function":{"default":true,"description":"Controls whether Lambda Function resource should be created"},"create_lambda_function_url":{"default":false,"description":"Controls whether the Lambda Function URL resource should be created"},"create_layer":{"default":false,"description":"Controls whether Lambda Layer resource should be created"},"create_package":{"default":true,"description":"Controls whether Lambda package should be created"},"create_role":{"default":true,"description":"Controls whether IAM role for Lambda Function should be created"},"create_unqualified_alias_allowed_triggers":{"default":true,"description":"Whether to allow triggers on unqualified alias pointing to $LATEST version"},"create_unqualified_alias_async_event_config":{"default":true,"description":"Whether to allow async event configuration on unqualified alias pointing to $LATEST version"},"create_unqualified_alias_lambda_function_url":{"default":true,"description":"Whether to use unqualified alias pointing to $LATEST version in Lambda Function URL"},"dead_letter_target_arn":{"default":null,"description":"The ARN of an SNS topic or SQS queue to notify when an invocation fails."},"description":{"default":"","description":"Description of your Lambda Function (or Layer)"},"destination_on_failure":{"default":null,"description":"Amazon Resource Name (ARN) of the destination resource for failed asynchronous invocations"},"destination_on_success":{"default":null,"description":"Amazon Resource Name (ARN) of the destination resource for successful asynchronous invocations"},"docker_additional_options":{"default":[],"description":"Additional options to pass to the docker run command (e.g. to set environment variables, volumes, etc.)"},"docker_build_root":{"default":"","description":"Root dir where to build in Docker"},"docker_entrypoint":{"default":null,"description":"Path to the Docker entrypoint to use"},"docker_file":{"default":"","description":"Path to a Dockerfile when building in Docker"},"docker_image":{"default":"","description":"Docker image to use for the build"},"docker_pip_cache":{"default":null,"description":"Whether to mount a shared pip cache folder into docker environment or not"},"docker_with_ssh_agent":{"default":false,"description":"Whether to pass SSH_AUTH_SOCK into docker environment or not"},"environment_variables":{"default":{},"description":"A map that defines environment variables for the Lambda Function."},"ephemeral_storage_size":{"default":512,"description":"Amount of ephemeral storage (/tmp) in MB your Lambda Function can use at runtime. Valid value between 512 MB to 10,240 MB (10 GB)."},"event_source_mapping":{"default":{},"description":"Map of event source mapping"},"file_system_arn":{"default":null,"description":"The Amazon Resource Name (ARN) of the Amazon EFS Access Point that provides access to the file system."},"file_system_local_mount_path":{"default":null,"description":"The path where the function can access the file system, starting with /mnt/."},"function_name":{"default":"","description":"A unique name for your Lambda Function"},"handler":{"default":"","description":"Lambda Function entrypoint in your code"},"hash_extra":{"default":"","description":"The string to add into hashing function. Useful when building same source path for different functions."},"ignore_source_code_hash":{"default":false,"description":"Whether to ignore changes to the function's source code hash. Set to true if you manage infrastructure and code deployments separately."},"image_config_command":{"default":[],"description":"The CMD for the docker image"},"image_config_entry_point":{"default":[],"description":"The ENTRYPOINT for the docker image"},"image_config_working_directory":{"default":null,"description":"The working directory for the docker image"},"image_uri":{"default":null,"description":"The ECR image URI containing the function's deployment package."},"kms_key_arn":{"default":null,"description":"The ARN of KMS key to use by your Lambda Function"},"lambda_at_edge":{"default":false,"description":"Set this to true if using Lambda@Edge, to enable publishing, limit the timeout, and allow edgelambda.amazonaws.com to invoke the function"},"lambda_role":{"default":"","description":" IAM role ARN attached to the Lambda Function. This governs both who / what can invoke your Lambda Function, as well as what resources our Lambda Function has access to. See Lambda Permission Model for more details."},"layer_name":{"default":"","description":"Name of Lambda Layer to create"},"layer_skip_destroy":{"default":false,"description":"Whether to retain the old version of a previously deployed Lambda Layer."},"layers":{"default":null,"description":"List of Lambda Layer Version ARNs (maximum of 5) to attach to your Lambda Function."},"license_info":{"default":"","description":"License info for your Lambda Layer. Eg, MIT or full url of a license."},"local_existing_package":{"default":null,"description":"The absolute path to an existing zip-file to use"},"maximum_event_age_in_seconds":{"default":null,"description":"Maximum age of a request that Lambda sends to a function for processing in seconds. Valid values between 60 and 21600."},"maximum_retry_attempts":{"default":null,"description":"Maximum number of times to retry when the function returns an error. Valid values between 0 and 2. Defaults to 2."},"memory_size":{"default":128,"description":"Amount of memory in MB your Lambda Function can use at runtime. Valid value between 128 MB to 10,240 MB (10 GB), in 64 MB increments."},"number_of_policies":{"default":0,"description":"Number of policies to attach to IAM role for Lambda Function"},"number_of_policy_jsons":{"default":0,"description":"Number of policies JSON to attach to IAM role for Lambda Function"},"package_type":{"default":"Zip","description":"The Lambda deployment package type. Valid options: Zip or Image"},"policies":{"default":[],"description":"List of policy statements ARN to attach to Lambda Function role"},"policy":{"default":null,"description":"An additional policy document ARN to attach to the Lambda Function role"},"policy_json":{"default":null,"description":"An additional policy document as JSON to attach to the Lambda Function role"},"policy_jsons":{"default":[],"description":"List of additional policy documents as JSON to attach to Lambda Function role"},"policy_name":{"default":null,"description":"IAM policy name. It override the default value, which is the same as role_name"},"policy_path":{"default":null,"description":"Path of policies to that should be added to IAM role for Lambda Function"},"policy_statements":{"default":{},"description":"Map of dynamic policy statements to attach to Lambda Function role"},"provisioned_concurrent_executions":{"default":-1,"description":"Amount of capacity to allocate. Set to 1 or greater to enable, or set to 0 to disable provisioned concurrency."},"publish":{"default":false,"description":"Whether to publish creation/change as new Lambda Function Version."},"putin_khuylo":{"default":true,"description":"Do you agree that Putin doesn't respect Ukrainian sovereignty and territorial integrity? More info: https://en.wikipedia.org/wiki/Putin_khuylo!"},"recreate_missing_package":{"default":true,"description":"Whether to recreate missing Lambda package if it is missing locally or not"},"reserved_concurrent_executions":{"default":-1,"description":"The amount of reserved concurrent executions for this Lambda Function. A value of 0 disables Lambda Function from being triggered and -1 removes any concurrency limitations. Defaults to Unreserved Concurrency Limits -1."},"role_description":{"default":null,"description":"Description of IAM role to use for Lambda Function"},"role_force_detach_policies":{"default":true,"description":"Specifies to force detaching any policies the IAM role has before destroying it."},"role_name":{"default":null,"description":"Name of IAM role to use for Lambda Function"},"role_path":{"default":null,"description":"Path of IAM role to use for Lambda Function"},"role_permissions_boundary":{"default":null,"description":"The ARN of the policy that is used to set the permissions boundary for the IAM role used by Lambda Function"},"role_tags":{"default":{},"description":"A map of tags to assign to IAM role"},"runtime":{"default":"","description":"Lambda Function runtime"},"s3_acl":{"default":"private","description":"The canned ACL to apply. Valid values are private, public-read, public-read-write, aws-exec-read, authenticated-read, bucket-owner-read, and bucket-owner-full-control. Defaults to private."},"s3_bucket":{"default":null,"description":"S3 bucket to store artifacts"},"s3_existing_package":{"default":null,"description":"The S3 bucket object with keys bucket, key, version pointing to an existing zip-file to use"},"s3_object_storage_class":{"default":"ONEZONE_IA","description":"Specifies the desired Storage Class for the artifact uploaded to S3. Can be either STANDARD, REDUCED_REDUNDANCY, ONEZONE_IA, INTELLIGENT_TIERING, or STANDARD_IA."},"s3_object_tags":{"default":{},"description":"A map of tags to assign to S3 bucket object."},"s3_object_tags_only":{"default":false,"description":"Set to true to not merge tags with s3_object_tags. Useful to avoid breaching S3 Object 10 tag limit."},"s3_prefix":{"default":null,"description":"Directory name where artifacts should be stored in the S3 bucket. If unset, the path from `artifacts_dir` is used"},"s3_server_side_encryption":{"default":null,"description":"Specifies server-side encryption of the object in S3. Valid values are \"AES256\" and \"aws:kms\"."},"source_path":{"default":null,"description":"The absolute path to a local file or directory containing your Lambda source code"},"store_on_s3":{"default":false,"description":"Whether to store produced artifacts on S3 or locally."},"tags":{"default":{},"description":"A map of tags to assign to resources."},"timeout":{"default":3,"description":"The amount of time your Lambda Function has to run in seconds."},"tracing_mode":{"default":null,"description":"Tracing mode of the Lambda Function. Valid value can be either PassThrough or Active."},"trusted_entities":{"default":[],"description":"List of additional trusted entities for assuming Lambda Function role (trust relationship)"},"use_existing_cloudwatch_log_group":{"default":false,"description":"Whether to use an existing CloudWatch log group or create new"},"vpc_security_group_ids":{"default":null,"description":"List of security group ids when Lambda Function should run in the VPC."},"vpc_subnet_ids":{"default":null,"description":"List of subnet ids when Lambda Function should run in the VPC. Usually private or intra subnets."}}},"version_constraint":"4.6.0"},"level1_lambda":{"source":"./lambda_tf_module","expressions":{"function_name":{"constant_value":"my_level1_lambda"},"handler":{"constant_value":"index.lambda_handler"},"l2_function_name":{"constant_value":"my_level2_lambda"},"l2_handler":{"constant_value":"index.lambda_handler"},"l2_source_code_path":{"references":["local.building_path","local.lambda_code_filename"]},"source_code_path":{"references":["local.building_path","local.lambda_code_filename"]}},"module":{"resources":[{"address":"aws_iam_role.iam_for_lambda","mode":"managed","type":"aws_iam_role","name":"iam_for_lambda","provider_config_key":"aws","expressions":{"assume_role_policy":{"constant_value":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"lambda.amazonaws.com\"\n      },\n      \"Effect\": \"Allow\",\n      \"Sid\": \"\"\n    }\n  ]\n}\n"},"name":{"constant_value":"iam_for_lambda_l1"}},"schema_version":0},{"address":"aws_lambda_function.this","mode":"managed","type":"aws_lambda_function","name":"this","provider_config_key":"aws","expressions":{"filename":{"references":["var.source_code_path"]},"function_name":{"references":["var.function_name"]},"handler":{"references":["var.handler"]},"role":{"references":["aws_iam_role.iam_for_lambda.arn","aws_iam_role.iam_for_lambda"]},"runtime":{"constant_value":"python3.8"},"timeout":{"constant_value":300}},"schema_version":0}],"module_calls":{"level2_lambda":{"source":"./nested_lambda_tf_module","expressions":{"function_name":{"references":["var.l2_function_name"]},"handler":{"references":["var.l2_handler"]},"source_code_path":{"references":["var.l2_source_code_path"]}},"module":{"resources":[{"address":"aws_iam_role.iam_for_lambda","mode":"managed","type":"aws_iam_role","name":"iam_for_lambda","provider_config_key":"aws","expressions":{"assume_role_policy":{"constant_value":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"lambda.amazonaws.com\"\n      },\n      \"Effect\": \"Allow\",\n      \"Sid\": \"\"\n    }\n  ]\n}\n"},"name":{"constant_value":"iam_for_lambda_l2"}},"schema_version":0},{"address":"aws_lambda_function.this","mode":"managed","type":"aws_lambda_function","name":"this","provider_config_key":"aws","expressions":{"filename":{"references":["var.source_code_path"]},"function_name":{"references":["var.function_name"]},"handler":{"references":["var.handler"]},"role":{"references":["aws_iam_role.iam_for_lambda.arn","aws_iam_role.iam_for_lambda"]},"runtime":{"constant_value":"python3.8"},"timeout":{"constant_value":300}},"schema_version":0}],"variables":{"function_name":{},"handler":{},"source_code_path":{}}}}},"variables":{"function_name":{},"handler":{},"l2_function_name":{},"l2_handler":{},"l2_source_code_path":{},"source_code_path":{}}},"depends_on":["null_resource.build_lambda_function"]}},"variables":{"HELLO_FUNCTION_SRC_CODE":{"default":"./artifacts/HelloWorldFunction"}}}},"relevant_attributes":[{"resource":"module.layer9.aws_lambda_layer_version.this[0]","attribute":["layer_arn"]},{"resource":"module.layer11.aws_lambda_function.this[0]","attribute":["function_name"]},{"resource":"module.layer8.aws_lambda_function_url.this[0]","attribute":["function_url"]},{"resource":"module.layer9.data.aws_arn.log_group_arn[0]","attribute":["service"]},{"resource":"module.layer9.data.aws_arn.log_group_arn[0]","attribute":["account"]},{"resource":"module.function10.data.aws_cloudwatch_log_group.lambda[0]","attribute":["arn"]},{"resource":"aws_s3_object.s3_lambda_code","attribute":["key"]},{"resource":"module.layer11.aws_lambda_function.this[0]","attribute":["kms_key_arn"]},{"resource":"module.layer7.aws_lambda_function.this[0]","attribute":["version"]},{"resource":"module.function10.aws_lambda_layer_version.this[0]","attribute":["version"]},{"resource":"module.function7.aws_lambda_function.this[0]","attribute":["source_code_hash"]},{"resource":"module.function10.aws_s3_object.lambda_package[0]","attribute":["version_id"]},{"resource":"module.layer11.aws_iam_role.lambda[0]","attribute":["arn"]},{"resource":"module.layer7.aws_iam_role.lambda[0]","attribute":["name"]},{"resource":"module.function9.aws_lambda_layer_version.this[0]","attribute":["arn"]},{"resource":"module.layer11.aws_lambda_layer_version.this[0]","attribute":["source_code_size"]},{"resource":"module.function8.aws_lambda_layer_version.this[0]","attribute":["arn"]},{"resource":"aws_iam_role.iam_for_lambda","attribute":["arn"]},{"resource":"module.function7.data.external.archive_prepare[0]","attribute":["result","filename"]},{"resource":"module.layer9.aws_iam_role.lambda[0]","attribute":["unique_id"]},{"resource":"module.layer10.aws_lambda_function_url.this[0]","attribute":["function_url"]},{"resource":"module.function8.aws_cloudwatch_log_group.lambda[0]","attribute":["name"]},{"resource":"module.layer8.data.aws_cloudwatch_log_group.lambda[0]","attribute":["name"]},{"resource":"module.function7.data.aws_iam_policy_document.assume_role[0]","attribute":["json"]},{"resource":"module.layer9.aws_lambda_layer_version.this[0]","attribute":["version"]},{"resource":"module.layer8.aws_lambda_function.this[0]","attribute":["source_code_size"]},{"resource":"module.layer10.aws_lambda_function.this[0]","attribute":["signing_job_arn"]},{"resource":"module.function7.aws_lambda_function.this[0]","attribute":["qualified_arn"]},{"resource":"module.function10.aws_lambda_function.this[0]","attribute":["last_modified"]},{"resource":"module.layer10.data.aws_cloudwatch_log_group.lambda[0]","attribute":["arn"]},{"resource":"module.function8.aws_iam_role.lambda[0]","attribute":["name"]},{"resource":"module.function11.aws_iam_role.lambda[0]","attribute":["arn"]},{"resource":"module.function10.aws_iam_role.lambda[0]","attribute":["arn"]},{"resource":"module.function7.aws_lambda_layer_version.this[0]","attribute":["arn"]},{"resource":"module.function8.aws_cloudwatch_log_group.lambda[0]","attribute":["arn"]},{"resource":"module.level1_lambda.module.level2_lambda.aws_iam_role.iam_for_lambda","attribute":["arn"]},{"resource":"module.function9.data.aws_iam_policy_document.logs[0]","attribute":["json"]},{"resource":"module.function7.aws_lambda_layer_version.this[0]","attribute":["layer_arn"]},{"resource":"module.function7.aws_lambda_function.this[0]","attribute":["source_code_size"]},{"resource":"module.layer10.data.aws_arn.log_group_arn[0]","attribute":["service"]},{"resource":"module.function10.aws_cloudwatch_log_group.lambda[0]","attribute":["name"]},{"resource":"module.function10.data.external.archive_prepare[0]","attribute":["result","timestamp"]},{"resource":"module.layer7.data.external.archive_prepare[0]","attribute":["result","build_plan"]},{"resource":"aws_lambda_layer_version.layer6","attribute":["arn"]},{"resource":"module.function7.data.external.archive_prepare[0]","attribute":["result","timestamp"]},{"resource":"module.function11.data.external.archive_prepare[0]","attribute":["result","timestamp"]},{"resource":"module.layer7.data.external.archive_prepare[0]","attribute":["result","filename"]},{"resource":"module.function7.aws_iam_role.lambda[0]","attribute":["name"]},{"resource":"module.function10.data.external.archive_prepare[0]","attribute":["result","build_plan_filename"]},{"resource":"module.function10.data.external.archive_prepare[0]","attribute":["result","build_plan"]},{"resource":"module.layer7.aws_lambda_function_url.this[0]","attribute":["url_id"]},{"resource":"module.layer10.aws_lambda_layer_version.this[0]","attribute":["source_code_size"]},{"resource":"module.function11.aws_lambda_function.this[0]","attribute":["qualified_arn"]},{"resource":"module.function7.aws_lambda_function.this[0]","attribute":["last_modified"]},{"resource":"module.layer7.data.external.archive_prepare[0]","attribute":["result","build_plan_filename"]},{"resource":"module.layer7.aws_lambda_event_source_mapping.this","attribute":[]},{"resource":"module.function11.aws_lambda_function_url.this[0]","attribute":["function_url"]},{"resource":"module.function11.aws_lambda_function.this[0]","attribute":["signing_profile_version_arn"]},{"resource":"module.layer11.data.aws_cloudwatch_log_group.lambda[0]","attribute":["name"]},{"resource":"module.layer11.aws_lambda_function.this[0]","attribute":["source_code_hash"]},{"resource":"module.layer10.aws_s3_object.lambda_package[0]","attribute":["version_id"]},{"resource":"module.function7.data.aws_arn.log_group_arn[0]","attribute":["service"]},{"resource":"module.layer10.data.aws_arn.log_group_arn[0]","attribute":["partition"]},{"resource":"module.layer11.aws_cloudwatch_log_group.lambda[0]","attribute":["name"]},{"resource":"module.function8.aws_iam_policy.logs[0]","attribute":["arn"]},{"resource":"module.layer11.aws_lambda_layer_version.this[0]","attribute":["created_date"]},{"resource":"module.layer7.aws_lambda_function.this[0]","attribute":["source_code_hash"]},{"resource":"module.layer7.aws_lambda_layer_version.this[0]","attribute":["layer_arn"]},{"resource":"module.function11.aws_lambda_function.this[0]","attribute":["version"]},{"resource":"module.layer8.aws_cloudwatch_log_group.lambda[0]","attribute":["name"]},{"resource":"module.layer7.data.external.archive_prepare[0]","attribute":["result","was_missing"]},{"resource":"module.function11.data.aws_iam_policy_document.assume_role[0]","attribute":["json"]},{"resource":"module.function10.data.aws_iam_policy_document.logs[0]","attribute":["json"]},{"resource":"module.layer10.aws_lambda_function.this[0]","attribute":["invoke_arn"]},{"resource":"module.function9.aws_lambda_function.this[0]","attribute":["version"]},{"resource":"module.layer7.data.aws_arn.log_group_arn[0]","attribute":["partition"]},{"resource":"module.layer11.aws_cloudwatch_log_group.lambda[0]","attribute":["arn"]},{"resource":"module.layer11.aws_iam_role.lambda[0]","attribute":["name"]},{"resource":"module.layer9.aws_lambda_function.this[0]","attribute":["signing_profile_version_arn"]},{"resource":"module.layer11.aws_lambda_layer_version.this[0]","attribute":["layer_arn"]},{"resource":"module.layer8.aws_lambda_layer_version.this[0]","attribute":["source_code_size"]},{"resource":"module.function9.aws_lambda_function.this[0]","attribute":["source_code_size"]},{"resource":"module.function9.data.aws_arn.log_group_arn[0]","attribute":["resource"]},{"resource":"module.function11.aws_lambda_layer_version.this[0]","attribute":["source_code_size"]},{"resource":"module.layer8.aws_lambda_layer_version.this[0]","attribute":["arn"]},{"resource":"module.function10.aws_lambda_layer_version.this[0]","attribute":["source_code_size"]},{"resource":"module.function7.aws_lambda_function.this[0]","attribute":["function_name"]},{"resource":"module.function7.aws_lambda_function.this[0]","attribute":["invoke_arn"]},{"resource":"module.layer8.data.external.archive_prepare[0]","attribute":["result","was_missing"]},{"resource":"module.function9.data.external.archive_prepare[0]","attribute":["result","was_missing"]},{"resource":"module.function8.data.aws_arn.log_group_arn[0]","attribute":["partition"]},{"resource":"module.function8.data.external.archive_prepare[0]","attribute":["result","build_plan_filename"]},{"resource":"module.function2.aws_iam_role.iam_for_lambda","attribute":["arn"]},{"resource":"module.layer10.aws_iam_role.lambda[0]","attribute":["name"]},{"resource":"module.layer9.aws_lambda_function.this[0]","attribute":["function_name"]},{"resource":"module.function8.aws_iam_role.lambda[0]","attribute":["unique_id"]},{"resource":"module.layer8.aws_lambda_function.this[0]","attribute":["last_modified"]},{"resource":"module.layer7.aws_lambda_function_url.this[0]","attribute":["function_url"]},{"resource":"module.function9.aws_lambda_layer_version.this[0]","attribute":["version"]},{"resource":"module.layer11.data.aws_arn.log_group_arn[0]","attribute":["service"]},{"resource":"module.function8.data.external.archive_prepare[0]","attribute":["result","filename"]},{"resource":"module.layer11.aws_lambda_function_url.this[0]","attribute":["url_id"]},{"resource":"module.function11.aws_lambda_layer_version.this[0]","attribute":["layer_arn"]},{"resource":"module.layer8.aws_lambda_layer_version.this[0]","attribute":["version"]},{"resource":"module.layer7.aws_lambda_layer_version.this[0]","attribute":["version"]},{"resource":"module.function8.aws_lambda_function_url.this[0]","attribute":["function_url"]},{"resource":"module.function8.data.aws_arn.log_group_arn[0]","attribute":["account"]},{"resource":"module.layer11.data.aws_arn.log_group_arn[0]","attribute":["resource"]},{"resource":"module.layer9.data.aws_cloudwatch_log_group.lambda[0]","attribute":["arn"]},{"resource":"module.function10.aws_lambda_function.this[0]","attribute":["version"]},{"resource":"module.function8.data.external.archive_prepare[0]","attribute":["result","build_plan"]},{"resource":"module.function10.data.aws_iam_policy_document.assume_role[0]","attribute":["json"]},{"resource":"module.function7.aws_iam_role.lambda[0]","attribute":["arn"]},{"resource":"module.layer8.aws_iam_role.lambda[0]","attribute":["unique_id"]},{"resource":"module.function9.aws_lambda_layer_version.this[0]","attribute":["layer_arn"]},{"resource":"module.layer10.aws_lambda_function.this[0]","attribute":["source_code_size"]},{"resource":"module.function9.aws_lambda_function.this[0]","attribute":["arn"]},{"resource":"module.function9.data.external.archive_prepare[0]","attribute":["result","filename"]},{"resource":"module.layer7.data.aws_cloudwatch_log_group.lambda[0]","attribute":["name"]},{"resource":"module.function11.aws_lambda_event_source_mapping.this","attribute":[]},{"resource":"module.function9.data.aws_iam_policy_document.assume_role[0]","attribute":["json"]},{"resource":"module.layer9.aws_lambda_function.this[0]","attribute":["qualified_arn"]},{"resource":"module.layer11.aws_lambda_function.this[0]","attribute":["signing_job_arn"]},{"resource":"module.layer11.aws_lambda_function.this[0]","attribute":["arn"]},{"resource":"module.function7.aws_lambda_layer_version.this[0]","attribute":["source_code_size"]},{"resource":"module.layer7.aws_lambda_function.this[0]","attribute":["source_code_size"]},{"resource":"module.function11.aws_lambda_function.this[0]","attribute":["arn"]},{"resource":"module.function8.aws_lambda_function.this[0]","attribute":["source_code_hash"]},{"resource":"module.layer7.aws_cloudwatch_log_group.lambda[0]","attribute":["name"]},{"resource":"module.layer8.data.aws_cloudwatch_log_group.lambda[0]","attribute":["arn"]},{"resource":"module.function7.aws_cloudwatch_log_group.lambda[0]","attribute":["arn"]},{"resource":"module.layer11.data.aws_cloudwatch_log_group.lambda[0]","attribute":["arn"]},{"resource":"module.function11.data.aws_cloudwatch_log_group.lambda[0]","attribute":["arn"]},{"resource":"module.layer8.data.aws_arn.log_group_arn[0]","attribute":["partition"]},{"resource":"module.function8.data.aws_iam_policy_document.assume_role[0]","attribute":["json"]},{"resource":"aws_lambda_layer_version.layer4","attribute":["arn"]},{"resource":"module.function11.aws_iam_policy.logs[0]","attribute":["arn"]},{"resource":"module.function10.aws_iam_policy.logs[0]","attribute":["arn"]},{"resource":"module.function11.aws_lambda_layer_version.this[0]","attribute":["version"]},{"resource":"module.layer7.aws_lambda_function.this[0]","attribute":["invoke_arn"]},{"resource":"module.function9.aws_lambda_function_url.this[0]","attribute":["url_id"]},{"resource":"module.function11.data.aws_arn.log_group_arn[0]","attribute":["account"]},{"resource":"module.function8.aws_lambda_function.this[0]","attribute":["arn"]},{"resource":"module.function8.data.aws_iam_policy_document.logs[0]","attribute":["json"]},{"resource":"module.layer10.aws_iam_role.lambda[0]","attribute":["unique_id"]},{"resource":"module.layer9.aws_lambda_function.this[0]","attribute":["kms_key_arn"]},{"resource":"module.layer7.aws_lambda_function.this[0]","attribute":["qualified_arn"]},{"resource":"module.layer8.aws_lambda_layer_version.this[0]","attribute":["created_date"]},{"resource":"module.layer10.aws_lambda_layer_version.this[0]","attribute":["arn"]},{"resource":"module.function9.aws_lambda_function_url.this[0]","attribute":["function_url"]},{"resource":"module.function7.aws_lambda_function.this[0]","attribute":["signing_profile_version_arn"]},{"resource":"module.function11.data.aws_arn.log_group_arn[0]","attribute":["partition"]},{"resource":"module.function9.data.aws_cloudwatch_log_group.lambda[0]","attribute":["arn"]},{"resource":"module.layer8.data.external.archive_prepare[0]","attribute":["result","filename"]},{"resource":"module.layer11.data.external.archive_prepare[0]","attribute":["result","filename"]},{"resource":"module.function9.aws_iam_policy.logs[0]","attribute":["arn"]},{"resource":"module.layer11.data.external.archive_prepare[0]","attribute":["result","build_plan_filename"]},{"resource":"module.function11.data.external.archive_prepare[0]","attribute":["result","build_plan_filename"]},{"resource":"module.function9.aws_lambda_function.this[0]","attribute":["source_code_hash"]},{"resource":"module.function8.aws_lambda_layer_version.this[0]","attribute":["created_date"]},{"resource":"module.layer10.aws_lambda_function.this[0]","attribute":["function_name"]},{"resource":"module.layer7.data.aws_arn.log_group_arn[0]","attribute":["resource"]},{"resource":"module.layer8.data.external.archive_prepare[0]","attribute":["result","timestamp"]},{"resource":"aws_s3_bucket.lambda_code_bucket","attribute":["id"]},{"resource":"module.layer7.aws_lambda_function.this[0]","attribute":["function_name"]},{"resource":"module.layer10.aws_lambda_layer_version.this[0]","attribute":["version"]},{"resource":"module.function8.aws_lambda_function.this[0]","attribute":["source_code_size"]},{"resource":"module.layer8.aws_s3_object.lambda_package[0]","attribute":["version_id"]},{"resource":"module.function8.data.aws_cloudwatch_log_group.lambda[0]","attribute":["arn"]},{"resource":"module.layer7.aws_iam_role.lambda[0]","attribute":["unique_id"]},{"resource":"module.function7.aws_lambda_function.this[0]","attribute":["signing_job_arn"]},{"resource":"module.function10.aws_lambda_function_url.this[0]","attribute":["function_url"]},{"resource":"module.function10.aws_lambda_function_url.this[0]","attribute":["url_id"]},{"resource":"module.function7.aws_s3_object.lambda_package[0]","attribute":["version_id"]},{"resource":"module.function9.data.aws_arn.log_group_arn[0]","attribute":["account"]},{"resource":"module.function8.data.external.archive_prepare[0]","attribute":["result","was_missing"]},{"resource":"module.layer10.data.external.archive_prepare[0]","attribute":["result","build_plan"]},{"resource":"module.function11.aws_iam_role.lambda[0]","attribute":["name"]},{"resource":"module.layer8.aws_lambda_function.this[0]","attribute":["source_code_hash"]},{"resource":"module.layer10.data.external.archive_prepare[0]","attribute":["result","was_missing"]},{"resource":"module.layer7.data.aws_cloudwatch_log_group.lambda[0]","attribute":["arn"]},{"resource":"module.layer11.data.external.archive_prepare[0]","attribute":["result","build_plan"]},{"resource":"module.layer9.aws_lambda_function.this[0]","attribute":["arn"]},{"resource":"module.function10.aws_lambda_function.this[0]","attribute":["function_name"]},{"resource":"module.layer7.aws_cloudwatch_log_group.lambda[0]","attribute":["arn"]},{"resource":"module.layer9.aws_lambda_function.this[0]","attribute":["version"]},{"resource":"module.layer8.aws_lambda_event_source_mapping.this","attribute":[]},{"resource":"module.layer8.aws_lambda_function_url.this[0]","attribute":["url_id"]},{"resource":"module.function10.aws_lambda_layer_version.this[0]","attribute":["layer_arn"]},{"resource":"module.layer9.data.external.archive_prepare[0]","attribute":["result","filename"]},{"resource":"module.layer10.data.aws_cloudwatch_log_group.lambda[0]","attribute":["name"]},{"resource":"module.layer10.data.external.archive_prepare[0]","attribute":["result","timestamp"]},{"resource":"module.layer9.aws_lambda_function.this[0]","attribute":["last_modified"]},{"resource":"module.layer8.aws_lambda_function.this[0]","attribute":["function_name"]},{"resource":"module.layer11.aws_lambda_layer_version.this[0]","attribute":["arn"]},{"resource":"module.layer10.aws_lambda_function.this[0]","attribute":["source_code_hash"]},{"resource":"module.layer7.aws_s3_object.lambda_package[0]","attribute":["version_id"]},{"resource":"module.function9.data.aws_arn.log_group_arn[0]","attribute":["partition"]},{"resource":"module.function11.aws_lambda_function.this[0]","attribute":["source_code_size"]},{"resource":"module.function10.data.aws_arn.log_group_arn[0]","attribute":["resource"]},{"resource":"module.layer10.data.aws_arn.log_group_arn[0]","attribute":["account"]},{"resource":"module.function8.data.aws_cloudwatch_log_group.lambda[0]","attribute":["name"]},{"resource":"module.function10.aws_cloudwatch_log_group.lambda[0]","attribute":["arn"]},{"resource":"module.function7.aws_lambda_event_source_mapping.this","attribute":[]},{"resource":"aws_lambda_layer_version.layer1[0]","attribute":["arn"]},{"resource":"aws_lambda_layer_version.layer3[\"my_idx\"]","attribute":["arn"]},{"resource":"module.layer9.aws_lambda_event_source_mapping.this","attribute":[]},{"resource":"module.layer8.aws_lambda_function.this[0]","attribute":["signing_profile_version_arn"]},{"resource":"module.function11.aws_lambda_function.this[0]","attribute":["source_code_hash"]},{"resource":"module.function9.aws_lambda_event_source_mapping.this","attribute":[]},{"resource":"module.function7.aws_lambda_function.this[0]","attribute":["version"]},{"resource":"module.function10.aws_lambda_function.this[0]","attribute":["invoke_arn"]},{"resource":"module.layer9.data.aws_arn.log_group_arn[0]","attribute":["partition"]},{"resource":"module.function8.data.external.archive_prepare[0]","attribute":["result","timestamp"]},{"resource":"module.function9.aws_iam_role.lambda[0]","attribute":["arn"]},{"resource":"module.layer9.aws_iam_role.lambda[0]","attribute":["arn"]},{"resource":"module.function9.aws_iam_role.lambda[0]","attribute":["unique_id"]},{"resource":"module.function9.aws_lambda_function.this[0]","attribute":["last_modified"]},{"resource":"module.function10.aws_lambda_event_source_mapping.this","attribute":[]},{"resource":"module.function7.data.aws_arn.log_group_arn[0]","attribute":["account"]},{"resource":"module.layer11.aws_s3_object.lambda_package[0]","attribute":["version_id"]},{"resource":"module.function7.data.external.archive_prepare[0]","attribute":["result","build_plan_filename"]},{"resource":"module.layer8.aws_lambda_function.this[0]","attribute":["qualified_arn"]},{"resource":"module.layer10.aws_lambda_function.this[0]","attribute":["qualified_arn"]},{"resource":"module.layer10.aws_lambda_function.this[0]","attribute":["arn"]},{"resource":"module.layer7.aws_lambda_layer_version.this[0]","attribute":["created_date"]},{"resource":"module.layer7.aws_lambda_function.this[0]","attribute":["signing_job_arn"]},{"resource":"module.function10.data.external.archive_prepare[0]","attribute":["result","filename"]},{"resource":"aws_lambda_layer_version.layer5","attribute":["arn"]},{"resource":"module.function7.data.aws_iam_policy_document.logs[0]","attribute":["json"]},{"resource":"module.function9.aws_iam_role.lambda[0]","attribute":["name"]},{"resource":"module.layer9.aws_lambda_function.this[0]","attribute":["invoke_arn"]},{"resource":"module.layer11.aws_lambda_function.this[0]","attribute":["invoke_arn"]},{"resource":"module.layer7.aws_lambda_function.this[0]","attribute":["arn"]},{"resource":"module.layer10.aws_cloudwatch_log_group.lambda[0]","attribute":["arn"]},{"resource":"module.function10.data.aws_arn.log_group_arn[0]","attribute":["partition"]},{"resource":"module.function10.aws_lambda_function.this[0]","attribute":["signing_profile_version_arn"]},{"resource":"module.function7.aws_iam_policy.logs[0]","attribute":["arn"]},{"resource":"module.layer11.aws_iam_role.lambda[0]","attribute":["unique_id"]},{"resource":"module.layer11.aws_lambda_event_source_mapping.this","attribute":[]},{"resource":"module.function8.aws_lambda_layer_version.this[0]","attribute":["layer_arn"]},{"resource":"module.function7.aws_lambda_layer_version.this[0]","attribute":["created_date"]},{"resource":"module.layer10.aws_lambda_function.this[0]","attribute":["last_modified"]},{"resource":"module.layer10.aws_lambda_layer_version.this[0]","attribute":["created_date"]},{"resource":"module.function11.data.external.archive_prepare[0]","attribute":["result","was_missing"]},{"resource":"module.layer10.data.external.archive_prepare[0]","attribute":["result","build_plan_filename"]},{"resource":"module.layer9.aws_lambda_function_url.this[0]","attribute":["function_url"]},{"resource":"module.layer11.aws_lambda_function_url.this[0]","attribute":["function_url"]},{"resource":"module.layer10.aws_lambda_event_source_mapping.this","attribute":[]},{"resource":"module.function9.aws_lambda_function.this[0]","attribute":["qualified_arn"]},{"resource":"module.function11.data.aws_arn.log_group_arn[0]","attribute":["service"]},{"resource":"module.function7.data.aws_arn.log_group_arn[0]","attribute":["resource"]},{"resource":"module.layer9.data.aws_arn.log_group_arn[0]","attribute":["resource"]},{"resource":"module.layer10.data.external.archive_prepare[0]","attribute":["result","filename"]},{"resource":"module.layer9.aws_iam_role.lambda[0]","attribute":["name"]},{"resource":"module.layer8.aws_lambda_function.this[0]","attribute":["kms_key_arn"]},{"resource":"module.function11.aws_lambda_function.this[0]","attribute":["function_name"]},{"resource":"module.function9.aws_lambda_function.this[0]","attribute":["invoke_arn"]},{"resource":"module.function7.aws_cloudwatch_log_group.lambda[0]","attribute":["name"]},{"resource":"module.function7.data.external.archive_prepare[0]","attribute":["result","was_missing"]},{"resource":"module.layer7.aws_iam_role.lambda[0]","attribute":["arn"]},{"resource":"module.layer9.aws_lambda_function.this[0]","attribute":["signing_job_arn"]},{"resource":"module.layer9.aws_lambda_layer_version.this[0]","attribute":["arn"]},{"resource":"module.function11.aws_lambda_layer_version.this[0]","attribute":["arn"]},{"resource":"module.function9.aws_lambda_function.this[0]","attribute":["signing_profile_version_arn"]},{"resource":"module.layer11.data.external.archive_prepare[0]","attribute":["result","was_missing"]},{"resource":"module.function9.aws_cloudwatch_log_group.lambda[0]","attribute":["arn"]},{"resource":"module.layer10.aws_iam_role.lambda[0]","attribute":["arn"]},{"resource":"module.layer9.aws_lambda_function.this[0]","attribute":["source_code_size"]},{"resource":"module.function10.aws_lambda_function.this[0]","attribute":["signing_job_arn"]},{"resource":"module.function7.aws_lambda_function_url.this[0]","attribute":["url_id"]},{"resource":"module.layer9.aws_s3_object.lambda_package[0]","attribute":["version_id"]},{"resource":"module.layer11.data.external.archive_prepare[0]","attribute":["result","timestamp"]},{"resource":"module.layer8.aws_lambda_function.this[0]","attribute":["signing_job_arn"]},{"resource":"module.function8.aws_lambda_event_source_mapping.this","attribute":[]},{"resource":"module.layer9.data.aws_cloudwatch_log_group.lambda[0]","attribute":["name"]},{"resource":"module.function9.data.aws_cloudwatch_log_group.lambda[0]","attribute":["name"]},{"resource":"module.function10.data.aws_cloudwatch_log_group.lambda[0]","attribute":["name"]},{"resource":"module.layer9.aws_cloudwatch_log_group.lambda[0]","attribute":["arn"]},{"resource":"module.layer7.aws_lambda_function.this[0]","attribute":["last_modified"]},{"resource":"module.function8.aws_lambda_function.this[0]","attribute":["function_name"]},{"resource":"module.function7.aws_iam_role.lambda[0]","attribute":["unique_id"]},{"resource":"module.layer8.data.aws_arn.log_group_arn[0]","attribute":["resource"]},{"resource":"module.function10.data.external.archive_prepare[0]","attribute":["result","was_missing"]},{"resource":"module.layer11.aws_lambda_function.this[0]","attribute":["last_modified"]},{"resource":"module.layer7.aws_lambda_function.this[0]","attribute":["signing_profile_version_arn"]},{"resource":"module.function10.aws_lambda_layer_version.this[0]","attribute":["arn"]},{"resource":"module.function11.aws_iam_role.lambda[0]","attribute":["unique_id"]},{"resource":"module.layer9.aws_lambda_layer_version.this[0]","attribute":["source_code_size"]},{"resource":"module.function8.aws_lambda_layer_version.this[0]","attribute":["version"]},{"resource":"module.layer10.aws_lambda_function.this[0]","attribute":["version"]},{"resource":"module.function11.aws_lambda_function.this[0]","attribute":["last_modified"]},{"resource":"module.function9.aws_lambda_function.this[0]","attribute":["signing_job_arn"]},{"resource":"module.function10.aws_lambda_function.this[0]","attribute":["source_code_hash"]},{"resource":"random_uuid.s3_bucket","attribute":["result"]},{"resource":"module.function8.aws_iam_role.lambda[0]","attribute":["arn"]},{"resource":"module.layer7.aws_lambda_function.this[0]","attribute":["kms_key_arn"]},{"resource":"module.layer8.aws_lambda_layer_version.this[0]","attribute":["layer_arn"]},{"resource":"module.function10.aws_lambda_function.this[0]","attribute":["source_code_size"]},{"resource":"module.function7.data.external.archive_prepare[0]","attribute":["result","build_plan"]},{"resource":"module.layer7.data.external.archive_prepare[0]","attribute":["result","timestamp"]},{"resource":"module.function9.data.aws_arn.log_group_arn[0]","attribute":["service"]},{"resource":"module.layer8.aws_cloudwatch_log_group.lambda[0]","attribute":["arn"]},{"resource":"module.layer9.aws_lambda_function.this[0]","attribute":["source_code_hash"]},{"resource":"module.layer7.aws_lambda_layer_version.this[0]","attribute":["arn"]},{"resource":"module.function8.aws_lambda_function.this[0]","attribute":["last_modified"]},{"resource":"module.function9.aws_cloudwatch_log_group.lambda[0]","attribute":["name"]},{"resource":"module.function10.aws_iam_role.lambda[0]","attribute":["name"]},{"resource":"module.layer8.aws_iam_role.lambda[0]","attribute":["arn"]},{"resource":"module.layer10.aws_lambda_function.this[0]","attribute":["signing_profile_version_arn"]},{"resource":"module.function8.aws_lambda_function.this[0]","attribute":["signing_job_arn"]},{"resource":"module.layer8.data.aws_arn.log_group_arn[0]","attribute":["service"]},{"resource":"module.layer8.data.aws_arn.log_group_arn[0]","attribute":["account"]},{"resource":"module.function11.aws_cloudwatch_log_group.lambda[0]","attribute":["name"]},{"resource":"module.layer10.aws_cloudwatch_log_group.lambda[0]","attribute":["name"]},{"resource":"module.layer11.aws_lambda_function.this[0]","attribute":["signing_profile_version_arn"]},{"resource":"module.function8.aws_lambda_function.this[0]","attribute":["version"]},{"resource":"module.function7.aws_lambda_function.this[0]","attribute":["arn"]},{"resource":"module.function7.data.aws_cloudwatch_log_group.lambda[0]","attribute":["name"]},{"resource":"module.layer11.data.aws_arn.log_group_arn[0]","attribute":["partition"]},{"resource":"module.function11.aws_s3_object.lambda_package[0]","attribute":["version_id"]},{"resource":"module.function7.data.aws_cloudwatch_log_group.lambda[0]","attribute":["arn"]},{"resource":"module.layer11.aws_lambda_layer_version.this[0]","attribute":["version"]},{"resource":"module.function8.aws_lambda_layer_version.this[0]","attribute":["source_code_size"]},{"resource":"module.layer7.aws_lambda_layer_version.this[0]","attribute":["source_code_size"]},{"resource":"module.function8.aws_lambda_function.this[0]","attribute":["qualified_arn"]},{"resource":"module.layer9.data.external.archive_prepare[0]","attribute":["result","was_missing"]},{"resource":"aws_s3_bucket.lambda_code_bucket","attribute":["bucket"]},{"resource":"module.layer2.aws_lambda_layer_version.layer","attribute":["arn"]},{"resource":"module.layer11.aws_lambda_function.this[0]","attribute":["source_code_size"]},{"resource":"module.layer10.aws_lambda_function.this[0]","attribute":["kms_key_arn"]},{"resource":"module.layer10.aws_lambda_layer_version.this[0]","attribute":["layer_arn"]},{"resource":"module.function11.aws_lambda_function.this[0]","attribute":["signing_job_arn"]},{"resource":"module.function10.aws_lambda_function.this[0]","attribute":["arn"]},{"resource":"module.layer9.aws_lambda_function_url.this[0]","attribute":["url_id"]},{"resource":"module.layer8.aws_lambda_function.this[0]","attribute":["arn"]},{"resource":"module.function11.data.aws_iam_policy_document.logs[0]","attribute":["json"]},{"resource":"module.function9.aws_lambda_layer_version.this[0]","attribute":["source_code_size"]},{"resource":"module.layer11.aws_lambda_function.this[0]","attribute":["version"]},{"resource":"module.function10.aws_lambda_layer_version.this[0]","attribute":["created_date"]},{"resource":"module.function8.data.aws_arn.log_group_arn[0]","attribute":["resource"]},{"resource":"module.layer7.data.aws_arn.log_group_arn[0]","attribute":["service"]},{"resource":"module.layer7.data.aws_arn.log_group_arn[0]","attribute":["account"]},{"resource":"module.function8.aws_s3_object.lambda_package[0]","attribute":["version_id"]},{"resource":"module.layer8.data.external.archive_prepare[0]","attribute":["result","build_plan"]},{"resource":"module.function11.data.external.archive_prepare[0]","attribute":["result","filename"]},{"resource":"module.function10.aws_iam_role.lambda[0]","attribute":["unique_id"]},{"resource":"module.layer11.aws_lambda_function.this[0]","attribute":["qualified_arn"]},{"resource":"module.layer8.aws_lambda_function.this[0]","attribute":["invoke_arn"]},{"resource":"module.function8.aws_lambda_function_url.this[0]","attribute":["url_id"]},{"resource":"module.function7.data.aws_arn.log_group_arn[0]","attribute":["partition"]},{"resource":"module.function11.data.external.archive_prepare[0]","attribute":["result","build_plan"]},{"resource":"module.layer10.aws_lambda_function_url.this[0]","attribute":["url_id"]},{"resource":"module.function8.aws_lambda_function.this[0]","attribute":["signing_profile_version_arn"]},{"resource":"module.layer9.aws_cloudwatch_log_group.lambda[0]","attribute":["name"]},{"resource":"module.layer10.data.aws_arn.log_group_arn[0]","attribute":["resource"]},{"resource":"module.function8.data.aws_arn.log_group_arn[0]","attribute":["service"]},{"resource":"module.layer8.aws_iam_role.lambda[0]","attribute":["name"]},{"resource":"module.function9.aws_lambda_layer_version.this[0]","attribute":["created_date"]},{"resource":"module.function11.aws_lambda_function_url.this[0]","attribute":["url_id"]},{"resource":"module.function9.aws_lambda_function.this[0]","attribute":["function_name"]},{"resource":"module.level1_lambda.aws_iam_role.iam_for_lambda","attribute":["arn"]},{"resource":"module.layer9.aws_lambda_layer_version.this[0]","attribute":["created_date"]},{"resource":"module.function10.aws_lambda_function.this[0]","attribute":["qualified_arn"]},{"resource":"module.function10.data.aws_arn.log_group_arn[0]","attribute":["account"]},{"resource":"module.layer11.data.aws_arn.log_group_arn[0]","attribute":["account"]},{"resource":"module.function11.data.aws_cloudwatch_log_group.lambda[0]","attribute":["name"]},{"resource":"module.layer8.data.external.archive_prepare[0]","attribute":["result","build_plan_filename"]},{"resource":"module.function11.aws_lambda_function.this[0]","attribute":["invoke_arn"]},{"resource":"module.function8.aws_lambda_function.this[0]","attribute":["invoke_arn"]},{"resource":"module.function11.aws_cloudwatch_log_group.lambda[0]","attribute":["arn"]},{"resource":"module.layer8.aws_lambda_function.this[0]","attribute":["version"]},{"resource":"module.function7.aws_lambda_layer_version.this[0]","attribute":["version"]},{"resource":"module.function11.aws_lambda_layer_version.this[0]","attribute":["created_date"]},{"resource":"module.function7.aws_lambda_function_url.this[0]","attribute":["function_url"]},{"resource":"module.function10.data.aws_arn.log_group_arn[0]","attribute":["service"]},{"resource":"module.function11.data.aws_arn.log_group_arn[0]","attribute":["resource"]},{"resource":"module.function9.aws_s3_object.lambda_package[0]","attribute":["version_id"]}]}
